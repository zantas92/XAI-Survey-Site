{"ast":null,"code":"import Home from'./pages/protected/Home';import Survey from'./pages/protected/Survey';import Login from'./pages/auth/Login';import'./css/App.css';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import ProtectedRoutes from'./utils/ProtectedRoutes';import{useEffect}from'react';import{auth}from'./configs/firebaseConfig';import{onAuthStateChanged}from\"firebase/auth\";import{useSelector,useDispatch}from\"react-redux\";import{saveUser}from\"./redux/slice/authSlice\";import MobileAndTablets from'../src/components/MobileAndTablets';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var user=useSelector(function(state){return state.auth.value;});var dispatch=useDispatch();useEffect(function(){wakeupServer();onAuthStateChanged(auth,function(user){if(user){dispatch(saveUser(user.uid));}else{dispatch(saveUser(undefined));sessionStorage.removeItem('pixelData',undefined);sessionStorage.removeItem('rankData',undefined);sessionStorage.removeItem('questionaireData',undefined);}});},[auth,dispatch]);function wakeupServer(){fetch(\"https://stormy-plains-42247.herokuapp.com/test\");};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(MobileAndTablets,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?/*#__PURE__*/_jsx(Home,{}):/*#__PURE__*/_jsx(Login,{}),replace:true}),/*#__PURE__*/_jsx(Route,{path:\"/home\",replace:true,element:/*#__PURE__*/_jsx(ProtectedRoutes,{}),children:/*#__PURE__*/_jsx(Route,{path:\"/home\",replace:true,element:/*#__PURE__*/_jsx(Home,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/survey\",replace:true,element:/*#__PURE__*/_jsx(ProtectedRoutes,{}),children:/*#__PURE__*/_jsx(Route,{path:\"/survey\",replace:true,element:/*#__PURE__*/_jsx(Survey,{})})})]})]})});}export default App;","map":{"version":3,"sources":["C:/Users/zantas92/Documents/EnkÃ¤t/Client/src/App.js"],"names":["Home","Survey","Login","BrowserRouter","Router","Routes","Route","ProtectedRoutes","useEffect","auth","onAuthStateChanged","useSelector","useDispatch","saveUser","MobileAndTablets","App","user","state","value","dispatch","wakeupServer","uid","undefined","sessionStorage","removeItem","fetch"],"mappings":"AAAA,MAAOA,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAO,eAAP,CACA,OAAQC,aAAa,GAAIC,CAAAA,MAAzB,CAAiCC,MAAjC,CAAyCC,KAAzC,KAAsD,kBAAtD,CACA,MAAOC,CAAAA,eAAP,KAA4B,yBAA5B,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,IAAT,KAAqB,0BAArB,CACA,OAASC,kBAAT,KAAmC,eAAnC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,QAAT,KAAwB,yBAAxB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,IAAI,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAWA,CAAAA,KAAK,CAACR,IAAN,CAAWS,KAAtB,EAAD,CAAxB,CACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACAJ,SAAS,CAAC,UAAM,CACdY,YAAY,GACZV,kBAAkB,CAACD,IAAD,CAAO,SAACO,IAAD,CAAU,CACjC,GAAIA,IAAJ,CAAU,CACRG,QAAQ,CAACN,QAAQ,CAACG,IAAI,CAACK,GAAN,CAAT,CAAR,CACD,CAFD,IAEO,CACLF,QAAQ,CAACN,QAAQ,CAACS,SAAD,CAAT,CAAR,CACAC,cAAc,CAACC,UAAf,CAA0B,WAA1B,CAAuCF,SAAvC,EACAC,cAAc,CAACC,UAAf,CAA0B,UAA1B,CAAsCF,SAAtC,EACAC,cAAc,CAACC,UAAf,CAA0B,kBAA1B,CAA8CF,SAA9C,EACD,CACF,CATiB,CAAlB,CAUD,CAZQ,CAYN,CAACb,IAAD,CAAOU,QAAP,CAZM,CAAT,CAcA,QAASC,CAAAA,YAAT,EAAwB,CACtBK,KAAK,CAAC,gDAAD,CAAL,CACD,EAGD,mBACE,KAAC,MAAD,wBACA,aAAK,SAAS,CAAC,KAAf,wBACA,KAAC,gBAAD,IADA,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,CAAET,IAAI,cAAG,KAAC,IAAD,IAAH,cAAc,KAAC,KAAD,IAA3C,CAAqD,OAAO,KAA5D,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,KAA3B,CAA4B,OAAO,cAAE,KAAC,eAAD,IAArC,uBACA,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,KAA3B,CAA4B,OAAO,cAAE,KAAC,IAAD,IAArC,EADA,EAFF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,KAA7B,CAA8B,OAAO,cAAE,KAAC,eAAD,IAAvC,uBACA,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,KAA7B,CAA8B,OAAO,cAAE,KAAC,MAAD,IAAvC,EADA,EALF,GAFF,GADA,EADF,CAgBD,CAED,cAAeD,CAAAA,GAAf","sourcesContent":["import Home from './pages/protected/Home';\nimport Survey from './pages/protected/Survey';\nimport Login from './pages/auth/Login';\nimport './css/App.css';\nimport {BrowserRouter as Router, Routes, Route } from 'react-router-dom'\nimport ProtectedRoutes from './utils/ProtectedRoutes';\nimport { useEffect } from 'react';\nimport { auth } from './configs/firebaseConfig';\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { saveUser} from \"./redux/slice/authSlice\";\nimport MobileAndTablets from '../src/components/MobileAndTablets';\n\nfunction App() {\n  const user = useSelector((state) => state.auth.value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    wakeupServer();\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        dispatch(saveUser(user.uid));\n      } else {\n        dispatch(saveUser(undefined));\n        sessionStorage.removeItem('pixelData', undefined);\n        sessionStorage.removeItem('rankData', undefined);\n        sessionStorage.removeItem('questionaireData', undefined);\n      }\n    });\n  }, [auth, dispatch]);\n\n  function wakeupServer() {\n    fetch(\"https://stormy-plains-42247.herokuapp.com/test\"); \n  };\n\n\n  return (\n    <Router>\n    <div className=\"app\">\n    <MobileAndTablets/>\n      <Routes>         \n        <Route path=\"/\" element={user ? <Home /> : <Login/>} replace/>\n        <Route path=\"/home\" replace element={<ProtectedRoutes/>}>\n        <Route path=\"/home\" replace element={<Home/>}/>\n        </Route>\n        <Route path=\"/survey\" replace element={<ProtectedRoutes/>}>\n        <Route path=\"/survey\" replace element={<Survey/>}/>\n        </Route>\n      </Routes>\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}