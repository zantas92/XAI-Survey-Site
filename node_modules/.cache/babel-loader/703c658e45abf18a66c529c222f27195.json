{"ast":null,"code":"/*\n * qTip2 - Pretty powerful tooltips - v3.0.3\n * http://qtip2.com\n *\n * Copyright (c) 2016 \n * Released under the MIT licenses\n * http://jquery.org/license\n *\n * Date: Wed May 11 2016 10:31 GMT+0100+0100\n * Plugins: tips modal viewport svg imagemap ie6\n * Styles: core basic css3\n */\n\n/*global window: false, jQuery: false, console: false, define: false */\n\n/* Cache window, document, undefined */\n(function (window, document, undefined) {\n  // Uses AMD or browser globals to create a jQuery plugin.\n  (function (factory) {\n    \"use strict\";\n\n    if (typeof define === 'function' && define.amd) {\n      define(['jquery'], factory);\n    } else if (jQuery && !jQuery.fn.qtip) {\n      factory(jQuery);\n    }\n  })(function ($) {\n    \"use strict\"; // Enable ECMAScript \"strict\" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\n\n    ; // Munge the primitives - Paul Irish tip\n\n    var TRUE = true,\n        FALSE = false,\n        NULL = null,\n        // Common variables\n    X = 'x',\n        Y = 'y',\n        WIDTH = 'width',\n        HEIGHT = 'height',\n        // Positioning sides\n    TOP = 'top',\n        LEFT = 'left',\n        BOTTOM = 'bottom',\n        RIGHT = 'right',\n        CENTER = 'center',\n        // Position adjustment types\n    FLIP = 'flip',\n        FLIPINVERT = 'flipinvert',\n        SHIFT = 'shift',\n        // Shortcut vars\n    QTIP,\n        PROTOTYPE,\n        CORNER,\n        CHECKS,\n        PLUGINS = {},\n        NAMESPACE = 'qtip',\n        ATTR_HAS = 'data-hasqtip',\n        ATTR_ID = 'data-qtip-id',\n        WIDGET = ['ui-widget', 'ui-tooltip'],\n        SELECTOR = '.' + NAMESPACE,\n        INACTIVE_EVENTS = 'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),\n        CLASS_FIXED = NAMESPACE + '-fixed',\n        CLASS_DEFAULT = NAMESPACE + '-default',\n        CLASS_FOCUS = NAMESPACE + '-focus',\n        CLASS_HOVER = NAMESPACE + '-hover',\n        CLASS_DISABLED = NAMESPACE + '-disabled',\n        replaceSuffix = '_replacedByqTip',\n        oldtitle = 'oldtitle',\n        trackingBound,\n        // Browser detection\n    BROWSER = {\n      /*\n       * IE version detection\n       *\n       * Adapted from: http://ajaxian.com/archives/attack-of-the-ie-conditional-comment\n       * Credit to James Padolsey for the original implemntation!\n       */\n      ie: function () {\n        /* eslint-disable no-empty */\n        var v, i;\n\n        for (v = 4, i = document.createElement('div'); (i.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->') && i.getElementsByTagName('i')[0]; v += 1) {}\n\n        return v > 4 ? v : NaN;\n        /* eslint-enable no-empty */\n      }(),\n\n      /*\n       * iOS version detection\n       */\n      iOS: parseFloat(('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '')) || FALSE\n    };\n    ;\n\n    function QTip(target, options, id, attr) {\n      // Elements and ID\n      this.id = id;\n      this.target = target;\n      this.tooltip = NULL;\n      this.elements = {\n        target: target\n      }; // Internal constructs\n\n      this._id = NAMESPACE + '-' + id;\n      this.timers = {\n        img: {}\n      };\n      this.options = options;\n      this.plugins = {}; // Cache object\n\n      this.cache = {\n        event: {},\n        target: $(),\n        disabled: FALSE,\n        attr: attr,\n        onTooltip: FALSE,\n        lastClass: ''\n      }; // Set the initial flags\n\n      this.rendered = this.destroyed = this.disabled = this.waiting = this.hiddenDuringWait = this.positioning = this.triggering = FALSE;\n    }\n\n    PROTOTYPE = QTip.prototype;\n\n    PROTOTYPE._when = function (deferreds) {\n      return $.when.apply($, deferreds);\n    };\n\n    PROTOTYPE.render = function (show) {\n      if (this.rendered || this.destroyed) {\n        return this;\n      } // If tooltip has already been rendered, exit\n\n\n      var self = this,\n          options = this.options,\n          cache = this.cache,\n          elements = this.elements,\n          text = options.content.text,\n          title = options.content.title,\n          button = options.content.button,\n          posOptions = options.position,\n          deferreds = []; // Add ARIA attributes to target\n\n      $.attr(this.target[0], 'aria-describedby', this._id); // Create public position object that tracks current position corners\n\n      cache.posClass = this._createPosClass((this.position = {\n        my: posOptions.my,\n        at: posOptions.at\n      }).my); // Create tooltip element\n\n      this.tooltip = elements.tooltip = $('<div/>', {\n        'id': this._id,\n        'class': [NAMESPACE, CLASS_DEFAULT, options.style.classes, cache.posClass].join(' '),\n        'width': options.style.width || '',\n        'height': options.style.height || '',\n        'tracking': posOptions.target === 'mouse' && posOptions.adjust.mouse,\n\n        /* ARIA specific attributes */\n        'role': 'alert',\n        'aria-live': 'polite',\n        'aria-atomic': FALSE,\n        'aria-describedby': this._id + '-content',\n        'aria-hidden': TRUE\n      }).toggleClass(CLASS_DISABLED, this.disabled).attr(ATTR_ID, this.id).data(NAMESPACE, this).appendTo(posOptions.container).append( // Create content element\n      elements.content = $('<div />', {\n        'class': NAMESPACE + '-content',\n        'id': this._id + '-content',\n        'aria-atomic': TRUE\n      })); // Set rendered flag and prevent redundant reposition calls for now\n\n      this.rendered = -1;\n      this.positioning = TRUE; // Create title...\n\n      if (title) {\n        this._createTitle(); // Update title only if its not a callback (called in toggle if so)\n\n\n        if (!$.isFunction(title)) {\n          deferreds.push(this._updateTitle(title, FALSE));\n        }\n      } // Create button\n\n\n      if (button) {\n        this._createButton();\n      } // Set proper rendered flag and update content if not a callback function (called in toggle)\n\n\n      if (!$.isFunction(text)) {\n        deferreds.push(this._updateContent(text, FALSE));\n      }\n\n      this.rendered = TRUE; // Setup widget classes\n\n      this._setWidget(); // Initialize 'render' plugins\n\n\n      $.each(PLUGINS, function (name) {\n        var instance;\n\n        if (this.initialize === 'render' && (instance = this(self))) {\n          self.plugins[name] = instance;\n        }\n      }); // Unassign initial events and assign proper events\n\n      this._unassignEvents();\n\n      this._assignEvents(); // When deferreds have completed\n\n\n      this._when(deferreds).then(function () {\n        // tooltiprender event\n        self._trigger('render'); // Reset flags\n\n\n        self.positioning = FALSE; // Show tooltip if not hidden during wait period\n\n        if (!self.hiddenDuringWait && (options.show.ready || show)) {\n          self.toggle(TRUE, cache.event, FALSE);\n        }\n\n        self.hiddenDuringWait = FALSE;\n      }); // Expose API\n\n\n      QTIP.api[this.id] = this;\n      return this;\n    };\n\n    PROTOTYPE.destroy = function (immediate) {\n      // Set flag the signify destroy is taking place to plugins\n      // and ensure it only gets destroyed once!\n      if (this.destroyed) {\n        return this.target;\n      }\n\n      function process() {\n        if (this.destroyed) {\n          return;\n        }\n\n        this.destroyed = TRUE;\n        var target = this.target,\n            title = target.attr(oldtitle),\n            timer; // Destroy tooltip if rendered\n\n        if (this.rendered) {\n          this.tooltip.stop(1, 0).find('*').remove().end().remove();\n        } // Destroy all plugins\n\n\n        $.each(this.plugins, function () {\n          this.destroy && this.destroy();\n        }); // Clear timers\n\n        for (timer in this.timers) {\n          if (this.timers.hasOwnProperty(timer)) {\n            clearTimeout(this.timers[timer]);\n          }\n        } // Remove api object and ARIA attributes\n\n\n        target.removeData(NAMESPACE).removeAttr(ATTR_ID).removeAttr(ATTR_HAS).removeAttr('aria-describedby'); // Reset old title attribute if removed\n\n        if (this.options.suppress && title) {\n          target.attr('title', title).removeAttr(oldtitle);\n        } // Remove qTip events associated with this API\n\n\n        this._unassignEvents(); // Remove ID from used id objects, and delete object references\n        // for better garbage collection and leak protection\n\n\n        this.options = this.elements = this.cache = this.timers = this.plugins = this.mouse = NULL; // Delete epoxsed API object\n\n        delete QTIP.api[this.id];\n      } // If an immediate destroy is needed\n\n\n      if ((immediate !== TRUE || this.triggering === 'hide') && this.rendered) {\n        this.tooltip.one('tooltiphidden', $.proxy(process, this));\n        !this.triggering && this.hide();\n      } // If we're not in the process of hiding... process\n      else {\n        process.call(this);\n      }\n\n      return this.target;\n    };\n\n    ;\n\n    function invalidOpt(a) {\n      return a === NULL || $.type(a) !== 'object';\n    }\n\n    function invalidContent(c) {\n      return !($.isFunction(c) || c && c.attr || c.length || $.type(c) === 'object' && (c.jquery || c.then));\n    } // Option object sanitizer\n\n\n    function sanitizeOptions(opts) {\n      var content, text, ajax, once;\n\n      if (invalidOpt(opts)) {\n        return FALSE;\n      }\n\n      if (invalidOpt(opts.metadata)) {\n        opts.metadata = {\n          type: opts.metadata\n        };\n      }\n\n      if ('content' in opts) {\n        content = opts.content;\n\n        if (invalidOpt(content) || content.jquery || content.done) {\n          text = invalidContent(content) ? FALSE : content;\n          content = opts.content = {\n            text: text\n          };\n        } else {\n          text = content.text;\n        } // DEPRECATED - Old content.ajax plugin functionality\n        // Converts it into the proper Deferred syntax\n\n\n        if ('ajax' in content) {\n          ajax = content.ajax;\n          once = ajax && ajax.once !== FALSE;\n          delete content.ajax;\n\n          content.text = function (event, api) {\n            var loading = text || $(this).attr(api.options.content.attr) || 'Loading...',\n                deferred = $.ajax($.extend({}, ajax, {\n              context: api\n            })).then(ajax.success, NULL, ajax.error).then(function (newContent) {\n              if (newContent && once) {\n                api.set('content.text', newContent);\n              }\n\n              return newContent;\n            }, function (xhr, status, error) {\n              if (api.destroyed || xhr.status === 0) {\n                return;\n              }\n\n              api.set('content.text', status + ': ' + error);\n            });\n            return !once ? (api.set('content.text', loading), deferred) : loading;\n          };\n        }\n\n        if ('title' in content) {\n          if ($.isPlainObject(content.title)) {\n            content.button = content.title.button;\n            content.title = content.title.text;\n          }\n\n          if (invalidContent(content.title || FALSE)) {\n            content.title = FALSE;\n          }\n        }\n      }\n\n      if ('position' in opts && invalidOpt(opts.position)) {\n        opts.position = {\n          my: opts.position,\n          at: opts.position\n        };\n      }\n\n      if ('show' in opts && invalidOpt(opts.show)) {\n        opts.show = opts.show.jquery ? {\n          target: opts.show\n        } : opts.show === TRUE ? {\n          ready: TRUE\n        } : {\n          event: opts.show\n        };\n      }\n\n      if ('hide' in opts && invalidOpt(opts.hide)) {\n        opts.hide = opts.hide.jquery ? {\n          target: opts.hide\n        } : {\n          event: opts.hide\n        };\n      }\n\n      if ('style' in opts && invalidOpt(opts.style)) {\n        opts.style = {\n          classes: opts.style\n        };\n      } // Sanitize plugin options\n\n\n      $.each(PLUGINS, function () {\n        this.sanitize && this.sanitize(opts);\n      });\n      return opts;\n    } // Setup builtin .set() option checks\n\n\n    CHECKS = PROTOTYPE.checks = {\n      builtin: {\n        // Core checks\n        '^id$': function id$(obj, o, v, prev) {\n          var id = v === TRUE ? QTIP.nextid : v,\n              newId = NAMESPACE + '-' + id;\n\n          if (id !== FALSE && id.length > 0 && !$('#' + newId).length) {\n            this._id = newId;\n\n            if (this.rendered) {\n              this.tooltip[0].id = this._id;\n              this.elements.content[0].id = this._id + '-content';\n              this.elements.title[0].id = this._id + '-title';\n            }\n          } else {\n            obj[o] = prev;\n          }\n        },\n        '^prerender': function prerender(obj, o, v) {\n          v && !this.rendered && this.render(this.options.show.ready);\n        },\n        // Content checks\n        '^content.text$': function contentText$(obj, o, v) {\n          this._updateContent(v);\n        },\n        '^content.attr$': function contentAttr$(obj, o, v, prev) {\n          if (this.options.content.text === this.target.attr(prev)) {\n            this._updateContent(this.target.attr(v));\n          }\n        },\n        '^content.title$': function contentTitle$(obj, o, v) {\n          // Remove title if content is null\n          if (!v) {\n            return this._removeTitle();\n          } // If title isn't already created, create it now and update\n\n\n          v && !this.elements.title && this._createTitle();\n\n          this._updateTitle(v);\n        },\n        '^content.button$': function contentButton$(obj, o, v) {\n          this._updateButton(v);\n        },\n        '^content.title.(text|button)$': function contentTitleTextButton$(obj, o, v) {\n          this.set('content.' + o, v); // Backwards title.text/button compat\n        },\n        // Position checks\n        '^position.(my|at)$': function positionMyAt$(obj, o, v) {\n          if ('string' === typeof v) {\n            this.position[o] = obj[o] = new CORNER(v, o === 'at');\n          }\n        },\n        '^position.container$': function positionContainer$(obj, o, v) {\n          this.rendered && this.tooltip.appendTo(v);\n        },\n        // Show checks\n        '^show.ready$': function showReady$(obj, o, v) {\n          v && (!this.rendered && this.render(TRUE) || this.toggle(TRUE));\n        },\n        // Style checks\n        '^style.classes$': function styleClasses$(obj, o, v, p) {\n          this.rendered && this.tooltip.removeClass(p).addClass(v);\n        },\n        '^style.(width|height)': function styleWidthHeight(obj, o, v) {\n          this.rendered && this.tooltip.css(o, v);\n        },\n        '^style.widget|content.title': function styleWidgetContentTitle() {\n          this.rendered && this._setWidget();\n        },\n        '^style.def': function styleDef(obj, o, v) {\n          this.rendered && this.tooltip.toggleClass(CLASS_DEFAULT, !!v);\n        },\n        // Events check\n        '^events.(render|show|move|hide|focus|blur)$': function eventsRenderShowMoveHideFocusBlur$(obj, o, v) {\n          this.rendered && this.tooltip[($.isFunction(v) ? '' : 'un') + 'bind']('tooltip' + o, v);\n        },\n        // Properties which require event reassignment\n        '^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)': function showHidePositionEventTargetFixedInactiveLeaveDistanceViewportAdjust() {\n          if (!this.rendered) {\n            return;\n          } // Set tracking flag\n\n\n          var posOptions = this.options.position;\n          this.tooltip.attr('tracking', posOptions.target === 'mouse' && posOptions.adjust.mouse); // Reassign events\n\n          this._unassignEvents();\n\n          this._assignEvents();\n        }\n      }\n    }; // Dot notation converter\n\n    function convertNotation(options, notation) {\n      var i = 0,\n          obj,\n          option = options,\n          // Split notation into array\n      levels = notation.split('.'); // Loop through\n\n      while (option = option[levels[i++]]) {\n        if (i < levels.length) {\n          obj = option;\n        }\n      }\n\n      return [obj || options, levels.pop()];\n    }\n\n    PROTOTYPE.get = function (notation) {\n      if (this.destroyed) {\n        return this;\n      }\n\n      var o = convertNotation(this.options, notation.toLowerCase()),\n          result = o[0][o[1]];\n      return result.precedance ? result.string() : result;\n    };\n\n    function setCallback(notation, args) {\n      var category, rule, match;\n\n      for (category in this.checks) {\n        if (!this.checks.hasOwnProperty(category)) {\n          continue;\n        }\n\n        for (rule in this.checks[category]) {\n          if (!this.checks[category].hasOwnProperty(rule)) {\n            continue;\n          }\n\n          if (match = new RegExp(rule, 'i').exec(notation)) {\n            args.push(match);\n\n            if (category === 'builtin' || this.plugins[category]) {\n              this.checks[category][rule].apply(this.plugins[category] || this, args);\n            }\n          }\n        }\n      }\n    }\n\n    var rmove = /^position\\.(my|at|adjust|target|container|viewport)|style|content|show\\.ready/i,\n        rrender = /^prerender|show\\.ready/i;\n\n    PROTOTYPE.set = function (option, value) {\n      if (this.destroyed) {\n        return this;\n      }\n\n      var rendered = this.rendered,\n          reposition = FALSE,\n          options = this.options,\n          name; // Convert singular option/value pair into object form\n\n      if ('string' === typeof option) {\n        name = option;\n        option = {};\n        option[name] = value;\n      } else {\n        option = $.extend({}, option);\n      } // Set all of the defined options to their new values\n\n\n      $.each(option, function (notation, val) {\n        if (rendered && rrender.test(notation)) {\n          delete option[notation];\n          return;\n        } // Set new obj value\n\n\n        var obj = convertNotation(options, notation.toLowerCase()),\n            previous;\n        previous = obj[0][obj[1]];\n        obj[0][obj[1]] = val && val.nodeType ? $(val) : val; // Also check if we need to reposition\n\n        reposition = rmove.test(notation) || reposition; // Set the new params for the callback\n\n        option[notation] = [obj[0], obj[1], val, previous];\n      }); // Re-sanitize options\n\n      sanitizeOptions(options);\n      /*\n       * Execute any valid callbacks for the set options\n       * Also set positioning flag so we don't get loads of redundant repositioning calls.\n       */\n\n      this.positioning = TRUE;\n      $.each(option, $.proxy(setCallback, this));\n      this.positioning = FALSE; // Update position if needed\n\n      if (this.rendered && this.tooltip[0].offsetWidth > 0 && reposition) {\n        this.reposition(options.position.target === 'mouse' ? NULL : this.cache.event);\n      }\n\n      return this;\n    };\n\n    ;\n\n    PROTOTYPE._update = function (content, element) {\n      var self = this,\n          cache = this.cache; // Make sure tooltip is rendered and content is defined. If not return\n\n      if (!this.rendered || !content) {\n        return FALSE;\n      } // Use function to parse content\n\n\n      if ($.isFunction(content)) {\n        content = content.call(this.elements.target, cache.event, this) || '';\n      } // Handle deferred content\n\n\n      if ($.isFunction(content.then)) {\n        cache.waiting = TRUE;\n        return content.then(function (c) {\n          cache.waiting = FALSE;\n          return self._update(c, element);\n        }, NULL, function (e) {\n          return self._update(e, element);\n        });\n      } // If content is null... return false\n\n\n      if (content === FALSE || !content && content !== '') {\n        return FALSE;\n      } // Append new content if its a DOM array and show it if hidden\n\n\n      if (content.jquery && content.length > 0) {\n        element.empty().append(content.css({\n          display: 'block',\n          visibility: 'visible'\n        }));\n      } // Content is a regular string, insert the new content\n      else {\n        element.html(content);\n      } // Wait for content to be loaded, and reposition\n\n\n      return this._waitForContent(element).then(function (images) {\n        if (self.rendered && self.tooltip[0].offsetWidth > 0) {\n          self.reposition(cache.event, !images.length);\n        }\n      });\n    };\n\n    PROTOTYPE._waitForContent = function (element) {\n      var cache = this.cache; // Set flag\n\n      cache.waiting = TRUE; // If imagesLoaded is included, ensure images have loaded and return promise\n\n      return ($.fn.imagesLoaded ? element.imagesLoaded() : new $.Deferred().resolve([])).done(function () {\n        cache.waiting = FALSE;\n      }).promise();\n    };\n\n    PROTOTYPE._updateContent = function (content, reposition) {\n      this._update(content, this.elements.content, reposition);\n    };\n\n    PROTOTYPE._updateTitle = function (content, reposition) {\n      if (this._update(content, this.elements.title, reposition) === FALSE) {\n        this._removeTitle(FALSE);\n      }\n    };\n\n    PROTOTYPE._createTitle = function () {\n      var elements = this.elements,\n          id = this._id + '-title'; // Destroy previous title element, if present\n\n      if (elements.titlebar) {\n        this._removeTitle();\n      } // Create title bar and title elements\n\n\n      elements.titlebar = $('<div />', {\n        'class': NAMESPACE + '-titlebar ' + (this.options.style.widget ? createWidgetClass('header') : '')\n      }).append(elements.title = $('<div />', {\n        'id': id,\n        'class': NAMESPACE + '-title',\n        'aria-atomic': TRUE\n      })).insertBefore(elements.content) // Button-specific events\n      .delegate('.qtip-close', 'mousedown keydown mouseup keyup mouseout', function (event) {\n        $(this).toggleClass('ui-state-active ui-state-focus', event.type.substr(-4) === 'down');\n      }).delegate('.qtip-close', 'mouseover mouseout', function (event) {\n        $(this).toggleClass('ui-state-hover', event.type === 'mouseover');\n      }); // Create button if enabled\n\n      if (this.options.content.button) {\n        this._createButton();\n      }\n    };\n\n    PROTOTYPE._removeTitle = function (reposition) {\n      var elements = this.elements;\n\n      if (elements.title) {\n        elements.titlebar.remove();\n        elements.titlebar = elements.title = elements.button = NULL; // Reposition if enabled\n\n        if (reposition !== FALSE) {\n          this.reposition();\n        }\n      }\n    };\n\n    ;\n\n    PROTOTYPE._createPosClass = function (my) {\n      return NAMESPACE + '-pos-' + (my || this.options.position.my).abbrev();\n    };\n\n    PROTOTYPE.reposition = function (event, effect) {\n      if (!this.rendered || this.positioning || this.destroyed) {\n        return this;\n      } // Set positioning flag\n\n\n      this.positioning = TRUE;\n      var cache = this.cache,\n          tooltip = this.tooltip,\n          posOptions = this.options.position,\n          target = posOptions.target,\n          my = posOptions.my,\n          at = posOptions.at,\n          viewport = posOptions.viewport,\n          container = posOptions.container,\n          adjust = posOptions.adjust,\n          method = adjust.method.split(' '),\n          tooltipWidth = tooltip.outerWidth(FALSE),\n          tooltipHeight = tooltip.outerHeight(FALSE),\n          targetWidth = 0,\n          targetHeight = 0,\n          type = tooltip.css('position'),\n          position = {\n        left: 0,\n        top: 0\n      },\n          visible = tooltip[0].offsetWidth > 0,\n          isScroll = event && event.type === 'scroll',\n          win = $(window),\n          doc = container[0].ownerDocument,\n          mouse = this.mouse,\n          pluginCalculations,\n          offset,\n          adjusted,\n          newClass; // Check if absolute position was passed\n\n      if ($.isArray(target) && target.length === 2) {\n        // Force left top and set position\n        at = {\n          x: LEFT,\n          y: TOP\n        };\n        position = {\n          left: target[0],\n          top: target[1]\n        };\n      } // Check if mouse was the target\n      else if (target === 'mouse') {\n        // Force left top to allow flipping\n        at = {\n          x: LEFT,\n          y: TOP\n        }; // Use the mouse origin that caused the show event, if distance hiding is enabled\n\n        if ((!adjust.mouse || this.options.hide.distance) && cache.origin && cache.origin.pageX) {\n          event = cache.origin;\n        } // Use cached event for resize/scroll events\n        else if (!event || event && (event.type === 'resize' || event.type === 'scroll')) {\n          event = cache.event;\n        } // Otherwise, use the cached mouse coordinates if available\n        else if (mouse && mouse.pageX) {\n          event = mouse;\n        } // Calculate body and container offset and take them into account below\n\n\n        if (type !== 'static') {\n          position = container.offset();\n        }\n\n        if (doc.body.offsetWidth !== (window.innerWidth || doc.documentElement.clientWidth)) {\n          offset = $(document.body).offset();\n        } // Use event coordinates for position\n\n\n        position = {\n          left: event.pageX - position.left + (offset && offset.left || 0),\n          top: event.pageY - position.top + (offset && offset.top || 0)\n        }; // Scroll events are a pain, some browsers\n\n        if (adjust.mouse && isScroll && mouse) {\n          position.left -= (mouse.scrollX || 0) - win.scrollLeft();\n          position.top -= (mouse.scrollY || 0) - win.scrollTop();\n        }\n      } // Target wasn't mouse or absolute...\n      else {\n        // Check if event targetting is being used\n        if (target === 'event') {\n          if (event && event.target && event.type !== 'scroll' && event.type !== 'resize') {\n            cache.target = $(event.target);\n          } else if (!event.target) {\n            cache.target = this.elements.target;\n          }\n        } else if (target !== 'event') {\n          cache.target = $(target.jquery ? target : this.elements.target);\n        }\n\n        target = cache.target; // Parse the target into a jQuery object and make sure there's an element present\n\n        target = $(target).eq(0);\n\n        if (target.length === 0) {\n          return this;\n        } // Check if window or document is the target\n        else if (target[0] === document || target[0] === window) {\n          targetWidth = BROWSER.iOS ? window.innerWidth : target.width();\n          targetHeight = BROWSER.iOS ? window.innerHeight : target.height();\n\n          if (target[0] === window) {\n            position = {\n              top: (viewport || target).scrollTop(),\n              left: (viewport || target).scrollLeft()\n            };\n          }\n        } // Check if the target is an <AREA> element\n        else if (PLUGINS.imagemap && target.is('area')) {\n          pluginCalculations = PLUGINS.imagemap(this, target, at, PLUGINS.viewport ? method : FALSE);\n        } // Check if the target is an SVG element\n        else if (PLUGINS.svg && target && target[0].ownerSVGElement) {\n          pluginCalculations = PLUGINS.svg(this, target, at, PLUGINS.viewport ? method : FALSE);\n        } // Otherwise use regular jQuery methods\n        else {\n          targetWidth = target.outerWidth(FALSE);\n          targetHeight = target.outerHeight(FALSE);\n          position = target.offset();\n        } // Parse returned plugin values into proper variables\n\n\n        if (pluginCalculations) {\n          targetWidth = pluginCalculations.width;\n          targetHeight = pluginCalculations.height;\n          offset = pluginCalculations.offset;\n          position = pluginCalculations.position;\n        } // Adjust position to take into account offset parents\n\n\n        position = this.reposition.offset(target, position, container); // Adjust for position.fixed tooltips (and also iOS scroll bug in v3.2-4.0 & v4.3-4.3.2)\n\n        if (BROWSER.iOS > 3.1 && BROWSER.iOS < 4.1 || BROWSER.iOS >= 4.3 && BROWSER.iOS < 4.33 || !BROWSER.iOS && type === 'fixed') {\n          position.left -= win.scrollLeft();\n          position.top -= win.scrollTop();\n        } // Adjust position relative to target\n\n\n        if (!pluginCalculations || pluginCalculations && pluginCalculations.adjustable !== FALSE) {\n          position.left += at.x === RIGHT ? targetWidth : at.x === CENTER ? targetWidth / 2 : 0;\n          position.top += at.y === BOTTOM ? targetHeight : at.y === CENTER ? targetHeight / 2 : 0;\n        }\n      } // Adjust position relative to tooltip\n\n\n      position.left += adjust.x + (my.x === RIGHT ? -tooltipWidth : my.x === CENTER ? -tooltipWidth / 2 : 0);\n      position.top += adjust.y + (my.y === BOTTOM ? -tooltipHeight : my.y === CENTER ? -tooltipHeight / 2 : 0); // Use viewport adjustment plugin if enabled\n\n      if (PLUGINS.viewport) {\n        adjusted = position.adjusted = PLUGINS.viewport(this, position, posOptions, targetWidth, targetHeight, tooltipWidth, tooltipHeight); // Apply offsets supplied by positioning plugin (if used)\n\n        if (offset && adjusted.left) {\n          position.left += offset.left;\n        }\n\n        if (offset && adjusted.top) {\n          position.top += offset.top;\n        } // Apply any new 'my' position\n\n\n        if (adjusted.my) {\n          this.position.my = adjusted.my;\n        }\n      } // Viewport adjustment is disabled, set values to zero\n      else {\n        position.adjusted = {\n          left: 0,\n          top: 0\n        };\n      } // Set tooltip position class if it's changed\n\n\n      if (cache.posClass !== (newClass = this._createPosClass(this.position.my))) {\n        cache.posClass = newClass;\n        tooltip.removeClass(cache.posClass).addClass(newClass);\n      } // tooltipmove event\n\n\n      if (!this._trigger('move', [position, viewport.elem || viewport], event)) {\n        return this;\n      }\n\n      delete position.adjusted; // If effect is disabled, target it mouse, no animation is defined or positioning gives NaN out, set CSS directly\n\n      if (effect === FALSE || !visible || isNaN(position.left) || isNaN(position.top) || target === 'mouse' || !$.isFunction(posOptions.effect)) {\n        tooltip.css(position);\n      } // Use custom function if provided\n      else if ($.isFunction(posOptions.effect)) {\n        posOptions.effect.call(tooltip, this, $.extend({}, position));\n        tooltip.queue(function (next) {\n          // Reset attributes to avoid cross-browser rendering bugs\n          $(this).css({\n            opacity: '',\n            height: ''\n          });\n\n          if (BROWSER.ie) {\n            this.style.removeAttribute('filter');\n          }\n\n          next();\n        });\n      } // Set positioning flag\n\n\n      this.positioning = FALSE;\n      return this;\n    }; // Custom (more correct for qTip!) offset calculator\n\n\n    PROTOTYPE.reposition.offset = function (elem, pos, container) {\n      if (!container[0]) {\n        return pos;\n      }\n\n      var ownerDocument = $(elem[0].ownerDocument),\n          quirks = !!BROWSER.ie && document.compatMode !== 'CSS1Compat',\n          parent = container[0],\n          scrolled,\n          position,\n          parentOffset,\n          overflow;\n\n      function scroll(e, i) {\n        pos.left += i * e.scrollLeft();\n        pos.top += i * e.scrollTop();\n      } // Compensate for non-static containers offset\n\n\n      do {\n        if ((position = $.css(parent, 'position')) !== 'static') {\n          if (position === 'fixed') {\n            parentOffset = parent.getBoundingClientRect();\n            scroll(ownerDocument, -1);\n          } else {\n            parentOffset = $(parent).position();\n            parentOffset.left += parseFloat($.css(parent, 'borderLeftWidth')) || 0;\n            parentOffset.top += parseFloat($.css(parent, 'borderTopWidth')) || 0;\n          }\n\n          pos.left -= parentOffset.left + (parseFloat($.css(parent, 'marginLeft')) || 0);\n          pos.top -= parentOffset.top + (parseFloat($.css(parent, 'marginTop')) || 0); // If this is the first parent element with an overflow of \"scroll\" or \"auto\", store it\n\n          if (!scrolled && (overflow = $.css(parent, 'overflow')) !== 'hidden' && overflow !== 'visible') {\n            scrolled = $(parent);\n          }\n        }\n      } while (parent = parent.offsetParent); // Compensate for containers scroll if it also has an offsetParent (or in IE quirks mode)\n\n\n      if (scrolled && (scrolled[0] !== ownerDocument[0] || quirks)) {\n        scroll(scrolled, 1);\n      }\n\n      return pos;\n    }; // Corner class\n\n\n    var C = (CORNER = PROTOTYPE.reposition.Corner = function (corner, forceY) {\n      corner = ('' + corner).replace(/([A-Z])/, ' $1').replace(/middle/gi, CENTER).toLowerCase();\n      this.x = (corner.match(/left|right/i) || corner.match(/center/) || ['inherit'])[0].toLowerCase();\n      this.y = (corner.match(/top|bottom|center/i) || ['inherit'])[0].toLowerCase();\n      this.forceY = !!forceY;\n      var f = corner.charAt(0);\n      this.precedance = f === 't' || f === 'b' ? Y : X;\n    }).prototype;\n\n    C.invert = function (z, center) {\n      this[z] = this[z] === LEFT ? RIGHT : this[z] === RIGHT ? LEFT : center || this[z];\n    };\n\n    C.string = function (join) {\n      var x = this.x,\n          y = this.y;\n      var result = x !== y ? x === 'center' || y !== 'center' && (this.precedance === Y || this.forceY) ? [y, x] : [x, y] : [x];\n      return join !== false ? result.join(' ') : result;\n    };\n\n    C.abbrev = function () {\n      var result = this.string(false);\n      return result[0].charAt(0) + (result[1] && result[1].charAt(0) || '');\n    };\n\n    C.clone = function () {\n      return new CORNER(this.string(), this.forceY);\n    };\n\n    ;\n\n    PROTOTYPE.toggle = function (state, event) {\n      var cache = this.cache,\n          options = this.options,\n          tooltip = this.tooltip; // Try to prevent flickering when tooltip overlaps show element\n\n      if (event) {\n        if (/over|enter/.test(event.type) && cache.event && /out|leave/.test(cache.event.type) && options.show.target.add(event.target).length === options.show.target.length && tooltip.has(event.relatedTarget).length) {\n          return this;\n        } // Cache event\n\n\n        cache.event = $.event.fix(event);\n      } // If we're currently waiting and we've just hidden... stop it\n\n\n      this.waiting && !state && (this.hiddenDuringWait = TRUE); // Render the tooltip if showing and it isn't already\n\n      if (!this.rendered) {\n        return state ? this.render(1) : this;\n      } else if (this.destroyed || this.disabled) {\n        return this;\n      }\n\n      var type = state ? 'show' : 'hide',\n          opts = this.options[type],\n          posOptions = this.options.position,\n          contentOptions = this.options.content,\n          width = this.tooltip.css('width'),\n          visible = this.tooltip.is(':visible'),\n          animate = state || opts.target.length === 1,\n          sameTarget = !event || opts.target.length < 2 || cache.target[0] === event.target,\n          identicalState,\n          allow,\n          after; // Detect state if valid one isn't provided\n\n      if ((typeof state).search('boolean|number')) {\n        state = !visible;\n      } // Check if the tooltip is in an identical state to the new would-be state\n\n\n      identicalState = !tooltip.is(':animated') && visible === state && sameTarget; // Fire tooltip(show/hide) event and check if destroyed\n\n      allow = !identicalState ? !!this._trigger(type, [90]) : NULL; // Check to make sure the tooltip wasn't destroyed in the callback\n\n      if (this.destroyed) {\n        return this;\n      } // If the user didn't stop the method prematurely and we're showing the tooltip, focus it\n\n\n      if (allow !== FALSE && state) {\n        this.focus(event);\n      } // If the state hasn't changed or the user stopped it, return early\n\n\n      if (!allow || identicalState) {\n        return this;\n      } // Set ARIA hidden attribute\n\n\n      $.attr(tooltip[0], 'aria-hidden', !!!state); // Execute state specific properties\n\n      if (state) {\n        // Store show origin coordinates\n        this.mouse && (cache.origin = $.event.fix(this.mouse)); // Update tooltip content & title if it's a dynamic function\n\n        if ($.isFunction(contentOptions.text)) {\n          this._updateContent(contentOptions.text, FALSE);\n        }\n\n        if ($.isFunction(contentOptions.title)) {\n          this._updateTitle(contentOptions.title, FALSE);\n        } // Cache mousemove events for positioning purposes (if not already tracking)\n\n\n        if (!trackingBound && posOptions.target === 'mouse' && posOptions.adjust.mouse) {\n          $(document).bind('mousemove.' + NAMESPACE, this._storeMouse);\n          trackingBound = TRUE;\n        } // Update the tooltip position (set width first to prevent viewport/max-width issues)\n\n\n        if (!width) {\n          tooltip.css('width', tooltip.outerWidth(FALSE));\n        }\n\n        this.reposition(event, arguments[2]);\n\n        if (!width) {\n          tooltip.css('width', '');\n        } // Hide other tooltips if tooltip is solo\n\n\n        if (!!opts.solo) {\n          (typeof opts.solo === 'string' ? $(opts.solo) : $(SELECTOR, opts.solo)).not(tooltip).not(opts.target).qtip('hide', new $.Event('tooltipsolo'));\n        }\n      } else {\n        // Clear show timer if we're hiding\n        clearTimeout(this.timers.show); // Remove cached origin on hide\n\n        delete cache.origin; // Remove mouse tracking event if not needed (all tracking qTips are hidden)\n\n        if (trackingBound && !$(SELECTOR + '[tracking=\"true\"]:visible', opts.solo).not(tooltip).length) {\n          $(document).unbind('mousemove.' + NAMESPACE);\n          trackingBound = FALSE;\n        } // Blur the tooltip\n\n\n        this.blur(event);\n      } // Define post-animation, state specific properties\n\n\n      after = $.proxy(function () {\n        if (state) {\n          // Prevent antialias from disappearing in IE by removing filter\n          if (BROWSER.ie) {\n            tooltip[0].style.removeAttribute('filter');\n          } // Remove overflow setting to prevent tip bugs\n\n\n          tooltip.css('overflow', ''); // Autofocus elements if enabled\n\n          if ('string' === typeof opts.autofocus) {\n            $(this.options.show.autofocus, tooltip).focus();\n          } // If set, hide tooltip when inactive for delay period\n\n\n          this.options.show.target.trigger('qtip-' + this.id + '-inactive');\n        } else {\n          // Reset CSS states\n          tooltip.css({\n            display: '',\n            visibility: '',\n            opacity: '',\n            left: '',\n            top: ''\n          });\n        } // tooltipvisible/tooltiphidden events\n\n\n        this._trigger(state ? 'visible' : 'hidden');\n      }, this); // If no effect type is supplied, use a simple toggle\n\n      if (opts.effect === FALSE || animate === FALSE) {\n        tooltip[type]();\n        after();\n      } // Use custom function if provided\n      else if ($.isFunction(opts.effect)) {\n        tooltip.stop(1, 1);\n        opts.effect.call(tooltip, this);\n        tooltip.queue('fx', function (n) {\n          after();\n          n();\n        });\n      } // Use basic fade function by default\n      else {\n        tooltip.fadeTo(90, state ? 1 : 0, after);\n      } // If inactive hide method is set, active it\n\n\n      if (state) {\n        opts.target.trigger('qtip-' + this.id + '-inactive');\n      }\n\n      return this;\n    };\n\n    PROTOTYPE.show = function (event) {\n      return this.toggle(TRUE, event);\n    };\n\n    PROTOTYPE.hide = function (event) {\n      return this.toggle(FALSE, event);\n    };\n\n    ;\n\n    PROTOTYPE.focus = function (event) {\n      if (!this.rendered || this.destroyed) {\n        return this;\n      }\n\n      var qtips = $(SELECTOR),\n          tooltip = this.tooltip,\n          curIndex = parseInt(tooltip[0].style.zIndex, 10),\n          newIndex = QTIP.zindex + qtips.length; // Only update the z-index if it has changed and tooltip is not already focused\n\n      if (!tooltip.hasClass(CLASS_FOCUS)) {\n        // tooltipfocus event\n        if (this._trigger('focus', [newIndex], event)) {\n          // Only update z-index's if they've changed\n          if (curIndex !== newIndex) {\n            // Reduce our z-index's and keep them properly ordered\n            qtips.each(function () {\n              if (this.style.zIndex > curIndex) {\n                this.style.zIndex = this.style.zIndex - 1;\n              }\n            }); // Fire blur event for focused tooltip\n\n            qtips.filter('.' + CLASS_FOCUS).qtip('blur', event);\n          } // Set the new z-index\n\n\n          tooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n        }\n      }\n\n      return this;\n    };\n\n    PROTOTYPE.blur = function (event) {\n      if (!this.rendered || this.destroyed) {\n        return this;\n      } // Set focused status to FALSE\n\n\n      this.tooltip.removeClass(CLASS_FOCUS); // tooltipblur event\n\n      this._trigger('blur', [this.tooltip.css('zIndex')], event);\n\n      return this;\n    };\n\n    ;\n\n    PROTOTYPE.disable = function (state) {\n      if (this.destroyed) {\n        return this;\n      } // If 'toggle' is passed, toggle the current state\n\n\n      if (state === 'toggle') {\n        state = !(this.rendered ? this.tooltip.hasClass(CLASS_DISABLED) : this.disabled);\n      } // Disable if no state passed\n      else if ('boolean' !== typeof state) {\n        state = TRUE;\n      }\n\n      if (this.rendered) {\n        this.tooltip.toggleClass(CLASS_DISABLED, state).attr('aria-disabled', state);\n      }\n\n      this.disabled = !!state;\n      return this;\n    };\n\n    PROTOTYPE.enable = function () {\n      return this.disable(FALSE);\n    };\n\n    ;\n\n    PROTOTYPE._createButton = function () {\n      var self = this,\n          elements = this.elements,\n          tooltip = elements.tooltip,\n          button = this.options.content.button,\n          isString = typeof button === 'string',\n          close = isString ? button : 'Close tooltip';\n\n      if (elements.button) {\n        elements.button.remove();\n      } // Use custom button if one was supplied by user, else use default\n\n\n      if (button.jquery) {\n        elements.button = button;\n      } else {\n        elements.button = $('<a />', {\n          'class': 'qtip-close ' + (this.options.style.widget ? '' : NAMESPACE + '-icon'),\n          'title': close,\n          'aria-label': close\n        }).prepend($('<span />', {\n          'class': 'ui-icon ui-icon-close',\n          'html': '&times;'\n        }));\n      } // Create button and setup attributes\n\n\n      elements.button.appendTo(elements.titlebar || tooltip).attr('role', 'button').click(function (event) {\n        if (!tooltip.hasClass(CLASS_DISABLED)) {\n          self.hide(event);\n        }\n\n        return FALSE;\n      });\n    };\n\n    PROTOTYPE._updateButton = function (button) {\n      // Make sure tooltip is rendered and if not, return\n      if (!this.rendered) {\n        return FALSE;\n      }\n\n      var elem = this.elements.button;\n\n      if (button) {\n        this._createButton();\n      } else {\n        elem.remove();\n      }\n    };\n\n    ; // Widget class creator\n\n    function createWidgetClass(cls) {\n      return WIDGET.concat('').join(cls ? '-' + cls + ' ' : ' ');\n    } // Widget class setter method\n\n\n    PROTOTYPE._setWidget = function () {\n      var on = this.options.style.widget,\n          elements = this.elements,\n          tooltip = elements.tooltip,\n          disabled = tooltip.hasClass(CLASS_DISABLED);\n      tooltip.removeClass(CLASS_DISABLED);\n      CLASS_DISABLED = on ? 'ui-state-disabled' : 'qtip-disabled';\n      tooltip.toggleClass(CLASS_DISABLED, disabled);\n      tooltip.toggleClass('ui-helper-reset ' + createWidgetClass(), on).toggleClass(CLASS_DEFAULT, this.options.style.def && !on);\n\n      if (elements.content) {\n        elements.content.toggleClass(createWidgetClass('content'), on);\n      }\n\n      if (elements.titlebar) {\n        elements.titlebar.toggleClass(createWidgetClass('header'), on);\n      }\n\n      if (elements.button) {\n        elements.button.toggleClass(NAMESPACE + '-icon', !on);\n      }\n    };\n\n    ;\n\n    function delay(callback, duration) {\n      // If tooltip has displayed, start hide timer\n      if (duration > 0) {\n        return setTimeout($.proxy(callback, this), duration);\n      } else {\n        callback.call(this);\n      }\n    }\n\n    function showMethod(event) {\n      if (this.tooltip.hasClass(CLASS_DISABLED)) {\n        return;\n      } // Clear hide timers\n\n\n      clearTimeout(this.timers.show);\n      clearTimeout(this.timers.hide); // Start show timer\n\n      this.timers.show = delay.call(this, function () {\n        this.toggle(TRUE, event);\n      }, this.options.show.delay);\n    }\n\n    function hideMethod(event) {\n      if (this.tooltip.hasClass(CLASS_DISABLED) || this.destroyed) {\n        return;\n      } // Check if new target was actually the tooltip element\n\n\n      var relatedTarget = $(event.relatedTarget),\n          ontoTooltip = relatedTarget.closest(SELECTOR)[0] === this.tooltip[0],\n          ontoTarget = relatedTarget[0] === this.options.show.target[0]; // Clear timers and stop animation queue\n\n      clearTimeout(this.timers.show);\n      clearTimeout(this.timers.hide); // Prevent hiding if tooltip is fixed and event target is the tooltip.\n      // Or if mouse positioning is enabled and cursor momentarily overlaps\n\n      if (this !== relatedTarget[0] && this.options.position.target === 'mouse' && ontoTooltip || this.options.hide.fixed && /mouse(out|leave|move)/.test(event.type) && (ontoTooltip || ontoTarget)) {\n        /* eslint-disable no-empty */\n        try {\n          event.preventDefault();\n          event.stopImmediatePropagation();\n        } catch (e) {}\n        /* eslint-enable no-empty */\n\n\n        return;\n      } // If tooltip has displayed, start hide timer\n\n\n      this.timers.hide = delay.call(this, function () {\n        this.toggle(FALSE, event);\n      }, this.options.hide.delay, this);\n    }\n\n    function inactiveMethod(event) {\n      if (this.tooltip.hasClass(CLASS_DISABLED) || !this.options.hide.inactive) {\n        return;\n      } // Clear timer\n\n\n      clearTimeout(this.timers.inactive);\n      this.timers.inactive = delay.call(this, function () {\n        this.hide(event);\n      }, this.options.hide.inactive);\n    }\n\n    function repositionMethod(event) {\n      if (this.rendered && this.tooltip[0].offsetWidth > 0) {\n        this.reposition(event);\n      }\n    } // Store mouse coordinates\n\n\n    PROTOTYPE._storeMouse = function (event) {\n      (this.mouse = $.event.fix(event)).type = 'mousemove';\n      return this;\n    }; // Bind events\n\n\n    PROTOTYPE._bind = function (targets, events, method, suffix, context) {\n      if (!targets || !method || !events.length) {\n        return;\n      }\n\n      var ns = '.' + this._id + (suffix ? '-' + suffix : '');\n      $(targets).bind((events.split ? events : events.join(ns + ' ')) + ns, $.proxy(method, context || this));\n      return this;\n    };\n\n    PROTOTYPE._unbind = function (targets, suffix) {\n      targets && $(targets).unbind('.' + this._id + (suffix ? '-' + suffix : ''));\n      return this;\n    }; // Global delegation helper\n\n\n    function delegate(selector, events, method) {\n      $(document.body).delegate(selector, (events.split ? events : events.join('.' + NAMESPACE + ' ')) + '.' + NAMESPACE, function () {\n        var api = QTIP.api[$.attr(this, ATTR_ID)];\n        api && !api.disabled && method.apply(api, arguments);\n      });\n    } // Event trigger\n\n\n    PROTOTYPE._trigger = function (type, args, event) {\n      var callback = new $.Event('tooltip' + type);\n      callback.originalEvent = event && $.extend({}, event) || this.cache.event || NULL;\n      this.triggering = type;\n      this.tooltip.trigger(callback, [this].concat(args || []));\n      this.triggering = FALSE;\n      return !callback.isDefaultPrevented();\n    };\n\n    PROTOTYPE._bindEvents = function (showEvents, hideEvents, showTargets, hideTargets, showCallback, hideCallback) {\n      // Get tasrgets that lye within both\n      var similarTargets = showTargets.filter(hideTargets).add(hideTargets.filter(showTargets)),\n          toggleEvents = []; // If hide and show targets are the same...\n\n      if (similarTargets.length) {\n        // Filter identical show/hide events\n        $.each(hideEvents, function (i, type) {\n          var showIndex = $.inArray(type, showEvents); // Both events are identical, remove from both hide and show events\n          // and append to toggleEvents\n\n          showIndex > -1 && toggleEvents.push(showEvents.splice(showIndex, 1)[0]);\n        }); // Toggle events are special case of identical show/hide events, which happen in sequence\n\n        if (toggleEvents.length) {\n          // Bind toggle events to the similar targets\n          this._bind(similarTargets, toggleEvents, function (event) {\n            var state = this.rendered ? this.tooltip[0].offsetWidth > 0 : false;\n            (state ? hideCallback : showCallback).call(this, event);\n          }); // Remove the similar targets from the regular show/hide bindings\n\n\n          showTargets = showTargets.not(similarTargets);\n          hideTargets = hideTargets.not(similarTargets);\n        }\n      } // Apply show/hide/toggle events\n\n\n      this._bind(showTargets, showEvents, showCallback);\n\n      this._bind(hideTargets, hideEvents, hideCallback);\n    };\n\n    PROTOTYPE._assignInitialEvents = function (event) {\n      var options = this.options,\n          showTarget = options.show.target,\n          hideTarget = options.hide.target,\n          showEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n          hideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : []; // Catch remove/removeqtip events on target element to destroy redundant tooltips\n\n      this._bind(this.elements.target, ['remove', 'removeqtip'], function () {\n        this.destroy(true);\n      }, 'destroy');\n      /*\n       * Make sure hoverIntent functions properly by using mouseleave as a hide event if\n       * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n       */\n\n\n      if (/mouse(over|enter)/i.test(options.show.event) && !/mouse(out|leave)/i.test(options.hide.event)) {\n        hideEvents.push('mouseleave');\n      }\n      /*\n       * Also make sure initial mouse targetting works correctly by caching mousemove coords\n       * on show targets before the tooltip has rendered. Also set onTarget when triggered to\n       * keep mouse tracking working.\n       */\n\n\n      this._bind(showTarget, 'mousemove', function (moveEvent) {\n        this._storeMouse(moveEvent);\n\n        this.cache.onTarget = TRUE;\n      }); // Define hoverIntent function\n\n\n      function hoverIntent(hoverEvent) {\n        // Only continue if tooltip isn't disabled\n        if (this.disabled || this.destroyed) {\n          return FALSE;\n        } // Cache the event data\n\n\n        this.cache.event = hoverEvent && $.event.fix(hoverEvent);\n        this.cache.target = hoverEvent && $(hoverEvent.target); // Start the event sequence\n\n        clearTimeout(this.timers.show);\n        this.timers.show = delay.call(this, function () {\n          this.render(typeof hoverEvent === 'object' || options.show.ready);\n        }, options.prerender ? 0 : options.show.delay);\n      } // Filter and bind events\n\n\n      this._bindEvents(showEvents, hideEvents, showTarget, hideTarget, hoverIntent, function () {\n        if (!this.timers) {\n          return FALSE;\n        }\n\n        clearTimeout(this.timers.show);\n      }); // Prerendering is enabled, create tooltip now\n\n\n      if (options.show.ready || options.prerender) {\n        hoverIntent.call(this, event);\n      }\n    }; // Event assignment method\n\n\n    PROTOTYPE._assignEvents = function () {\n      var self = this,\n          options = this.options,\n          posOptions = options.position,\n          tooltip = this.tooltip,\n          showTarget = options.show.target,\n          hideTarget = options.hide.target,\n          containerTarget = posOptions.container,\n          viewportTarget = posOptions.viewport,\n          documentTarget = $(document),\n          windowTarget = $(window),\n          showEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n          hideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : []; // Assign passed event callbacks\n\n      $.each(options.events, function (name, callback) {\n        self._bind(tooltip, name === 'toggle' ? ['tooltipshow', 'tooltiphide'] : ['tooltip' + name], callback, null, tooltip);\n      }); // Hide tooltips when leaving current window/frame (but not select/option elements)\n\n      if (/mouse(out|leave)/i.test(options.hide.event) && options.hide.leave === 'window') {\n        this._bind(documentTarget, ['mouseout', 'blur'], function (event) {\n          if (!/select|option/.test(event.target.nodeName) && !event.relatedTarget) {\n            this.hide(event);\n          }\n        });\n      } // Enable hide.fixed by adding appropriate class\n\n\n      if (options.hide.fixed) {\n        hideTarget = hideTarget.add(tooltip.addClass(CLASS_FIXED));\n      }\n      /*\n       * Make sure hoverIntent functions properly by using mouseleave to clear show timer if\n       * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n       */\n      else if (/mouse(over|enter)/i.test(options.show.event)) {\n        this._bind(hideTarget, 'mouseleave', function () {\n          clearTimeout(this.timers.show);\n        });\n      } // Hide tooltip on document mousedown if unfocus events are enabled\n\n\n      if (('' + options.hide.event).indexOf('unfocus') > -1) {\n        this._bind(containerTarget.closest('html'), ['mousedown', 'touchstart'], function (event) {\n          var elem = $(event.target),\n              enabled = this.rendered && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0,\n              isAncestor = elem.parents(SELECTOR).filter(this.tooltip[0]).length > 0;\n\n          if (elem[0] !== this.target[0] && elem[0] !== this.tooltip[0] && !isAncestor && !this.target.has(elem[0]).length && enabled) {\n            this.hide(event);\n          }\n        });\n      } // Check if the tooltip hides when inactive\n\n\n      if ('number' === typeof options.hide.inactive) {\n        // Bind inactive method to show target(s) as a custom event\n        this._bind(showTarget, 'qtip-' + this.id + '-inactive', inactiveMethod, 'inactive'); // Define events which reset the 'inactive' event handler\n\n\n        this._bind(hideTarget.add(tooltip), QTIP.inactiveEvents, inactiveMethod);\n      } // Filter and bind events\n\n\n      this._bindEvents(showEvents, hideEvents, showTarget, hideTarget, showMethod, hideMethod); // Mouse movement bindings\n\n\n      this._bind(showTarget.add(tooltip), 'mousemove', function (event) {\n        // Check if the tooltip hides when mouse is moved a certain distance\n        if ('number' === typeof options.hide.distance) {\n          var origin = this.cache.origin || {},\n              limit = this.options.hide.distance,\n              abs = Math.abs; // Check if the movement has gone beyond the limit, and hide it if so\n\n          if (abs(event.pageX - origin.pageX) >= limit || abs(event.pageY - origin.pageY) >= limit) {\n            this.hide(event);\n          }\n        } // Cache mousemove coords on show targets\n\n\n        this._storeMouse(event);\n      }); // Mouse positioning events\n\n\n      if (posOptions.target === 'mouse') {\n        // If mouse adjustment is on...\n        if (posOptions.adjust.mouse) {\n          // Apply a mouseleave event so we don't get problems with overlapping\n          if (options.hide.event) {\n            // Track if we're on the target or not\n            this._bind(showTarget, ['mouseenter', 'mouseleave'], function (event) {\n              if (!this.cache) {\n                return FALSE;\n              }\n\n              this.cache.onTarget = event.type === 'mouseenter';\n            });\n          } // Update tooltip position on mousemove\n\n\n          this._bind(documentTarget, 'mousemove', function (event) {\n            // Update the tooltip position only if the tooltip is visible and adjustment is enabled\n            if (this.rendered && this.cache.onTarget && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0) {\n              this.reposition(event);\n            }\n          });\n        }\n      } // Adjust positions of the tooltip on window resize if enabled\n\n\n      if (posOptions.adjust.resize || viewportTarget.length) {\n        this._bind($.event.special.resize ? viewportTarget : windowTarget, 'resize', repositionMethod);\n      } // Adjust tooltip position on scroll of the window or viewport element if present\n\n\n      if (posOptions.adjust.scroll) {\n        this._bind(windowTarget.add(posOptions.container), 'scroll', repositionMethod);\n      }\n    }; // Un-assignment method\n\n\n    PROTOTYPE._unassignEvents = function () {\n      var options = this.options,\n          showTargets = options.show.target,\n          hideTargets = options.hide.target,\n          targets = $.grep([this.elements.target[0], this.rendered && this.tooltip[0], options.position.container[0], options.position.viewport[0], options.position.container.closest('html')[0], // unfocus\n      window, document], function (i) {\n        return typeof i === 'object';\n      }); // Add show and hide targets if they're valid\n\n      if (showTargets && showTargets.toArray) {\n        targets = targets.concat(showTargets.toArray());\n      }\n\n      if (hideTargets && hideTargets.toArray) {\n        targets = targets.concat(hideTargets.toArray());\n      } // Unbind the events\n\n\n      this._unbind(targets)._unbind(targets, 'destroy')._unbind(targets, 'inactive');\n    }; // Apply common event handlers using delegate (avoids excessive .bind calls!)\n\n\n    $(function () {\n      delegate(SELECTOR, ['mouseenter', 'mouseleave'], function (event) {\n        var state = event.type === 'mouseenter',\n            tooltip = $(event.currentTarget),\n            target = $(event.relatedTarget || event.target),\n            options = this.options; // On mouseenter...\n\n        if (state) {\n          // Focus the tooltip on mouseenter (z-index stacking)\n          this.focus(event); // Clear hide timer on tooltip hover to prevent it from closing\n\n          tooltip.hasClass(CLASS_FIXED) && !tooltip.hasClass(CLASS_DISABLED) && clearTimeout(this.timers.hide);\n        } // On mouseleave...\n        else {\n          // When mouse tracking is enabled, hide when we leave the tooltip and not onto the show target (if a hide event is set)\n          if (options.position.target === 'mouse' && options.position.adjust.mouse && options.hide.event && options.show.target && !target.closest(options.show.target[0]).length) {\n            this.hide(event);\n          }\n        } // Add hover class\n\n\n        tooltip.toggleClass(CLASS_HOVER, state);\n      }); // Define events which reset the 'inactive' event handler\n\n      delegate('[' + ATTR_ID + ']', INACTIVE_EVENTS, inactiveMethod);\n    });\n    ; // Initialization method\n\n    function init(elem, id, opts) {\n      var obj,\n          posOptions,\n          attr,\n          config,\n          title,\n          // Setup element references\n      docBody = $(document.body),\n          // Use document body instead of document element if needed\n      newTarget = elem[0] === document ? docBody : elem,\n          // Grab metadata from element if plugin is present\n      metadata = elem.metadata ? elem.metadata(opts.metadata) : NULL,\n          // If metadata type if HTML5, grab 'name' from the object instead, or use the regular data object otherwise\n      metadata5 = opts.metadata.type === 'html5' && metadata ? metadata[opts.metadata.name] : NULL,\n          // Grab data from metadata.name (or data-qtipopts as fallback) using .data() method,\n      html5 = elem.data(opts.metadata.name || 'qtipopts'); // If we don't get an object returned attempt to parse it manualyl without parseJSON\n\n      /* eslint-disable no-empty */\n\n      try {\n        html5 = typeof html5 === 'string' ? $.parseJSON(html5) : html5;\n      } catch (e) {}\n      /* eslint-enable no-empty */\n      // Merge in and sanitize metadata\n\n\n      config = $.extend(TRUE, {}, QTIP.defaults, opts, typeof html5 === 'object' ? sanitizeOptions(html5) : NULL, sanitizeOptions(metadata5 || metadata)); // Re-grab our positioning options now we've merged our metadata and set id to passed value\n\n      posOptions = config.position;\n      config.id = id; // Setup missing content if none is detected\n\n      if ('boolean' === typeof config.content.text) {\n        attr = elem.attr(config.content.attr); // Grab from supplied attribute if available\n\n        if (config.content.attr !== FALSE && attr) {\n          config.content.text = attr;\n        } // No valid content was found, abort render\n        else {\n          return FALSE;\n        }\n      } // Setup target options\n\n\n      if (!posOptions.container.length) {\n        posOptions.container = docBody;\n      }\n\n      if (posOptions.target === FALSE) {\n        posOptions.target = newTarget;\n      }\n\n      if (config.show.target === FALSE) {\n        config.show.target = newTarget;\n      }\n\n      if (config.show.solo === TRUE) {\n        config.show.solo = posOptions.container.closest('body');\n      }\n\n      if (config.hide.target === FALSE) {\n        config.hide.target = newTarget;\n      }\n\n      if (config.position.viewport === TRUE) {\n        config.position.viewport = posOptions.container;\n      } // Ensure we only use a single container\n\n\n      posOptions.container = posOptions.container.eq(0); // Convert position corner values into x and y strings\n\n      posOptions.at = new CORNER(posOptions.at, TRUE);\n      posOptions.my = new CORNER(posOptions.my); // Destroy previous tooltip if overwrite is enabled, or skip element if not\n\n      if (elem.data(NAMESPACE)) {\n        if (config.overwrite) {\n          elem.qtip('destroy', true);\n        } else if (config.overwrite === FALSE) {\n          return FALSE;\n        }\n      } // Add has-qtip attribute\n\n\n      elem.attr(ATTR_HAS, id); // Remove title attribute and store it if present\n\n      if (config.suppress && (title = elem.attr('title'))) {\n        // Final attr call fixes event delegatiom and IE default tooltip showing problem\n        elem.removeAttr('title').attr(oldtitle, title).attr('title', '');\n      } // Initialize the tooltip and add API reference\n\n\n      obj = new QTip(elem, config, id, !!attr);\n      elem.data(NAMESPACE, obj);\n      return obj;\n    } // jQuery $.fn extension method\n\n\n    QTIP = $.fn.qtip = function (options, notation, newValue) {\n      var command = ('' + options).toLowerCase(),\n          // Parse command\n      returned = NULL,\n          args = $.makeArray(arguments).slice(1),\n          event = args[args.length - 1],\n          opts = this[0] ? $.data(this[0], NAMESPACE) : NULL; // Check for API request\n\n      if (!arguments.length && opts || command === 'api') {\n        return opts;\n      } // Execute API command if present\n      else if ('string' === typeof options) {\n        this.each(function () {\n          var api = $.data(this, NAMESPACE);\n\n          if (!api) {\n            return TRUE;\n          } // Cache the event if possible\n\n\n          if (event && event.timeStamp) {\n            api.cache.event = event;\n          } // Check for specific API commands\n\n\n          if (notation && (command === 'option' || command === 'options')) {\n            if (newValue !== undefined || $.isPlainObject(notation)) {\n              api.set(notation, newValue);\n            } else {\n              returned = api.get(notation);\n              return FALSE;\n            }\n          } // Execute API command\n          else if (api[command]) {\n            api[command].apply(api, args);\n          }\n        });\n        return returned !== NULL ? returned : this;\n      } // No API commands. validate provided options and setup qTips\n      else if ('object' === typeof options || !arguments.length) {\n        // Sanitize options first\n        opts = sanitizeOptions($.extend(TRUE, {}, options));\n        return this.each(function (i) {\n          var api, id; // Find next available ID, or use custom ID if provided\n\n          id = $.isArray(opts.id) ? opts.id[i] : opts.id;\n          id = !id || id === FALSE || id.length < 1 || QTIP.api[id] ? QTIP.nextid++ : id; // Initialize the qTip and re-grab newly sanitized options\n\n          api = init($(this), id, opts);\n\n          if (api === FALSE) {\n            return TRUE;\n          } else {\n            QTIP.api[id] = api;\n          } // Initialize plugins\n\n\n          $.each(PLUGINS, function () {\n            if (this.initialize === 'initialize') {\n              this(api);\n            }\n          }); // Assign initial pre-render events\n\n          api._assignInitialEvents(event);\n        });\n      }\n    }; // Expose class\n\n\n    $.qtip = QTip; // Populated in render method\n\n    QTIP.api = {};\n    ;\n    $.each({\n      /* Allow other plugins to successfully retrieve the title of an element with a qTip applied */\n      attr: function attr(_attr, val) {\n        if (this.length) {\n          var self = this[0],\n              title = 'title',\n              api = $.data(self, 'qtip');\n\n          if (_attr === title && api && api.options && 'object' === typeof api && 'object' === typeof api.options && api.options.suppress) {\n            if (arguments.length < 2) {\n              return $.attr(self, oldtitle);\n            } // If qTip is rendered and title was originally used as content, update it\n\n\n            if (api && api.options.content.attr === title && api.cache.attr) {\n              api.set('content.text', val);\n            } // Use the regular attr method to set, then cache the result\n\n\n            return this.attr(oldtitle, val);\n          }\n        }\n\n        return $.fn['attr' + replaceSuffix].apply(this, arguments);\n      },\n\n      /* Allow clone to correctly retrieve cached title attributes */\n      clone: function clone(keepData) {\n        // Clone our element using the real clone method\n        var elems = $.fn['clone' + replaceSuffix].apply(this, arguments); // Grab all elements with an oldtitle set, and change it to regular title attribute, if keepData is false\n\n        if (!keepData) {\n          elems.filter('[' + oldtitle + ']').attr('title', function () {\n            return $.attr(this, oldtitle);\n          }).removeAttr(oldtitle);\n        }\n\n        return elems;\n      }\n    }, function (name, func) {\n      if (!func || $.fn[name + replaceSuffix]) {\n        return TRUE;\n      }\n\n      var old = $.fn[name + replaceSuffix] = $.fn[name];\n\n      $.fn[name] = function () {\n        return func.apply(this, arguments) || old.apply(this, arguments);\n      };\n    });\n    /* Fire off 'removeqtip' handler in $.cleanData if jQuery UI not present (it already does similar).\n     * This snippet is taken directly from jQuery UI source code found here:\n     *     http://code.jquery.com/ui/jquery-ui-git.js\n     */\n\n    if (!$.ui) {\n      $['cleanData' + replaceSuffix] = $.cleanData;\n\n      $.cleanData = function (elems) {\n        for (var i = 0, elem; (elem = $(elems[i])).length; i++) {\n          if (elem.attr(ATTR_HAS)) {\n            /* eslint-disable no-empty */\n            try {\n              elem.triggerHandler('removeqtip');\n            } catch (e) {}\n            /* eslint-enable no-empty */\n\n          }\n        }\n\n        $['cleanData' + replaceSuffix].apply(this, arguments);\n      };\n    }\n\n    ; // qTip version\n\n    QTIP.version = '3.0.3'; // Base ID for all qTips\n\n    QTIP.nextid = 0; // Inactive events array\n\n    QTIP.inactiveEvents = INACTIVE_EVENTS; // Base z-index for all qTips\n\n    QTIP.zindex = 15000; // Define configuration defaults\n\n    QTIP.defaults = {\n      prerender: FALSE,\n      id: FALSE,\n      overwrite: TRUE,\n      suppress: TRUE,\n      content: {\n        text: TRUE,\n        attr: 'title',\n        title: FALSE,\n        button: FALSE\n      },\n      position: {\n        my: 'top left',\n        at: 'bottom right',\n        target: FALSE,\n        container: FALSE,\n        viewport: FALSE,\n        adjust: {\n          x: 0,\n          y: 0,\n          mouse: TRUE,\n          scroll: TRUE,\n          resize: TRUE,\n          method: 'flipinvert flipinvert'\n        },\n        effect: function effect(api, pos) {\n          $(this).animate(pos, {\n            duration: 200,\n            queue: FALSE\n          });\n        }\n      },\n      show: {\n        target: FALSE,\n        event: 'mouseenter',\n        effect: TRUE,\n        delay: 90,\n        solo: FALSE,\n        ready: FALSE,\n        autofocus: FALSE\n      },\n      hide: {\n        target: FALSE,\n        event: 'mouseleave',\n        effect: TRUE,\n        delay: 0,\n        fixed: FALSE,\n        inactive: FALSE,\n        leave: 'window',\n        distance: FALSE\n      },\n      style: {\n        classes: '',\n        widget: FALSE,\n        width: FALSE,\n        height: FALSE,\n        def: TRUE\n      },\n      events: {\n        render: NULL,\n        move: NULL,\n        show: NULL,\n        hide: NULL,\n        toggle: NULL,\n        visible: NULL,\n        hidden: NULL,\n        focus: NULL,\n        blur: NULL\n      }\n    };\n    ;\n    var TIP,\n        createVML,\n        SCALE,\n        PIXEL_RATIO,\n        BACKING_STORE_RATIO,\n        // Common CSS strings\n    MARGIN = 'margin',\n        BORDER = 'border',\n        COLOR = 'color',\n        BG_COLOR = 'background-color',\n        TRANSPARENT = 'transparent',\n        IMPORTANT = ' !important',\n        // Check if the browser supports <canvas/> elements\n    HASCANVAS = !!document.createElement('canvas').getContext,\n        // Invalid colour values used in parseColours()\n    INVALID = /rgba?\\(0, 0, 0(, 0)?\\)|transparent|#123456/i; // Camel-case method, taken from jQuery source\n    // http://code.jquery.com/jquery-1.8.0.js\n\n    function camel(s) {\n      return s.charAt(0).toUpperCase() + s.slice(1);\n    }\n    /*\n     * Modified from Modernizr's testPropsAll()\n     * http://modernizr.com/downloads/modernizr-latest.js\n     */\n\n\n    var cssProps = {},\n        cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\n\n    function vendorCss(elem, prop) {\n      var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n          props = (prop + ' ' + cssPrefixes.join(ucProp + ' ') + ucProp).split(' '),\n          cur,\n          val,\n          i = 0; // If the property has already been mapped...\n\n      if (cssProps[prop]) {\n        return elem.css(cssProps[prop]);\n      }\n\n      while (cur = props[i++]) {\n        if ((val = elem.css(cur)) !== undefined) {\n          cssProps[prop] = cur;\n          return val;\n        }\n      }\n    } // Parse a given elements CSS property into an int\n\n\n    function intCss(elem, prop) {\n      return Math.ceil(parseFloat(vendorCss(elem, prop)));\n    } // VML creation (for IE only)\n\n\n    if (!HASCANVAS) {\n      createVML = function createVML(tag, props, style) {\n        return '<qtipvml:' + tag + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"qtip-vml\" ' + (props || '') + ' style=\"behavior: url(#default#VML); ' + (style || '') + '\" />';\n      };\n    } // Canvas only definitions\n    else {\n      PIXEL_RATIO = window.devicePixelRatio || 1;\n\n      BACKING_STORE_RATIO = function () {\n        var context = document.createElement('canvas').getContext('2d');\n        return context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || 1;\n      }();\n\n      SCALE = PIXEL_RATIO / BACKING_STORE_RATIO;\n    }\n\n    function Tip(qtip, options) {\n      this._ns = 'tip';\n      this.options = options;\n      this.offset = options.offset;\n      this.size = [options.width, options.height]; // Initialize\n\n      this.qtip = qtip;\n      this.init(qtip);\n    }\n\n    $.extend(Tip.prototype, {\n      init: function init(qtip) {\n        var context, tip; // Create tip element and prepend to the tooltip\n\n        tip = this.element = qtip.elements.tip = $('<div />', {\n          'class': NAMESPACE + '-tip'\n        }).prependTo(qtip.tooltip); // Create tip drawing element(s)\n\n        if (HASCANVAS) {\n          // save() as soon as we create the canvas element so FF2 doesn't bork on our first restore()!\n          context = $('<canvas />').appendTo(this.element)[0].getContext('2d'); // Setup constant parameters\n\n          context.lineJoin = 'miter';\n          context.miterLimit = 100000;\n          context.save();\n        } else {\n          context = createVML('shape', 'coordorigin=\"0,0\"', 'position:absolute;');\n          this.element.html(context + context); // Prevent mousing down on the tip since it causes problems with .live() handling in IE due to VML\n\n          qtip._bind($('*', tip).add(tip), ['click', 'mousedown'], function (event) {\n            event.stopPropagation();\n          }, this._ns);\n        } // Bind update events\n\n\n        qtip._bind(qtip.tooltip, 'tooltipmove', this.reposition, this._ns, this); // Create it\n\n\n        this.create();\n      },\n      _swapDimensions: function _swapDimensions() {\n        this.size[0] = this.options.height;\n        this.size[1] = this.options.width;\n      },\n      _resetDimensions: function _resetDimensions() {\n        this.size[0] = this.options.width;\n        this.size[1] = this.options.height;\n      },\n      _useTitle: function _useTitle(corner) {\n        var titlebar = this.qtip.elements.titlebar;\n        return titlebar && (corner.y === TOP || corner.y === CENTER && this.element.position().top + this.size[1] / 2 + this.options.offset < titlebar.outerHeight(TRUE));\n      },\n      _parseCorner: function _parseCorner(corner) {\n        var my = this.qtip.options.position.my; // Detect corner and mimic properties\n\n        if (corner === FALSE || my === FALSE) {\n          corner = FALSE;\n        } else if (corner === TRUE) {\n          corner = new CORNER(my.string());\n        } else if (!corner.string) {\n          corner = new CORNER(corner);\n          corner.fixed = TRUE;\n        }\n\n        return corner;\n      },\n      _parseWidth: function _parseWidth(corner, side, use) {\n        var elements = this.qtip.elements,\n            prop = BORDER + camel(side) + 'Width';\n        return (use ? intCss(use, prop) : intCss(elements.content, prop) || intCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) || intCss(elements.tooltip, prop)) || 0;\n      },\n      _parseRadius: function _parseRadius(corner) {\n        var elements = this.qtip.elements,\n            prop = BORDER + camel(corner.y) + camel(corner.x) + 'Radius';\n        return BROWSER.ie < 9 ? 0 : intCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) || intCss(elements.tooltip, prop) || 0;\n      },\n      _invalidColour: function _invalidColour(elem, prop, compare) {\n        var val = elem.css(prop);\n        return !val || compare && val === elem.css(compare) || INVALID.test(val) ? FALSE : val;\n      },\n      _parseColours: function _parseColours(corner) {\n        var elements = this.qtip.elements,\n            tip = this.element.css('cssText', ''),\n            borderSide = BORDER + camel(corner[corner.precedance]) + camel(COLOR),\n            colorElem = this._useTitle(corner) && elements.titlebar || elements.content,\n            css = this._invalidColour,\n            color = []; // Attempt to detect the background colour from various elements, left-to-right precedance\n\n        color[0] = css(tip, BG_COLOR) || css(colorElem, BG_COLOR) || css(elements.content, BG_COLOR) || css(elements.tooltip, BG_COLOR) || tip.css(BG_COLOR); // Attempt to detect the correct border side colour from various elements, left-to-right precedance\n\n        color[1] = css(tip, borderSide, COLOR) || css(colorElem, borderSide, COLOR) || css(elements.content, borderSide, COLOR) || css(elements.tooltip, borderSide, COLOR) || elements.tooltip.css(borderSide); // Reset background and border colours\n\n        $('*', tip).add(tip).css('cssText', BG_COLOR + ':' + TRANSPARENT + IMPORTANT + ';' + BORDER + ':0' + IMPORTANT + ';');\n        return color;\n      },\n      _calculateSize: function _calculateSize(corner) {\n        var y = corner.precedance === Y,\n            width = this.options.width,\n            height = this.options.height,\n            isCenter = corner.abbrev() === 'c',\n            base = (y ? width : height) * (isCenter ? 0.5 : 1),\n            pow = Math.pow,\n            round = Math.round,\n            bigHyp,\n            ratio,\n            result,\n            smallHyp = Math.sqrt(pow(base, 2) + pow(height, 2)),\n            hyp = [this.border / base * smallHyp, this.border / height * smallHyp];\n        hyp[2] = Math.sqrt(pow(hyp[0], 2) - pow(this.border, 2));\n        hyp[3] = Math.sqrt(pow(hyp[1], 2) - pow(this.border, 2));\n        bigHyp = smallHyp + hyp[2] + hyp[3] + (isCenter ? 0 : hyp[0]);\n        ratio = bigHyp / smallHyp;\n        result = [round(ratio * width), round(ratio * height)];\n        return y ? result : result.reverse();\n      },\n      // Tip coordinates calculator\n      _calculateTip: function _calculateTip(corner, size, scale) {\n        scale = scale || 1;\n        size = size || this.size;\n        var width = size[0] * scale,\n            height = size[1] * scale,\n            width2 = Math.ceil(width / 2),\n            height2 = Math.ceil(height / 2),\n            // Define tip coordinates in terms of height and width values\n        tips = {\n          br: [0, 0, width, height, width, 0],\n          bl: [0, 0, width, 0, 0, height],\n          tr: [0, height, width, 0, width, height],\n          tl: [0, 0, 0, height, width, height],\n          tc: [0, height, width2, 0, width, height],\n          bc: [0, 0, width, 0, width2, height],\n          rc: [0, 0, width, height2, 0, height],\n          lc: [width, 0, width, height, 0, height2]\n        }; // Set common side shapes\n\n        tips.lt = tips.br;\n        tips.rt = tips.bl;\n        tips.lb = tips.tr;\n        tips.rb = tips.tl;\n        return tips[corner.abbrev()];\n      },\n      // Tip coordinates drawer (canvas)\n      _drawCoords: function _drawCoords(context, coords) {\n        context.beginPath();\n        context.moveTo(coords[0], coords[1]);\n        context.lineTo(coords[2], coords[3]);\n        context.lineTo(coords[4], coords[5]);\n        context.closePath();\n      },\n      create: function create() {\n        // Determine tip corner\n        var c = this.corner = (HASCANVAS || BROWSER.ie) && this._parseCorner(this.options.corner); // If we have a tip corner...\n\n\n        this.enabled = !!this.corner && this.corner.abbrev() !== 'c';\n\n        if (this.enabled) {\n          // Cache it\n          this.qtip.cache.corner = c.clone(); // Create it\n\n          this.update();\n        } // Toggle tip element\n\n\n        this.element.toggle(this.enabled);\n        return this.corner;\n      },\n      update: function update(corner, position) {\n        if (!this.enabled) {\n          return this;\n        }\n\n        var elements = this.qtip.elements,\n            tip = this.element,\n            inner = tip.children(),\n            options = this.options,\n            curSize = this.size,\n            mimic = options.mimic,\n            round = Math.round,\n            color,\n            precedance,\n            context,\n            coords,\n            bigCoords,\n            translate,\n            newSize,\n            border; // Re-determine tip if not already set\n\n        if (!corner) {\n          corner = this.qtip.cache.corner || this.corner;\n        } // Use corner property if we detect an invalid mimic value\n\n\n        if (mimic === FALSE) {\n          mimic = corner;\n        } // Otherwise inherit mimic properties from the corner object as necessary\n        else {\n          mimic = new CORNER(mimic);\n          mimic.precedance = corner.precedance;\n\n          if (mimic.x === 'inherit') {\n            mimic.x = corner.x;\n          } else if (mimic.y === 'inherit') {\n            mimic.y = corner.y;\n          } else if (mimic.x === mimic.y) {\n            mimic[corner.precedance] = corner[corner.precedance];\n          }\n        }\n\n        precedance = mimic.precedance; // Ensure the tip width.height are relative to the tip position\n\n        if (corner.precedance === X) {\n          this._swapDimensions();\n        } else {\n          this._resetDimensions();\n        } // Update our colours\n\n\n        color = this.color = this._parseColours(corner); // Detect border width, taking into account colours\n\n        if (color[1] !== TRANSPARENT) {\n          // Grab border width\n          border = this.border = this._parseWidth(corner, corner[corner.precedance]); // If border width isn't zero, use border color as fill if it's not invalid (1.0 style tips)\n\n          if (options.border && border < 1 && !INVALID.test(color[1])) {\n            color[0] = color[1];\n          } // Set border width (use detected border width if options.border is true)\n\n\n          this.border = border = options.border !== TRUE ? options.border : border;\n        } // Border colour was invalid, set border to zero\n        else {\n          this.border = border = 0;\n        } // Determine tip size\n\n\n        newSize = this.size = this._calculateSize(corner);\n        tip.css({\n          width: newSize[0],\n          height: newSize[1],\n          lineHeight: newSize[1] + 'px'\n        }); // Calculate tip translation\n\n        if (corner.precedance === Y) {\n          translate = [round(mimic.x === LEFT ? border : mimic.x === RIGHT ? newSize[0] - curSize[0] - border : (newSize[0] - curSize[0]) / 2), round(mimic.y === TOP ? newSize[1] - curSize[1] : 0)];\n        } else {\n          translate = [round(mimic.x === LEFT ? newSize[0] - curSize[0] : 0), round(mimic.y === TOP ? border : mimic.y === BOTTOM ? newSize[1] - curSize[1] - border : (newSize[1] - curSize[1]) / 2)];\n        } // Canvas drawing implementation\n\n\n        if (HASCANVAS) {\n          // Grab canvas context and clear/save it\n          context = inner[0].getContext('2d');\n          context.restore();\n          context.save();\n          context.clearRect(0, 0, 6000, 6000); // Calculate coordinates\n\n          coords = this._calculateTip(mimic, curSize, SCALE);\n          bigCoords = this._calculateTip(mimic, this.size, SCALE); // Set the canvas size using calculated size\n\n          inner.attr(WIDTH, newSize[0] * SCALE).attr(HEIGHT, newSize[1] * SCALE);\n          inner.css(WIDTH, newSize[0]).css(HEIGHT, newSize[1]); // Draw the outer-stroke tip\n\n          this._drawCoords(context, bigCoords);\n\n          context.fillStyle = color[1];\n          context.fill(); // Draw the actual tip\n\n          context.translate(translate[0] * SCALE, translate[1] * SCALE);\n\n          this._drawCoords(context, coords);\n\n          context.fillStyle = color[0];\n          context.fill();\n        } // VML (IE Proprietary implementation)\n        else {\n          // Calculate coordinates\n          coords = this._calculateTip(mimic); // Setup coordinates string\n\n          coords = 'm' + coords[0] + ',' + coords[1] + ' l' + coords[2] + ',' + coords[3] + ' ' + coords[4] + ',' + coords[5] + ' xe'; // Setup VML-specific offset for pixel-perfection\n\n          translate[2] = border && /^(r|b)/i.test(corner.string()) ? BROWSER.ie === 8 ? 2 : 1 : 0; // Set initial CSS\n\n          inner.css({\n            coordsize: newSize[0] + border + ' ' + newSize[1] + border,\n            antialias: '' + (mimic.string().indexOf(CENTER) > -1),\n            left: translate[0] - translate[2] * Number(precedance === X),\n            top: translate[1] - translate[2] * Number(precedance === Y),\n            width: newSize[0] + border,\n            height: newSize[1] + border\n          }).each(function (i) {\n            var $this = $(this); // Set shape specific attributes\n\n            $this[$this.prop ? 'prop' : 'attr']({\n              coordsize: newSize[0] + border + ' ' + newSize[1] + border,\n              path: coords,\n              fillcolor: color[0],\n              filled: !!i,\n              stroked: !i\n            }).toggle(!!(border || i)); // Check if border is enabled and add stroke element\n\n            !i && $this.html(createVML('stroke', 'weight=\"' + border * 2 + 'px\" color=\"' + color[1] + '\" miterlimit=\"1000\" joinstyle=\"miter\"'));\n          });\n        } // Opera bug #357 - Incorrect tip position\n        // https://github.com/Craga89/qTip2/issues/367\n\n\n        window.opera && setTimeout(function () {\n          elements.tip.css({\n            display: 'inline-block',\n            visibility: 'visible'\n          });\n        }, 1); // Position if needed\n\n        if (position !== FALSE) {\n          this.calculate(corner, newSize);\n        }\n      },\n      calculate: function calculate(corner, size) {\n        if (!this.enabled) {\n          return FALSE;\n        }\n\n        var self = this,\n            elements = this.qtip.elements,\n            tip = this.element,\n            userOffset = this.options.offset,\n            position = {},\n            precedance,\n            corners; // Inherit corner if not provided\n\n        corner = corner || this.corner;\n        precedance = corner.precedance; // Determine which tip dimension to use for adjustment\n\n        size = size || this._calculateSize(corner); // Setup corners and offset array\n\n        corners = [corner.x, corner.y];\n\n        if (precedance === X) {\n          corners.reverse();\n        } // Calculate tip position\n\n\n        $.each(corners, function (i, side) {\n          var b, bc, br;\n\n          if (side === CENTER) {\n            b = precedance === Y ? LEFT : TOP;\n            position[b] = '50%';\n            position[MARGIN + '-' + b] = -Math.round(size[precedance === Y ? 0 : 1] / 2) + userOffset;\n          } else {\n            b = self._parseWidth(corner, side, elements.tooltip);\n            bc = self._parseWidth(corner, side, elements.content);\n            br = self._parseRadius(corner);\n            position[side] = Math.max(-self.border, i ? bc : userOffset + (br > b ? br : -b));\n          }\n        }); // Adjust for tip size\n\n        position[corner[precedance]] -= size[precedance === X ? 0 : 1]; // Set and return new position\n\n        tip.css({\n          margin: '',\n          top: '',\n          bottom: '',\n          left: '',\n          right: ''\n        }).css(position);\n        return position;\n      },\n      reposition: function reposition(event, api, pos) {\n        if (!this.enabled) {\n          return;\n        }\n\n        var cache = api.cache,\n            newCorner = this.corner.clone(),\n            adjust = pos.adjusted,\n            method = api.options.position.adjust.method.split(' '),\n            horizontal = method[0],\n            vertical = method[1] || method[0],\n            shift = {\n          left: FALSE,\n          top: FALSE,\n          x: 0,\n          y: 0\n        },\n            offset,\n            css = {},\n            props;\n\n        function shiftflip(direction, precedance, popposite, side, opposite) {\n          // Horizontal - Shift or flip method\n          if (direction === SHIFT && newCorner.precedance === precedance && adjust[side] && newCorner[popposite] !== CENTER) {\n            newCorner.precedance = newCorner.precedance === X ? Y : X;\n          } else if (direction !== SHIFT && adjust[side]) {\n            newCorner[precedance] = newCorner[precedance] === CENTER ? adjust[side] > 0 ? side : opposite : newCorner[precedance] === side ? opposite : side;\n          }\n        }\n\n        function shiftonly(xy, side, opposite) {\n          if (newCorner[xy] === CENTER) {\n            css[MARGIN + '-' + side] = shift[xy] = offset[MARGIN + '-' + side] - adjust[side];\n          } else {\n            props = offset[opposite] !== undefined ? [adjust[side], -offset[side]] : [-adjust[side], offset[side]];\n\n            if ((shift[xy] = Math.max(props[0], props[1])) > props[0]) {\n              pos[side] -= adjust[side];\n              shift[side] = FALSE;\n            }\n\n            css[offset[opposite] !== undefined ? opposite : side] = shift[xy];\n          }\n        } // If our tip position isn't fixed e.g. doesn't adjust with viewport...\n\n\n        if (this.corner.fixed !== TRUE) {\n          // Perform shift/flip adjustments\n          shiftflip(horizontal, X, Y, LEFT, RIGHT);\n          shiftflip(vertical, Y, X, TOP, BOTTOM); // Update and redraw the tip if needed (check cached details of last drawn tip)\n\n          if (newCorner.string() !== cache.corner.string() || cache.cornerTop !== adjust.top || cache.cornerLeft !== adjust.left) {\n            this.update(newCorner, FALSE);\n          }\n        } // Setup tip offset properties\n\n\n        offset = this.calculate(newCorner); // Readjust offset object to make it left/top\n\n        if (offset.right !== undefined) {\n          offset.left = -offset.right;\n        }\n\n        if (offset.bottom !== undefined) {\n          offset.top = -offset.bottom;\n        }\n\n        offset.user = this.offset; // Perform shift adjustments\n\n        shift.left = horizontal === SHIFT && !!adjust.left;\n\n        if (shift.left) {\n          shiftonly(X, LEFT, RIGHT);\n        }\n\n        shift.top = vertical === SHIFT && !!adjust.top;\n\n        if (shift.top) {\n          shiftonly(Y, TOP, BOTTOM);\n        }\n        /*\n        * If the tip is adjusted in both dimensions, or in a\n        * direction that would cause it to be anywhere but the\n        * outer border, hide it!\n        */\n\n\n        this.element.css(css).toggle(!(shift.x && shift.y || newCorner.x === CENTER && shift.y || newCorner.y === CENTER && shift.x)); // Adjust position to accomodate tip dimensions\n\n        pos.left -= offset.left.charAt ? offset.user : horizontal !== SHIFT || shift.top || !shift.left && !shift.top ? offset.left + this.border : 0;\n        pos.top -= offset.top.charAt ? offset.user : vertical !== SHIFT || shift.left || !shift.left && !shift.top ? offset.top + this.border : 0; // Cache details\n\n        cache.cornerLeft = adjust.left;\n        cache.cornerTop = adjust.top;\n        cache.corner = newCorner.clone();\n      },\n      destroy: function destroy() {\n        // Unbind events\n        this.qtip._unbind(this.qtip.tooltip, this._ns); // Remove the tip element(s)\n\n\n        if (this.qtip.elements.tip) {\n          this.qtip.elements.tip.find('*').remove().end().remove();\n        }\n      }\n    });\n\n    TIP = PLUGINS.tip = function (api) {\n      return new Tip(api, api.options.style.tip);\n    }; // Initialize tip on render\n\n\n    TIP.initialize = 'render'; // Setup plugin sanitization options\n\n    TIP.sanitize = function (options) {\n      if (options.style && 'tip' in options.style) {\n        var opts = options.style.tip;\n\n        if (typeof opts !== 'object') {\n          opts = options.style.tip = {\n            corner: opts\n          };\n        }\n\n        if (!/string|boolean/i.test(typeof opts.corner)) {\n          opts.corner = TRUE;\n        }\n      }\n    }; // Add new option checks for the plugin\n\n\n    CHECKS.tip = {\n      '^position.my|style.tip.(corner|mimic|border)$': function positionMyStyleTipCornerMimicBorder$() {\n        // Make sure a tip can be drawn\n        this.create(); // Reposition the tooltip\n\n        this.qtip.reposition();\n      },\n      '^style.tip.(height|width)$': function styleTipHeightWidth$(obj) {\n        // Re-set dimensions and redraw the tip\n        this.size = [obj.width, obj.height];\n        this.update(); // Reposition the tooltip\n\n        this.qtip.reposition();\n      },\n      '^content.title|style.(classes|widget)$': function contentTitleStyleClassesWidget$() {\n        this.update();\n      }\n    }; // Extend original qTip defaults\n\n    $.extend(TRUE, QTIP.defaults, {\n      style: {\n        tip: {\n          corner: TRUE,\n          mimic: FALSE,\n          width: 6,\n          height: 6,\n          border: TRUE,\n          offset: 0\n        }\n      }\n    });\n    ;\n    var MODAL,\n        OVERLAY,\n        MODALCLASS = 'qtip-modal',\n        MODALSELECTOR = '.' + MODALCLASS;\n\n    OVERLAY = function OVERLAY() {\n      var self = this,\n          focusableElems = {},\n          current,\n          prevState,\n          elem; // Modified code from jQuery UI 1.10.0 source\n      // http://code.jquery.com/ui/1.10.0/jquery-ui.js\n\n      function focusable(element) {\n        // Use the defined focusable checker when possible\n        if ($.expr[':'].focusable) {\n          return $.expr[':'].focusable;\n        }\n\n        var isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex')),\n            nodeName = element.nodeName && element.nodeName.toLowerCase(),\n            map,\n            mapName,\n            img;\n\n        if ('area' === nodeName) {\n          map = element.parentNode;\n          mapName = map.name;\n\n          if (!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\n            return false;\n          }\n\n          img = $('img[usemap=#' + mapName + ']')[0];\n          return !!img && img.is(':visible');\n        }\n\n        return /input|select|textarea|button|object/.test(nodeName) ? !element.disabled : 'a' === nodeName ? element.href || isTabIndexNotNaN : isTabIndexNotNaN;\n      } // Focus inputs using cached focusable elements (see update())\n\n\n      function focusInputs(blurElems) {\n        // Blurring body element in IE causes window.open windows to unfocus!\n        if (focusableElems.length < 1 && blurElems.length) {\n          blurElems.not('body').blur();\n        } // Focus the inputs\n        else {\n          focusableElems.first().focus();\n        }\n      } // Steal focus from elements outside tooltip\n\n\n      function stealFocus(event) {\n        if (!elem.is(':visible')) {\n          return;\n        }\n\n        var target = $(event.target),\n            tooltip = current.tooltip,\n            container = target.closest(SELECTOR),\n            targetOnTop; // Determine if input container target is above this\n\n        targetOnTop = container.length < 1 ? FALSE : parseInt(container[0].style.zIndex, 10) > parseInt(tooltip[0].style.zIndex, 10); // If we're showing a modal, but focus has landed on an input below\n        // this modal, divert focus to the first visible input in this modal\n        // or if we can't find one... the tooltip itself\n\n        if (!targetOnTop && target.closest(SELECTOR)[0] !== tooltip[0]) {\n          focusInputs(target);\n        }\n      }\n\n      $.extend(self, {\n        init: function init() {\n          // Create document overlay\n          elem = self.elem = $('<div />', {\n            id: 'qtip-overlay',\n            html: '<div></div>',\n            mousedown: function mousedown() {\n              return FALSE;\n            }\n          }).hide(); // Make sure we can't focus anything outside the tooltip\n\n          $(document.body).bind('focusin' + MODALSELECTOR, stealFocus); // Apply keyboard \"Escape key\" close handler\n\n          $(document).bind('keydown' + MODALSELECTOR, function (event) {\n            if (current && current.options.show.modal.escape && event.keyCode === 27) {\n              current.hide(event);\n            }\n          }); // Apply click handler for blur option\n\n          elem.bind('click' + MODALSELECTOR, function (event) {\n            if (current && current.options.show.modal.blur) {\n              current.hide(event);\n            }\n          });\n          return self;\n        },\n        update: function update(api) {\n          // Update current API reference\n          current = api; // Update focusable elements if enabled\n\n          if (api.options.show.modal.stealfocus !== FALSE) {\n            focusableElems = api.tooltip.find('*').filter(function () {\n              return focusable(this);\n            });\n          } else {\n            focusableElems = [];\n          }\n        },\n        toggle: function toggle(api, state, duration) {\n          var tooltip = api.tooltip,\n              options = api.options.show.modal,\n              effect = options.effect,\n              type = state ? 'show' : 'hide',\n              visible = elem.is(':visible'),\n              visibleModals = $(MODALSELECTOR).filter(':visible:not(:animated)').not(tooltip); // Set active tooltip API reference\n\n          self.update(api); // If the modal can steal the focus...\n          // Blur the current item and focus anything in the modal we an\n\n          if (state && options.stealfocus !== FALSE) {\n            focusInputs($(':focus'));\n          } // Toggle backdrop cursor style on show\n\n\n          elem.toggleClass('blurs', options.blur); // Append to body on show\n\n          if (state) {\n            elem.appendTo(document.body);\n          } // Prevent modal from conflicting with show.solo, and don't hide backdrop is other modals are visible\n\n\n          if (elem.is(':animated') && visible === state && prevState !== FALSE || !state && visibleModals.length) {\n            return self;\n          } // Stop all animations\n\n\n          elem.stop(TRUE, FALSE); // Use custom function if provided\n\n          if ($.isFunction(effect)) {\n            effect.call(elem, state);\n          } // If no effect type is supplied, use a simple toggle\n          else if (effect === FALSE) {\n            elem[type]();\n          } // Use basic fade function\n          else {\n            elem.fadeTo(parseInt(duration, 10) || 90, state ? 1 : 0, function () {\n              if (!state) {\n                elem.hide();\n              }\n            });\n          } // Reset position and detach from body on hide\n\n\n          if (!state) {\n            elem.queue(function (next) {\n              elem.css({\n                left: '',\n                top: ''\n              });\n\n              if (!$(MODALSELECTOR).length) {\n                elem.detach();\n              }\n\n              next();\n            });\n          } // Cache the state\n\n\n          prevState = state; // If the tooltip is destroyed, set reference to null\n\n          if (current.destroyed) {\n            current = NULL;\n          }\n\n          return self;\n        }\n      });\n      self.init();\n    };\n\n    OVERLAY = new OVERLAY();\n\n    function Modal(api, options) {\n      this.options = options;\n      this._ns = '-modal';\n      this.qtip = api;\n      this.init(api);\n    }\n\n    $.extend(Modal.prototype, {\n      init: function init(qtip) {\n        var tooltip = qtip.tooltip; // If modal is disabled... return\n\n        if (!this.options.on) {\n          return this;\n        } // Set overlay reference\n\n\n        qtip.elements.overlay = OVERLAY.elem; // Add unique attribute so we can grab modal tooltips easily via a SELECTOR, and set z-index\n\n        tooltip.addClass(MODALCLASS).css('z-index', QTIP.modal_zindex + $(MODALSELECTOR).length); // Apply our show/hide/focus modal events\n\n        qtip._bind(tooltip, ['tooltipshow', 'tooltiphide'], function (event, api, duration) {\n          var oEvent = event.originalEvent; // Make sure mouseout doesn't trigger a hide when showing the modal and mousing onto backdrop\n\n          if (event.target === tooltip[0]) {\n            if (oEvent && event.type === 'tooltiphide' && /mouse(leave|enter)/.test(oEvent.type) && $(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length) {\n              /* eslint-disable no-empty */\n              try {\n                event.preventDefault();\n              } catch (e) {}\n              /* eslint-enable no-empty */\n\n            } else if (!oEvent || oEvent && oEvent.type !== 'tooltipsolo') {\n              this.toggle(event, event.type === 'tooltipshow', duration);\n            }\n          }\n        }, this._ns, this); // Adjust modal z-index on tooltip focus\n\n\n        qtip._bind(tooltip, 'tooltipfocus', function (event, api) {\n          // If focus was cancelled before it reached us, don't do anything\n          if (event.isDefaultPrevented() || event.target !== tooltip[0]) {\n            return;\n          }\n\n          var qtips = $(MODALSELECTOR),\n              // Keep the modal's lower than other, regular qtips\n          newIndex = QTIP.modal_zindex + qtips.length,\n              curIndex = parseInt(tooltip[0].style.zIndex, 10); // Set overlay z-index\n\n          OVERLAY.elem[0].style.zIndex = newIndex - 1; // Reduce modal z-index's and keep them properly ordered\n\n          qtips.each(function () {\n            if (this.style.zIndex > curIndex) {\n              this.style.zIndex -= 1;\n            }\n          }); // Fire blur event for focused tooltip\n\n          qtips.filter('.' + CLASS_FOCUS).qtip('blur', event.originalEvent); // Set the new z-index\n\n          tooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex; // Set current\n\n          OVERLAY.update(api); // Prevent default handling\n\n          /* eslint-disable no-empty */\n\n          try {\n            event.preventDefault();\n          } catch (e) {}\n          /* eslint-enable no-empty */\n\n        }, this._ns, this); // Focus any other visible modals when this one hides\n\n\n        qtip._bind(tooltip, 'tooltiphide', function (event) {\n          if (event.target === tooltip[0]) {\n            $(MODALSELECTOR).filter(':visible').not(tooltip).last().qtip('focus', event);\n          }\n        }, this._ns, this);\n      },\n      toggle: function toggle(event, state, duration) {\n        // Make sure default event hasn't been prevented\n        if (event && event.isDefaultPrevented()) {\n          return this;\n        } // Toggle it\n\n\n        OVERLAY.toggle(this.qtip, !!state, duration);\n      },\n      destroy: function destroy() {\n        // Remove modal class\n        this.qtip.tooltip.removeClass(MODALCLASS); // Remove bound events\n\n        this.qtip._unbind(this.qtip.tooltip, this._ns); // Delete element reference\n\n\n        OVERLAY.toggle(this.qtip, FALSE);\n        delete this.qtip.elements.overlay;\n      }\n    });\n\n    MODAL = PLUGINS.modal = function (api) {\n      return new Modal(api, api.options.show.modal);\n    }; // Setup sanitiztion rules\n\n\n    MODAL.sanitize = function (opts) {\n      if (opts.show) {\n        if (typeof opts.show.modal !== 'object') {\n          opts.show.modal = {\n            on: !!opts.show.modal\n          };\n        } else if (typeof opts.show.modal.on === 'undefined') {\n          opts.show.modal.on = TRUE;\n        }\n      }\n    }; // Base z-index for all modal tooltips (use qTip core z-index as a base)\n\n    /* eslint-disable camelcase */\n\n\n    QTIP.modal_zindex = QTIP.zindex - 200;\n    /* eslint-enable camelcase */\n    // Plugin needs to be initialized on render\n\n    MODAL.initialize = 'render'; // Setup option set checks\n\n    CHECKS.modal = {\n      '^show.modal.(on|blur)$': function showModalOnBlur$() {\n        // Initialise\n        this.destroy();\n        this.init(); // Show the modal if not visible already and tooltip is visible\n\n        this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth > 0);\n      }\n    }; // Extend original api defaults\n\n    $.extend(TRUE, QTIP.defaults, {\n      show: {\n        modal: {\n          on: FALSE,\n          effect: TRUE,\n          blur: TRUE,\n          stealfocus: TRUE,\n          escape: TRUE\n        }\n      }\n    });\n    ;\n\n    PLUGINS.viewport = function (api, position, posOptions, targetWidth, targetHeight, elemWidth, elemHeight) {\n      var target = posOptions.target,\n          tooltip = api.elements.tooltip,\n          my = posOptions.my,\n          at = posOptions.at,\n          adjust = posOptions.adjust,\n          method = adjust.method.split(' '),\n          methodX = method[0],\n          methodY = method[1] || method[0],\n          viewport = posOptions.viewport,\n          container = posOptions.container,\n          adjusted = {\n        left: 0,\n        top: 0\n      },\n          fixed,\n          newMy,\n          containerOffset,\n          containerStatic,\n          viewportWidth,\n          viewportHeight,\n          viewportScroll,\n          viewportOffset; // If viewport is not a jQuery element, or it's the window/document, or no adjustment method is used... return\n\n      if (!viewport.jquery || target[0] === window || target[0] === document.body || adjust.method === 'none') {\n        return adjusted;\n      } // Cach container details\n\n\n      containerOffset = container.offset() || adjusted;\n      containerStatic = container.css('position') === 'static'; // Cache our viewport details\n\n      fixed = tooltip.css('position') === 'fixed';\n      viewportWidth = viewport[0] === window ? viewport.width() : viewport.outerWidth(FALSE);\n      viewportHeight = viewport[0] === window ? viewport.height() : viewport.outerHeight(FALSE);\n      viewportScroll = {\n        left: fixed ? 0 : viewport.scrollLeft(),\n        top: fixed ? 0 : viewport.scrollTop()\n      };\n      viewportOffset = viewport.offset() || adjusted; // Generic calculation method\n\n      function calculate(side, otherSide, type, adjustment, side1, side2, lengthName, targetLength, elemLength) {\n        var initialPos = position[side1],\n            mySide = my[side],\n            atSide = at[side],\n            isShift = type === SHIFT,\n            myLength = mySide === side1 ? elemLength : mySide === side2 ? -elemLength : -elemLength / 2,\n            atLength = atSide === side1 ? targetLength : atSide === side2 ? -targetLength : -targetLength / 2,\n            sideOffset = viewportScroll[side1] + viewportOffset[side1] - (containerStatic ? 0 : containerOffset[side1]),\n            overflow1 = sideOffset - initialPos,\n            overflow2 = initialPos + elemLength - (lengthName === WIDTH ? viewportWidth : viewportHeight) - sideOffset,\n            offset = myLength - (my.precedance === side || mySide === my[otherSide] ? atLength : 0) - (atSide === CENTER ? targetLength / 2 : 0); // shift\n\n        if (isShift) {\n          offset = (mySide === side1 ? 1 : -1) * myLength; // Adjust position but keep it within viewport dimensions\n\n          position[side1] += overflow1 > 0 ? overflow1 : overflow2 > 0 ? -overflow2 : 0;\n          position[side1] = Math.max(-containerOffset[side1] + viewportOffset[side1], initialPos - offset, Math.min(Math.max(-containerOffset[side1] + viewportOffset[side1] + (lengthName === WIDTH ? viewportWidth : viewportHeight), initialPos + offset), position[side1], // Make sure we don't adjust complete off the element when using 'center'\n          mySide === 'center' ? initialPos - myLength : 1E9));\n        } // flip/flipinvert\n        else {\n          // Update adjustment amount depending on if using flipinvert or flip\n          adjustment *= type === FLIPINVERT ? 2 : 0; // Check for overflow on the left/top\n\n          if (overflow1 > 0 && (mySide !== side1 || overflow2 > 0)) {\n            position[side1] -= offset + adjustment;\n            newMy.invert(side, side1);\n          } // Check for overflow on the bottom/right\n          else if (overflow2 > 0 && (mySide !== side2 || overflow1 > 0)) {\n            position[side1] -= (mySide === CENTER ? -offset : offset) + adjustment;\n            newMy.invert(side, side2);\n          } // Make sure we haven't made things worse with the adjustment and reset if so\n\n\n          if (position[side1] < viewportScroll[side1] && -position[side1] > overflow2) {\n            position[side1] = initialPos;\n            newMy = my.clone();\n          }\n        }\n\n        return position[side1] - initialPos;\n      } // Set newMy if using flip or flipinvert methods\n\n\n      if (methodX !== 'shift' || methodY !== 'shift') {\n        newMy = my.clone();\n      } // Adjust position based onviewport and adjustment options\n\n\n      adjusted = {\n        left: methodX !== 'none' ? calculate(X, Y, methodX, adjust.x, LEFT, RIGHT, WIDTH, targetWidth, elemWidth) : 0,\n        top: methodY !== 'none' ? calculate(Y, X, methodY, adjust.y, TOP, BOTTOM, HEIGHT, targetHeight, elemHeight) : 0,\n        my: newMy\n      };\n      return adjusted;\n    };\n\n    ;\n    PLUGINS.polys = {\n      // POLY area coordinate calculator\n      //\tSpecial thanks to Ed Cradock for helping out with this.\n      //\tUses a binary search algorithm to find suitable coordinates.\n      polygon: function polygon(baseCoords, corner) {\n        var result = {\n          width: 0,\n          height: 0,\n          position: {\n            top: 1e10,\n            right: 0,\n            bottom: 0,\n            left: 1e10\n          },\n          adjustable: FALSE\n        },\n            i = 0,\n            next,\n            coords = [],\n            compareX = 1,\n            compareY = 1,\n            realX = 0,\n            realY = 0,\n            newWidth,\n            newHeight; // First pass, sanitize coords and determine outer edges\n\n        i = baseCoords.length;\n\n        while (i--) {\n          next = [parseInt(baseCoords[--i], 10), parseInt(baseCoords[i + 1], 10)];\n\n          if (next[0] > result.position.right) {\n            result.position.right = next[0];\n          }\n\n          if (next[0] < result.position.left) {\n            result.position.left = next[0];\n          }\n\n          if (next[1] > result.position.bottom) {\n            result.position.bottom = next[1];\n          }\n\n          if (next[1] < result.position.top) {\n            result.position.top = next[1];\n          }\n\n          coords.push(next);\n        } // Calculate height and width from outer edges\n\n\n        newWidth = result.width = Math.abs(result.position.right - result.position.left);\n        newHeight = result.height = Math.abs(result.position.bottom - result.position.top); // If it's the center corner...\n\n        if (corner.abbrev() === 'c') {\n          result.position = {\n            left: result.position.left + result.width / 2,\n            top: result.position.top + result.height / 2\n          };\n        } else {\n          // Second pass, use a binary search algorithm to locate most suitable coordinate\n          while (newWidth > 0 && newHeight > 0 && compareX > 0 && compareY > 0) {\n            newWidth = Math.floor(newWidth / 2);\n            newHeight = Math.floor(newHeight / 2);\n\n            if (corner.x === LEFT) {\n              compareX = newWidth;\n            } else if (corner.x === RIGHT) {\n              compareX = result.width - newWidth;\n            } else {\n              compareX += Math.floor(newWidth / 2);\n            }\n\n            if (corner.y === TOP) {\n              compareY = newHeight;\n            } else if (corner.y === BOTTOM) {\n              compareY = result.height - newHeight;\n            } else {\n              compareY += Math.floor(newHeight / 2);\n            }\n\n            i = coords.length;\n\n            while (i--) {\n              if (coords.length < 2) {\n                break;\n              }\n\n              realX = coords[i][0] - result.position.left;\n              realY = coords[i][1] - result.position.top;\n\n              if (corner.x === LEFT && realX >= compareX || corner.x === RIGHT && realX <= compareX || corner.x === CENTER && (realX < compareX || realX > result.width - compareX) || corner.y === TOP && realY >= compareY || corner.y === BOTTOM && realY <= compareY || corner.y === CENTER && (realY < compareY || realY > result.height - compareY)) {\n                coords.splice(i, 1);\n              }\n            }\n          }\n\n          result.position = {\n            left: coords[0][0],\n            top: coords[0][1]\n          };\n        }\n\n        return result;\n      },\n      rect: function rect(ax, ay, bx, by) {\n        return {\n          width: Math.abs(bx - ax),\n          height: Math.abs(by - ay),\n          position: {\n            left: Math.min(ax, bx),\n            top: Math.min(ay, by)\n          }\n        };\n      },\n      _angles: {\n        tc: 3 / 2,\n        tr: 7 / 4,\n        tl: 5 / 4,\n        bc: 1 / 2,\n        br: 1 / 4,\n        bl: 3 / 4,\n        rc: 2,\n        lc: 1,\n        c: 0\n      },\n      ellipse: function ellipse(cx, cy, rx, ry, corner) {\n        var c = PLUGINS.polys._angles[corner.abbrev()],\n            rxc = c === 0 ? 0 : rx * Math.cos(c * Math.PI),\n            rys = ry * Math.sin(c * Math.PI);\n\n        return {\n          width: rx * 2 - Math.abs(rxc),\n          height: ry * 2 - Math.abs(rys),\n          position: {\n            left: cx + rxc,\n            top: cy + rys\n          },\n          adjustable: FALSE\n        };\n      },\n      circle: function circle(cx, cy, r, corner) {\n        return PLUGINS.polys.ellipse(cx, cy, r, r, corner);\n      }\n    };\n    ;\n\n    PLUGINS.svg = function (api, svg, corner) {\n      var elem = svg[0],\n          root = $(elem.ownerSVGElement),\n          ownerDocument = elem.ownerDocument,\n          strokeWidth2 = (parseInt(svg.css('stroke-width'), 10) || 0) / 2,\n          frameOffset,\n          mtx,\n          transformed,\n          len,\n          next,\n          i,\n          points,\n          result,\n          position; // Ascend the parentNode chain until we find an element with getBBox()\n\n      while (!elem.getBBox) {\n        elem = elem.parentNode;\n      }\n\n      if (!elem.getBBox || !elem.parentNode) {\n        return FALSE;\n      } // Determine which shape calculation to use\n\n\n      switch (elem.nodeName) {\n        case 'ellipse':\n        case 'circle':\n          result = PLUGINS.polys.ellipse(elem.cx.baseVal.value, elem.cy.baseVal.value, (elem.rx || elem.r).baseVal.value + strokeWidth2, (elem.ry || elem.r).baseVal.value + strokeWidth2, corner);\n          break;\n\n        case 'line':\n        case 'polygon':\n        case 'polyline':\n          // Determine points object (line has none, so mimic using array)\n          points = elem.points || [{\n            x: elem.x1.baseVal.value,\n            y: elem.y1.baseVal.value\n          }, {\n            x: elem.x2.baseVal.value,\n            y: elem.y2.baseVal.value\n          }];\n\n          for (result = [], i = -1, len = points.numberOfItems || points.length; ++i < len;) {\n            next = points.getItem ? points.getItem(i) : points[i];\n            result.push.apply(result, [next.x, next.y]);\n          }\n\n          result = PLUGINS.polys.polygon(result, corner);\n          break;\n        // Unknown shape or rectangle? Use bounding box\n\n        default:\n          result = elem.getBBox();\n          result = {\n            width: result.width,\n            height: result.height,\n            position: {\n              left: result.x,\n              top: result.y\n            }\n          };\n          break;\n      } // Shortcut assignments\n\n\n      position = result.position;\n      root = root[0]; // Convert position into a pixel value\n\n      if (root.createSVGPoint) {\n        mtx = elem.getScreenCTM();\n        points = root.createSVGPoint();\n        points.x = position.left;\n        points.y = position.top;\n        transformed = points.matrixTransform(mtx);\n        position.left = transformed.x;\n        position.top = transformed.y;\n      } // Check the element is not in a child document, and if so, adjust for frame elements offset\n\n\n      if (ownerDocument !== document && api.position.target !== 'mouse') {\n        frameOffset = $((ownerDocument.defaultView || ownerDocument.parentWindow).frameElement).offset();\n\n        if (frameOffset) {\n          position.left += frameOffset.left;\n          position.top += frameOffset.top;\n        }\n      } // Adjust by scroll offset of owner document\n\n\n      ownerDocument = $(ownerDocument);\n      position.left += ownerDocument.scrollLeft();\n      position.top += ownerDocument.scrollTop();\n      return result;\n    };\n\n    ;\n\n    PLUGINS.imagemap = function (api, area, corner) {\n      if (!area.jquery) {\n        area = $(area);\n      }\n\n      var shape = (area.attr('shape') || 'rect').toLowerCase().replace('poly', 'polygon'),\n          image = $('img[usemap=\"#' + area.parent('map').attr('name') + '\"]'),\n          coordsString = $.trim(area.attr('coords')),\n          coordsArray = coordsString.replace(/,$/, '').split(','),\n          imageOffset,\n          coords,\n          i,\n          result,\n          len; // If we can't find the image using the map...\n\n      if (!image.length) {\n        return FALSE;\n      } // Pass coordinates string if polygon\n\n\n      if (shape === 'polygon') {\n        result = PLUGINS.polys.polygon(coordsArray, corner);\n      } // Otherwise parse the coordinates and pass them as arguments\n      else if (PLUGINS.polys[shape]) {\n        for (i = -1, len = coordsArray.length, coords = []; ++i < len;) {\n          coords.push(parseInt(coordsArray[i], 10));\n        }\n\n        result = PLUGINS.polys[shape].apply(this, coords.concat(corner));\n      } // If no shapre calculation method was found, return false\n      else {\n        return FALSE;\n      } // Make sure we account for padding and borders on the image\n\n\n      imageOffset = image.offset();\n      imageOffset.left += Math.ceil((image.outerWidth(FALSE) - image.width()) / 2);\n      imageOffset.top += Math.ceil((image.outerHeight(FALSE) - image.height()) / 2); // Add image position to offset coordinates\n\n      result.position.left += imageOffset.left;\n      result.position.top += imageOffset.top;\n      return result;\n    };\n\n    ;\n    var IE6,\n\n    /*\n     * BGIFrame adaption (http://plugins.jquery.com/project/bgiframe)\n     * Special thanks to Brandon Aaron\n     */\n    BGIFRAME = '<iframe class=\"qtip-bgiframe\" frameborder=\"0\" tabindex=\"-1\" src=\"javascript:\\'\\';\" ' + ' style=\"display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); ' + '-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\"></iframe>';\n\n    function Ie6(api) {\n      this._ns = 'ie6';\n      this.qtip = api;\n      this.init(api);\n    }\n\n    $.extend(Ie6.prototype, {\n      _scroll: function _scroll() {\n        var overlay = this.qtip.elements.overlay;\n        overlay && (overlay[0].style.top = $(window).scrollTop() + 'px');\n      },\n      init: function init(qtip) {\n        var tooltip = qtip.tooltip; // Create the BGIFrame element if needed\n\n        if ($('select, object').length < 1) {\n          this.bgiframe = qtip.elements.bgiframe = $(BGIFRAME).appendTo(tooltip); // Update BGIFrame on tooltip move\n\n          qtip._bind(tooltip, 'tooltipmove', this.adjustBGIFrame, this._ns, this);\n        } // redraw() container for width/height calculations\n\n\n        this.redrawContainer = $('<div/>', {\n          id: NAMESPACE + '-rcontainer'\n        }).appendTo(document.body); // Fixup modal plugin if present too\n\n        if (qtip.elements.overlay && qtip.elements.overlay.addClass('qtipmodal-ie6fix')) {\n          qtip._bind(window, ['scroll', 'resize'], this._scroll, this._ns, this);\n\n          qtip._bind(tooltip, ['tooltipshow'], this._scroll, this._ns, this);\n        } // Set dimensions\n\n\n        this.redraw();\n      },\n      adjustBGIFrame: function adjustBGIFrame() {\n        var tooltip = this.qtip.tooltip,\n            dimensions = {\n          height: tooltip.outerHeight(FALSE),\n          width: tooltip.outerWidth(FALSE)\n        },\n            plugin = this.qtip.plugins.tip,\n            tip = this.qtip.elements.tip,\n            tipAdjust,\n            offset; // Adjust border offset\n\n        offset = parseInt(tooltip.css('borderLeftWidth'), 10) || 0;\n        offset = {\n          left: -offset,\n          top: -offset\n        }; // Adjust for tips plugin\n\n        if (plugin && tip) {\n          tipAdjust = plugin.corner.precedance === 'x' ? [WIDTH, LEFT] : [HEIGHT, TOP];\n          offset[tipAdjust[1]] -= tip[tipAdjust[0]]();\n        } // Update bgiframe\n\n\n        this.bgiframe.css(offset).css(dimensions);\n      },\n      // Max/min width simulator function\n      redraw: function redraw() {\n        if (this.qtip.rendered < 1 || this.drawing) {\n          return this;\n        }\n\n        var tooltip = this.qtip.tooltip,\n            style = this.qtip.options.style,\n            container = this.qtip.options.position.container,\n            perc,\n            width,\n            max,\n            min; // Set drawing flag\n\n        this.qtip.drawing = 1; // If tooltip has a set height/width, just set it... like a boss!\n\n        if (style.height) {\n          tooltip.css(HEIGHT, style.height);\n        }\n\n        if (style.width) {\n          tooltip.css(WIDTH, style.width);\n        } // Simulate max/min width if not set width present...\n        else {\n          // Reset width and add fluid class\n          tooltip.css(WIDTH, '').appendTo(this.redrawContainer); // Grab our tooltip width (add 1 if odd so we don't get wrapping problems.. huzzah!)\n\n          width = tooltip.width();\n\n          if (width % 2 < 1) {\n            width += 1;\n          } // Grab our max/min properties\n\n\n          max = tooltip.css('maxWidth') || '';\n          min = tooltip.css('minWidth') || ''; // Parse into proper pixel values\n\n          perc = (max + min).indexOf('%') > -1 ? container.width() / 100 : 0;\n          max = (max.indexOf('%') > -1 ? perc : 1 * parseInt(max, 10)) || width;\n          min = (min.indexOf('%') > -1 ? perc : 1 * parseInt(min, 10)) || 0; // Determine new dimension size based on max/min/current values\n\n          width = max + min ? Math.min(Math.max(width, min), max) : width; // Set the newly calculated width and remvoe fluid class\n\n          tooltip.css(WIDTH, Math.round(width)).appendTo(container);\n        } // Set drawing flag\n\n\n        this.drawing = 0;\n        return this;\n      },\n      destroy: function destroy() {\n        // Remove iframe\n        this.bgiframe && this.bgiframe.remove(); // Remove bound events\n\n        this.qtip._unbind([window, this.qtip.tooltip], this._ns);\n      }\n    });\n\n    IE6 = PLUGINS.ie6 = function (api) {\n      // Proceed only if the browser is IE6\n      return BROWSER.ie === 6 ? new Ie6(api) : FALSE;\n    };\n\n    IE6.initialize = 'render';\n    CHECKS.ie6 = {\n      '^content|style$': function contentStyle$() {\n        this.redraw();\n      }\n    };\n    ;\n  });\n})(window, document);","map":{"version":3,"sources":["C:/Users/zantas92/Documents/Enkt/Client/node_modules/qtip2/dist/jquery.qtip.js"],"names":["window","document","undefined","factory","define","amd","jQuery","fn","qtip","$","TRUE","FALSE","NULL","X","Y","WIDTH","HEIGHT","TOP","LEFT","BOTTOM","RIGHT","CENTER","FLIP","FLIPINVERT","SHIFT","QTIP","PROTOTYPE","CORNER","CHECKS","PLUGINS","NAMESPACE","ATTR_HAS","ATTR_ID","WIDGET","SELECTOR","INACTIVE_EVENTS","split","CLASS_FIXED","CLASS_DEFAULT","CLASS_FOCUS","CLASS_HOVER","CLASS_DISABLED","replaceSuffix","oldtitle","trackingBound","BROWSER","ie","v","i","createElement","innerHTML","getElementsByTagName","NaN","iOS","parseFloat","exec","navigator","userAgent","replace","QTip","target","options","id","attr","tooltip","elements","_id","timers","img","plugins","cache","event","disabled","onTooltip","lastClass","rendered","destroyed","waiting","hiddenDuringWait","positioning","triggering","prototype","_when","deferreds","when","apply","render","show","self","text","content","title","button","posOptions","position","posClass","_createPosClass","my","at","style","classes","join","width","height","adjust","mouse","toggleClass","data","appendTo","container","append","_createTitle","isFunction","push","_updateTitle","_createButton","_updateContent","_setWidget","each","name","instance","initialize","_unassignEvents","_assignEvents","then","_trigger","ready","toggle","api","destroy","immediate","process","timer","stop","find","remove","end","hasOwnProperty","clearTimeout","removeData","removeAttr","suppress","one","proxy","hide","call","invalidOpt","a","type","invalidContent","c","length","jquery","sanitizeOptions","opts","ajax","once","metadata","done","loading","deferred","extend","context","success","error","newContent","set","xhr","status","isPlainObject","sanitize","checks","builtin","obj","o","prev","nextid","newId","_removeTitle","_updateButton","p","removeClass","addClass","css","convertNotation","notation","option","levels","pop","get","toLowerCase","result","precedance","string","setCallback","args","category","rule","match","RegExp","rmove","rrender","value","reposition","val","test","previous","nodeType","offsetWidth","_update","element","e","empty","display","visibility","html","_waitForContent","images","imagesLoaded","Deferred","resolve","promise","titlebar","widget","createWidgetClass","insertBefore","delegate","substr","abbrev","effect","viewport","method","tooltipWidth","outerWidth","tooltipHeight","outerHeight","targetWidth","targetHeight","left","top","visible","isScroll","win","doc","ownerDocument","pluginCalculations","offset","adjusted","newClass","isArray","x","y","distance","origin","pageX","body","innerWidth","documentElement","clientWidth","pageY","scrollX","scrollLeft","scrollY","scrollTop","eq","innerHeight","imagemap","is","svg","ownerSVGElement","adjustable","elem","isNaN","queue","next","opacity","removeAttribute","pos","quirks","compatMode","parent","scrolled","parentOffset","overflow","scroll","getBoundingClientRect","offsetParent","C","Corner","corner","forceY","f","charAt","invert","z","center","clone","state","add","has","relatedTarget","fix","contentOptions","animate","sameTarget","identicalState","allow","after","search","focus","bind","_storeMouse","arguments","solo","not","Event","unbind","blur","autofocus","trigger","n","fadeTo","qtips","curIndex","parseInt","zIndex","newIndex","zindex","hasClass","filter","disable","enable","isString","close","prepend","click","cls","concat","on","def","delay","callback","duration","setTimeout","showMethod","hideMethod","ontoTooltip","closest","ontoTarget","fixed","preventDefault","stopImmediatePropagation","inactiveMethod","inactive","repositionMethod","_bind","targets","events","suffix","ns","_unbind","selector","originalEvent","isDefaultPrevented","_bindEvents","showEvents","hideEvents","showTargets","hideTargets","showCallback","hideCallback","similarTargets","toggleEvents","showIndex","inArray","splice","_assignInitialEvents","showTarget","hideTarget","trim","moveEvent","onTarget","hoverIntent","hoverEvent","prerender","containerTarget","viewportTarget","documentTarget","windowTarget","leave","nodeName","indexOf","enabled","isAncestor","parents","inactiveEvents","limit","abs","Math","resize","special","grep","toArray","currentTarget","init","config","docBody","newTarget","metadata5","html5","parseJSON","defaults","overwrite","newValue","command","returned","makeArray","slice","timeStamp","keepData","elems","func","old","ui","cleanData","triggerHandler","version","move","hidden","TIP","createVML","SCALE","PIXEL_RATIO","BACKING_STORE_RATIO","MARGIN","BORDER","COLOR","BG_COLOR","TRANSPARENT","IMPORTANT","HASCANVAS","getContext","INVALID","camel","s","toUpperCase","cssProps","cssPrefixes","vendorCss","prop","ucProp","props","cur","intCss","ceil","tag","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","Tip","_ns","size","tip","prependTo","lineJoin","miterLimit","save","stopPropagation","create","_swapDimensions","_resetDimensions","_useTitle","_parseCorner","_parseWidth","side","use","_parseRadius","_invalidColour","compare","_parseColours","borderSide","colorElem","color","_calculateSize","isCenter","base","pow","round","bigHyp","ratio","smallHyp","sqrt","hyp","border","reverse","_calculateTip","scale","width2","height2","tips","br","bl","tr","tl","tc","bc","rc","lc","lt","rt","lb","rb","_drawCoords","coords","beginPath","moveTo","lineTo","closePath","update","inner","children","curSize","mimic","bigCoords","translate","newSize","lineHeight","restore","clearRect","fillStyle","fill","coordsize","antialias","Number","$this","path","fillcolor","filled","stroked","opera","calculate","userOffset","corners","b","max","margin","bottom","right","newCorner","horizontal","vertical","shift","shiftflip","direction","popposite","opposite","shiftonly","xy","cornerTop","cornerLeft","user","MODAL","OVERLAY","MODALCLASS","MODALSELECTOR","focusableElems","current","prevState","focusable","expr","isTabIndexNotNaN","map","mapName","parentNode","href","focusInputs","blurElems","first","stealFocus","targetOnTop","mousedown","modal","escape","keyCode","stealfocus","visibleModals","detach","Modal","overlay","modal_zindex","oEvent","last","elemWidth","elemHeight","methodX","methodY","newMy","containerOffset","containerStatic","viewportWidth","viewportHeight","viewportScroll","viewportOffset","otherSide","adjustment","side1","side2","lengthName","targetLength","elemLength","initialPos","mySide","atSide","isShift","myLength","atLength","sideOffset","overflow1","overflow2","min","polys","polygon","baseCoords","compareX","compareY","realX","realY","newWidth","newHeight","floor","rect","ax","ay","bx","by","_angles","ellipse","cx","cy","rx","ry","rxc","cos","PI","rys","sin","circle","r","root","strokeWidth2","frameOffset","mtx","transformed","len","points","getBBox","baseVal","x1","y1","x2","y2","numberOfItems","getItem","createSVGPoint","getScreenCTM","matrixTransform","defaultView","parentWindow","frameElement","area","shape","image","coordsString","coordsArray","imageOffset","IE6","BGIFRAME","Ie6","_scroll","bgiframe","adjustBGIFrame","redrawContainer","redraw","dimensions","plugin","tipAdjust","drawing","perc","ie6"],"mappings":"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","sourcesContent":["/*\n * qTip2 - Pretty powerful tooltips - v3.0.3\n * http://qtip2.com\n *\n * Copyright (c) 2016 \n * Released under the MIT licenses\n * http://jquery.org/license\n *\n * Date: Wed May 11 2016 10:31 GMT+0100+0100\n * Plugins: tips modal viewport svg imagemap ie6\n * Styles: core basic css3\n */\n/*global window: false, jQuery: false, console: false, define: false */\n\n/* Cache window, document, undefined */\n(function( window, document, undefined ) {\n\n// Uses AMD or browser globals to create a jQuery plugin.\n(function( factory ) {\n\t\"use strict\";\n\tif(typeof define === 'function' && define.amd) {\n\t\tdefine(['jquery'], factory);\n\t}\n\telse if(jQuery && !jQuery.fn.qtip) {\n\t\tfactory(jQuery);\n\t}\n}\n(function($) {\n\t\"use strict\"; // Enable ECMAScript \"strict\" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\n;// Munge the primitives - Paul Irish tip\nvar TRUE = true,\nFALSE = false,\nNULL = null,\n\n// Common variables\nX = 'x', Y = 'y',\nWIDTH = 'width',\nHEIGHT = 'height',\n\n// Positioning sides\nTOP = 'top',\nLEFT = 'left',\nBOTTOM = 'bottom',\nRIGHT = 'right',\nCENTER = 'center',\n\n// Position adjustment types\nFLIP = 'flip',\nFLIPINVERT = 'flipinvert',\nSHIFT = 'shift',\n\n// Shortcut vars\nQTIP, PROTOTYPE, CORNER, CHECKS,\nPLUGINS = {},\nNAMESPACE = 'qtip',\nATTR_HAS = 'data-hasqtip',\nATTR_ID = 'data-qtip-id',\nWIDGET = ['ui-widget', 'ui-tooltip'],\nSELECTOR = '.'+NAMESPACE,\nINACTIVE_EVENTS = 'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),\n\nCLASS_FIXED = NAMESPACE+'-fixed',\nCLASS_DEFAULT = NAMESPACE + '-default',\nCLASS_FOCUS = NAMESPACE + '-focus',\nCLASS_HOVER = NAMESPACE + '-hover',\nCLASS_DISABLED = NAMESPACE+'-disabled',\n\nreplaceSuffix = '_replacedByqTip',\noldtitle = 'oldtitle',\ntrackingBound,\n\n// Browser detection\nBROWSER = {\n\t/*\n\t * IE version detection\n\t *\n\t * Adapted from: http://ajaxian.com/archives/attack-of-the-ie-conditional-comment\n\t * Credit to James Padolsey for the original implemntation!\n\t */\n\tie: (function() {\n\t\t/* eslint-disable no-empty */\n\t\tvar v, i;\n\t\tfor (\n\t\t\tv = 4, i = document.createElement('div');\n\t\t\t(i.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->') && i.getElementsByTagName('i')[0];\n\t\t\tv+=1\n\t\t) {}\n\t\treturn v > 4 ? v : NaN;\n\t\t/* eslint-enable no-empty */\n\t})(),\n\n\t/*\n\t * iOS version detection\n\t */\n\tiOS: parseFloat(\n\t\t('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0,''])[1])\n\t\t.replace('undefined', '3_2').replace('_', '.').replace('_', '')\n\t) || FALSE\n};\n;function QTip(target, options, id, attr) {\n\t// Elements and ID\n\tthis.id = id;\n\tthis.target = target;\n\tthis.tooltip = NULL;\n\tthis.elements = { target: target };\n\n\t// Internal constructs\n\tthis._id = NAMESPACE + '-' + id;\n\tthis.timers = { img: {} };\n\tthis.options = options;\n\tthis.plugins = {};\n\n\t// Cache object\n\tthis.cache = {\n\t\tevent: {},\n\t\ttarget: $(),\n\t\tdisabled: FALSE,\n\t\tattr: attr,\n\t\tonTooltip: FALSE,\n\t\tlastClass: ''\n\t};\n\n\t// Set the initial flags\n\tthis.rendered = this.destroyed = this.disabled = this.waiting =\n\t\tthis.hiddenDuringWait = this.positioning = this.triggering = FALSE;\n}\nPROTOTYPE = QTip.prototype;\n\nPROTOTYPE._when = function(deferreds) {\n\treturn $.when.apply($, deferreds);\n};\n\nPROTOTYPE.render = function(show) {\n\tif(this.rendered || this.destroyed) { return this; } // If tooltip has already been rendered, exit\n\n\tvar self = this,\n\t\toptions = this.options,\n\t\tcache = this.cache,\n\t\telements = this.elements,\n\t\ttext = options.content.text,\n\t\ttitle = options.content.title,\n\t\tbutton = options.content.button,\n\t\tposOptions = options.position,\n\t\tdeferreds = [];\n\n\t// Add ARIA attributes to target\n\t$.attr(this.target[0], 'aria-describedby', this._id);\n\n\t// Create public position object that tracks current position corners\n\tcache.posClass = this._createPosClass(\n\t\t(this.position = { my: posOptions.my, at: posOptions.at }).my\n\t);\n\n\t// Create tooltip element\n\tthis.tooltip = elements.tooltip = $('<div/>', {\n\t\t'id': this._id,\n\t\t'class': [ NAMESPACE, CLASS_DEFAULT, options.style.classes, cache.posClass ].join(' '),\n\t\t'width': options.style.width || '',\n\t\t'height': options.style.height || '',\n\t\t'tracking': posOptions.target === 'mouse' && posOptions.adjust.mouse,\n\n\t\t/* ARIA specific attributes */\n\t\t'role': 'alert',\n\t\t'aria-live': 'polite',\n\t\t'aria-atomic': FALSE,\n\t\t'aria-describedby': this._id + '-content',\n\t\t'aria-hidden': TRUE\n\t})\n\t.toggleClass(CLASS_DISABLED, this.disabled)\n\t.attr(ATTR_ID, this.id)\n\t.data(NAMESPACE, this)\n\t.appendTo(posOptions.container)\n\t.append(\n\t\t// Create content element\n\t\telements.content = $('<div />', {\n\t\t\t'class': NAMESPACE + '-content',\n\t\t\t'id': this._id + '-content',\n\t\t\t'aria-atomic': TRUE\n\t\t})\n\t);\n\n\t// Set rendered flag and prevent redundant reposition calls for now\n\tthis.rendered = -1;\n\tthis.positioning = TRUE;\n\n\t// Create title...\n\tif(title) {\n\t\tthis._createTitle();\n\n\t\t// Update title only if its not a callback (called in toggle if so)\n\t\tif(!$.isFunction(title)) {\n\t\t\tdeferreds.push( this._updateTitle(title, FALSE) );\n\t\t}\n\t}\n\n\t// Create button\n\tif(button) { this._createButton(); }\n\n\t// Set proper rendered flag and update content if not a callback function (called in toggle)\n\tif(!$.isFunction(text)) {\n\t\tdeferreds.push( this._updateContent(text, FALSE) );\n\t}\n\tthis.rendered = TRUE;\n\n\t// Setup widget classes\n\tthis._setWidget();\n\n\t// Initialize 'render' plugins\n\t$.each(PLUGINS, function(name) {\n\t\tvar instance;\n\t\tif(this.initialize === 'render' && (instance = this(self))) {\n\t\t\tself.plugins[name] = instance;\n\t\t}\n\t});\n\n\t// Unassign initial events and assign proper events\n\tthis._unassignEvents();\n\tthis._assignEvents();\n\n\t// When deferreds have completed\n\tthis._when(deferreds).then(function() {\n\t\t// tooltiprender event\n\t\tself._trigger('render');\n\n\t\t// Reset flags\n\t\tself.positioning = FALSE;\n\n\t\t// Show tooltip if not hidden during wait period\n\t\tif(!self.hiddenDuringWait && (options.show.ready || show)) {\n\t\t\tself.toggle(TRUE, cache.event, FALSE);\n\t\t}\n\t\tself.hiddenDuringWait = FALSE;\n\t});\n\n\t// Expose API\n\tQTIP.api[this.id] = this;\n\n\treturn this;\n};\n\nPROTOTYPE.destroy = function(immediate) {\n\t// Set flag the signify destroy is taking place to plugins\n\t// and ensure it only gets destroyed once!\n\tif(this.destroyed) { return this.target; }\n\n\tfunction process() {\n\t\tif(this.destroyed) { return; }\n\t\tthis.destroyed = TRUE;\n\n\t\tvar target = this.target,\n\t\t\ttitle = target.attr(oldtitle),\n\t\t\ttimer;\n\n\t\t// Destroy tooltip if rendered\n\t\tif(this.rendered) {\n\t\t\tthis.tooltip.stop(1,0).find('*').remove().end().remove();\n\t\t}\n\n\t\t// Destroy all plugins\n\t\t$.each(this.plugins, function() {\n\t\t\tthis.destroy && this.destroy();\n\t\t});\n\n\t\t// Clear timers\n\t\tfor (timer in this.timers) {\n\t\t\tif (this.timers.hasOwnProperty(timer)) {\n\t\t\t\tclearTimeout(this.timers[timer]);\n\t\t\t}\n\t\t}\n\n\t\t// Remove api object and ARIA attributes\n\t\ttarget.removeData(NAMESPACE)\n\t\t\t.removeAttr(ATTR_ID)\n\t\t\t.removeAttr(ATTR_HAS)\n\t\t\t.removeAttr('aria-describedby');\n\n\t\t// Reset old title attribute if removed\n\t\tif(this.options.suppress && title) {\n\t\t\ttarget.attr('title', title).removeAttr(oldtitle);\n\t\t}\n\n\t\t// Remove qTip events associated with this API\n\t\tthis._unassignEvents();\n\n\t\t// Remove ID from used id objects, and delete object references\n\t\t// for better garbage collection and leak protection\n\t\tthis.options = this.elements = this.cache = this.timers =\n\t\t\tthis.plugins = this.mouse = NULL;\n\n\t\t// Delete epoxsed API object\n\t\tdelete QTIP.api[this.id];\n\t}\n\n\t// If an immediate destroy is needed\n\tif((immediate !== TRUE || this.triggering === 'hide') && this.rendered) {\n\t\tthis.tooltip.one('tooltiphidden', $.proxy(process, this));\n\t\t!this.triggering && this.hide();\n\t}\n\n\t// If we're not in the process of hiding... process\n\telse { process.call(this); }\n\n\treturn this.target;\n};\n;function invalidOpt(a) {\n\treturn a === NULL || $.type(a) !== 'object';\n}\n\nfunction invalidContent(c) {\n\treturn !($.isFunction(c) || \n            c && c.attr || \n            c.length || \n            $.type(c) === 'object' && (c.jquery || c.then));\n}\n\n// Option object sanitizer\nfunction sanitizeOptions(opts) {\n\tvar content, text, ajax, once;\n\n\tif(invalidOpt(opts)) { return FALSE; }\n\n\tif(invalidOpt(opts.metadata)) {\n\t\topts.metadata = { type: opts.metadata };\n\t}\n\n\tif('content' in opts) {\n\t\tcontent = opts.content;\n\n\t\tif(invalidOpt(content) || content.jquery || content.done) {\n\t\t\ttext = invalidContent(content) ? FALSE : content;\n\t\t\tcontent = opts.content = {\n\t\t\t\ttext: text\n\t\t\t};\n\t\t}\n\t\telse { text = content.text; }\n\n\t\t// DEPRECATED - Old content.ajax plugin functionality\n\t\t// Converts it into the proper Deferred syntax\n\t\tif('ajax' in content) {\n\t\t\tajax = content.ajax;\n\t\t\tonce = ajax && ajax.once !== FALSE;\n\t\t\tdelete content.ajax;\n\n\t\t\tcontent.text = function(event, api) {\n\t\t\t\tvar loading = text || $(this).attr(api.options.content.attr) || 'Loading...',\n\n\t\t\t\tdeferred = $.ajax(\n\t\t\t\t\t$.extend({}, ajax, { context: api })\n\t\t\t\t)\n\t\t\t\t.then(ajax.success, NULL, ajax.error)\n\t\t\t\t.then(function(newContent) {\n\t\t\t\t\tif(newContent && once) { api.set('content.text', newContent); }\n\t\t\t\t\treturn newContent;\n\t\t\t\t},\n\t\t\t\tfunction(xhr, status, error) {\n\t\t\t\t\tif(api.destroyed || xhr.status === 0) { return; }\n\t\t\t\t\tapi.set('content.text', status + ': ' + error);\n\t\t\t\t});\n\n\t\t\t\treturn !once ? (api.set('content.text', loading), deferred) : loading;\n\t\t\t};\n\t\t}\n\n\t\tif('title' in content) {\n\t\t\tif($.isPlainObject(content.title)) {\n\t\t\t\tcontent.button = content.title.button;\n\t\t\t\tcontent.title = content.title.text;\n\t\t\t}\n\n\t\t\tif(invalidContent(content.title || FALSE)) {\n\t\t\t\tcontent.title = FALSE;\n\t\t\t}\n\t\t}\n\t}\n\n\tif('position' in opts && invalidOpt(opts.position)) {\n\t\topts.position = { my: opts.position, at: opts.position };\n\t}\n\n\tif('show' in opts && invalidOpt(opts.show)) {\n\t\topts.show = opts.show.jquery ? { target: opts.show } :\n\t\t\topts.show === TRUE ? { ready: TRUE } : { event: opts.show };\n\t}\n\n\tif('hide' in opts && invalidOpt(opts.hide)) {\n\t\topts.hide = opts.hide.jquery ? { target: opts.hide } : { event: opts.hide };\n\t}\n\n\tif('style' in opts && invalidOpt(opts.style)) {\n\t\topts.style = { classes: opts.style };\n\t}\n\n\t// Sanitize plugin options\n\t$.each(PLUGINS, function() {\n\t\tthis.sanitize && this.sanitize(opts);\n\t});\n\n\treturn opts;\n}\n\n// Setup builtin .set() option checks\nCHECKS = PROTOTYPE.checks = {\n\tbuiltin: {\n\t\t// Core checks\n\t\t'^id$': function(obj, o, v, prev) {\n\t\t\tvar id = v === TRUE ? QTIP.nextid : v,\n\t\t\t\tnewId = NAMESPACE + '-' + id;\n\n\t\t\tif(id !== FALSE && id.length > 0 && !$('#'+newId).length) {\n\t\t\t\tthis._id = newId;\n\n\t\t\t\tif(this.rendered) {\n\t\t\t\t\tthis.tooltip[0].id = this._id;\n\t\t\t\t\tthis.elements.content[0].id = this._id + '-content';\n\t\t\t\t\tthis.elements.title[0].id = this._id + '-title';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse { obj[o] = prev; }\n\t\t},\n\t\t'^prerender': function(obj, o, v) {\n\t\t\tv && !this.rendered && this.render(this.options.show.ready);\n\t\t},\n\n\t\t// Content checks\n\t\t'^content.text$': function(obj, o, v) {\n\t\t\tthis._updateContent(v);\n\t\t},\n\t\t'^content.attr$': function(obj, o, v, prev) {\n\t\t\tif(this.options.content.text === this.target.attr(prev)) {\n\t\t\t\tthis._updateContent( this.target.attr(v) );\n\t\t\t}\n\t\t},\n\t\t'^content.title$': function(obj, o, v) {\n\t\t\t// Remove title if content is null\n\t\t\tif(!v) { return this._removeTitle(); }\n\n\t\t\t// If title isn't already created, create it now and update\n\t\t\tv && !this.elements.title && this._createTitle();\n\t\t\tthis._updateTitle(v);\n\t\t},\n\t\t'^content.button$': function(obj, o, v) {\n\t\t\tthis._updateButton(v);\n\t\t},\n\t\t'^content.title.(text|button)$': function(obj, o, v) {\n\t\t\tthis.set('content.'+o, v); // Backwards title.text/button compat\n\t\t},\n\n\t\t// Position checks\n\t\t'^position.(my|at)$': function(obj, o, v){\n\t\t\tif('string' === typeof v) {\n\t\t\t\tthis.position[o] = obj[o] = new CORNER(v, o === 'at');\n\t\t\t}\n\t\t},\n\t\t'^position.container$': function(obj, o, v){\n\t\t\tthis.rendered && this.tooltip.appendTo(v);\n\t\t},\n\n\t\t// Show checks\n\t\t'^show.ready$': function(obj, o, v) {\n\t\t\tv && (!this.rendered && this.render(TRUE) || this.toggle(TRUE));\n\t\t},\n\n\t\t// Style checks\n\t\t'^style.classes$': function(obj, o, v, p) {\n\t\t\tthis.rendered && this.tooltip.removeClass(p).addClass(v);\n\t\t},\n\t\t'^style.(width|height)': function(obj, o, v) {\n\t\t\tthis.rendered && this.tooltip.css(o, v);\n\t\t},\n\t\t'^style.widget|content.title': function() {\n\t\t\tthis.rendered && this._setWidget();\n\t\t},\n\t\t'^style.def': function(obj, o, v) {\n\t\t\tthis.rendered && this.tooltip.toggleClass(CLASS_DEFAULT, !!v);\n\t\t},\n\n\t\t// Events check\n\t\t'^events.(render|show|move|hide|focus|blur)$': function(obj, o, v) {\n\t\t\tthis.rendered && this.tooltip[($.isFunction(v) ? '' : 'un') + 'bind']('tooltip'+o, v);\n\t\t},\n\n\t\t// Properties which require event reassignment\n\t\t'^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)': function() {\n\t\t\tif(!this.rendered) { return; }\n\n\t\t\t// Set tracking flag\n\t\t\tvar posOptions = this.options.position;\n\t\t\tthis.tooltip.attr('tracking', posOptions.target === 'mouse' && posOptions.adjust.mouse);\n\n\t\t\t// Reassign events\n\t\t\tthis._unassignEvents();\n\t\t\tthis._assignEvents();\n\t\t}\n\t}\n};\n\n// Dot notation converter\nfunction convertNotation(options, notation) {\n\tvar i = 0, obj, option = options,\n\n\t// Split notation into array\n\tlevels = notation.split('.');\n\n\t// Loop through\n\twhile(option = option[ levels[i++] ]) {\n\t\tif(i < levels.length) { obj = option; }\n\t}\n\n\treturn [obj || options, levels.pop()];\n}\n\nPROTOTYPE.get = function(notation) {\n\tif(this.destroyed) { return this; }\n\n\tvar o = convertNotation(this.options, notation.toLowerCase()),\n\t\tresult = o[0][ o[1] ];\n\n\treturn result.precedance ? result.string() : result;\n};\n\nfunction setCallback(notation, args) {\n\tvar category, rule, match;\n\n\tfor(category in this.checks) {\n\t\tif (!this.checks.hasOwnProperty(category)) { continue; }\n\n\t\tfor(rule in this.checks[category]) {\n\t\t\tif (!this.checks[category].hasOwnProperty(rule)) { continue; }\n\n\t\t\tif(match = (new RegExp(rule, 'i')).exec(notation)) {\n\t\t\t\targs.push(match);\n\n\t\t\t\tif(category === 'builtin' || this.plugins[category]) {\n\t\t\t\t\tthis.checks[category][rule].apply(\n\t\t\t\t\t\tthis.plugins[category] || this, args\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nvar rmove = /^position\\.(my|at|adjust|target|container|viewport)|style|content|show\\.ready/i,\n\trrender = /^prerender|show\\.ready/i;\n\nPROTOTYPE.set = function(option, value) {\n\tif(this.destroyed) { return this; }\n\n\tvar rendered = this.rendered,\n\t\treposition = FALSE,\n\t\toptions = this.options,\n\t\tname;\n\n\t// Convert singular option/value pair into object form\n\tif('string' === typeof option) {\n\t\tname = option; option = {}; option[name] = value;\n\t}\n\telse { option = $.extend({}, option); }\n\n\t// Set all of the defined options to their new values\n\t$.each(option, function(notation, val) {\n\t\tif(rendered && rrender.test(notation)) {\n\t\t\tdelete option[notation]; return;\n\t\t}\n\n\t\t// Set new obj value\n\t\tvar obj = convertNotation(options, notation.toLowerCase()), previous;\n\t\tprevious = obj[0][ obj[1] ];\n\t\tobj[0][ obj[1] ] = val && val.nodeType ? $(val) : val;\n\n\t\t// Also check if we need to reposition\n\t\treposition = rmove.test(notation) || reposition;\n\n\t\t// Set the new params for the callback\n\t\toption[notation] = [obj[0], obj[1], val, previous];\n\t});\n\n\t// Re-sanitize options\n\tsanitizeOptions(options);\n\n\t/*\n\t * Execute any valid callbacks for the set options\n\t * Also set positioning flag so we don't get loads of redundant repositioning calls.\n\t */\n\tthis.positioning = TRUE;\n\t$.each(option, $.proxy(setCallback, this));\n\tthis.positioning = FALSE;\n\n\t// Update position if needed\n\tif(this.rendered && this.tooltip[0].offsetWidth > 0 && reposition) {\n\t\tthis.reposition( options.position.target === 'mouse' ? NULL : this.cache.event );\n\t}\n\n\treturn this;\n};\n;PROTOTYPE._update = function(content, element) {\n\tvar self = this,\n\t\tcache = this.cache;\n\n\t// Make sure tooltip is rendered and content is defined. If not return\n\tif(!this.rendered || !content) { return FALSE; }\n\n\t// Use function to parse content\n\tif($.isFunction(content)) {\n\t\tcontent = content.call(this.elements.target, cache.event, this) || '';\n\t}\n\n\t// Handle deferred content\n\tif($.isFunction(content.then)) {\n\t\tcache.waiting = TRUE;\n\t\treturn content.then(function(c) {\n\t\t\tcache.waiting = FALSE;\n\t\t\treturn self._update(c, element);\n\t\t}, NULL, function(e) {\n\t\t\treturn self._update(e, element);\n\t\t});\n\t}\n\n\t// If content is null... return false\n\tif(content === FALSE || !content && content !== '') { return FALSE; }\n\n\t// Append new content if its a DOM array and show it if hidden\n\tif(content.jquery && content.length > 0) {\n\t\telement.empty().append(\n\t\t\tcontent.css({ display: 'block', visibility: 'visible' })\n\t\t);\n\t}\n\n\t// Content is a regular string, insert the new content\n\telse { element.html(content); }\n\n\t// Wait for content to be loaded, and reposition\n\treturn this._waitForContent(element).then(function(images) {\n\t\tif(self.rendered && self.tooltip[0].offsetWidth > 0) {\n\t\t\tself.reposition(cache.event, !images.length);\n\t\t}\n\t});\n};\n\nPROTOTYPE._waitForContent = function(element) {\n\tvar cache = this.cache;\n\n\t// Set flag\n\tcache.waiting = TRUE;\n\n\t// If imagesLoaded is included, ensure images have loaded and return promise\n\treturn ( $.fn.imagesLoaded ? element.imagesLoaded() : new $.Deferred().resolve([]) )\n\t\t.done(function() { cache.waiting = FALSE; })\n\t\t.promise();\n};\n\nPROTOTYPE._updateContent = function(content, reposition) {\n\tthis._update(content, this.elements.content, reposition);\n};\n\nPROTOTYPE._updateTitle = function(content, reposition) {\n\tif(this._update(content, this.elements.title, reposition) === FALSE) {\n\t\tthis._removeTitle(FALSE);\n\t}\n};\n\nPROTOTYPE._createTitle = function()\n{\n\tvar elements = this.elements,\n\t\tid = this._id+'-title';\n\n\t// Destroy previous title element, if present\n\tif(elements.titlebar) { this._removeTitle(); }\n\n\t// Create title bar and title elements\n\telements.titlebar = $('<div />', {\n\t\t'class': NAMESPACE + '-titlebar ' + (this.options.style.widget ? createWidgetClass('header') : '')\n\t})\n\t.append(\n\t\telements.title = $('<div />', {\n\t\t\t'id': id,\n\t\t\t'class': NAMESPACE + '-title',\n\t\t\t'aria-atomic': TRUE\n\t\t})\n\t)\n\t.insertBefore(elements.content)\n\n\t// Button-specific events\n\t.delegate('.qtip-close', 'mousedown keydown mouseup keyup mouseout', function(event) {\n\t\t$(this).toggleClass('ui-state-active ui-state-focus', event.type.substr(-4) === 'down');\n\t})\n\t.delegate('.qtip-close', 'mouseover mouseout', function(event){\n\t\t$(this).toggleClass('ui-state-hover', event.type === 'mouseover');\n\t});\n\n\t// Create button if enabled\n\tif(this.options.content.button) { this._createButton(); }\n};\n\nPROTOTYPE._removeTitle = function(reposition)\n{\n\tvar elements = this.elements;\n\n\tif(elements.title) {\n\t\telements.titlebar.remove();\n\t\telements.titlebar = elements.title = elements.button = NULL;\n\n\t\t// Reposition if enabled\n\t\tif(reposition !== FALSE) { this.reposition(); }\n\t}\n};\n;PROTOTYPE._createPosClass = function(my) {\n\treturn NAMESPACE + '-pos-' + (my || this.options.position.my).abbrev();\n};\n\nPROTOTYPE.reposition = function(event, effect) {\n\tif(!this.rendered || this.positioning || this.destroyed) { return this; }\n\n\t// Set positioning flag\n\tthis.positioning = TRUE;\n\n\tvar cache = this.cache,\n\t\ttooltip = this.tooltip,\n\t\tposOptions = this.options.position,\n\t\ttarget = posOptions.target,\n\t\tmy = posOptions.my,\n\t\tat = posOptions.at,\n\t\tviewport = posOptions.viewport,\n\t\tcontainer = posOptions.container,\n\t\tadjust = posOptions.adjust,\n\t\tmethod = adjust.method.split(' '),\n\t\ttooltipWidth = tooltip.outerWidth(FALSE),\n\t\ttooltipHeight = tooltip.outerHeight(FALSE),\n\t\ttargetWidth = 0,\n\t\ttargetHeight = 0,\n\t\ttype = tooltip.css('position'),\n\t\tposition = { left: 0, top: 0 },\n\t\tvisible = tooltip[0].offsetWidth > 0,\n\t\tisScroll = event && event.type === 'scroll',\n\t\twin = $(window),\n\t\tdoc = container[0].ownerDocument,\n\t\tmouse = this.mouse,\n\t\tpluginCalculations, offset, adjusted, newClass;\n\n\t// Check if absolute position was passed\n\tif($.isArray(target) && target.length === 2) {\n\t\t// Force left top and set position\n\t\tat = { x: LEFT, y: TOP };\n\t\tposition = { left: target[0], top: target[1] };\n\t}\n\n\t// Check if mouse was the target\n\telse if(target === 'mouse') {\n\t\t// Force left top to allow flipping\n\t\tat = { x: LEFT, y: TOP };\n\n\t\t// Use the mouse origin that caused the show event, if distance hiding is enabled\n\t\tif((!adjust.mouse || this.options.hide.distance) && cache.origin && cache.origin.pageX) {\n\t\t\tevent =  cache.origin;\n\t\t}\n\n\t\t// Use cached event for resize/scroll events\n\t\telse if(!event || event && (event.type === 'resize' || event.type === 'scroll')) {\n\t\t\tevent = cache.event;\n\t\t}\n\n\t\t// Otherwise, use the cached mouse coordinates if available\n\t\telse if(mouse && mouse.pageX) {\n\t\t\tevent = mouse;\n\t\t}\n\n\t\t// Calculate body and container offset and take them into account below\n\t\tif(type !== 'static') { position = container.offset(); }\n\t\tif(doc.body.offsetWidth !== (window.innerWidth || doc.documentElement.clientWidth)) {\n\t\t\toffset = $(document.body).offset();\n\t\t}\n\n\t\t// Use event coordinates for position\n\t\tposition = {\n\t\t\tleft: event.pageX - position.left + (offset && offset.left || 0),\n\t\t\ttop: event.pageY - position.top + (offset && offset.top || 0)\n\t\t};\n\n\t\t// Scroll events are a pain, some browsers\n\t\tif(adjust.mouse && isScroll && mouse) {\n\t\t\tposition.left -= (mouse.scrollX || 0) - win.scrollLeft();\n\t\t\tposition.top -= (mouse.scrollY || 0) - win.scrollTop();\n\t\t}\n\t}\n\n\t// Target wasn't mouse or absolute...\n\telse {\n\t\t// Check if event targetting is being used\n\t\tif(target === 'event') {\n\t\t\tif(event && event.target && event.type !== 'scroll' && event.type !== 'resize') {\n\t\t\t\tcache.target = $(event.target);\n\t\t\t}\n\t\t\telse if(!event.target) {\n\t\t\t\tcache.target = this.elements.target;\n\t\t\t}\n\t\t}\n\t\telse if(target !== 'event'){\n\t\t\tcache.target = $(target.jquery ? target : this.elements.target);\n\t\t}\n\t\ttarget = cache.target;\n\n\t\t// Parse the target into a jQuery object and make sure there's an element present\n\t\ttarget = $(target).eq(0);\n\t\tif(target.length === 0) { return this; }\n\n\t\t// Check if window or document is the target\n\t\telse if(target[0] === document || target[0] === window) {\n\t\t\ttargetWidth = BROWSER.iOS ? window.innerWidth : target.width();\n\t\t\ttargetHeight = BROWSER.iOS ? window.innerHeight : target.height();\n\n\t\t\tif(target[0] === window) {\n\t\t\t\tposition = {\n\t\t\t\t\ttop: (viewport || target).scrollTop(),\n\t\t\t\t\tleft: (viewport || target).scrollLeft()\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// Check if the target is an <AREA> element\n\t\telse if(PLUGINS.imagemap && target.is('area')) {\n\t\t\tpluginCalculations = PLUGINS.imagemap(this, target, at, PLUGINS.viewport ? method : FALSE);\n\t\t}\n\n\t\t// Check if the target is an SVG element\n\t\telse if(PLUGINS.svg && target && target[0].ownerSVGElement) {\n\t\t\tpluginCalculations = PLUGINS.svg(this, target, at, PLUGINS.viewport ? method : FALSE);\n\t\t}\n\n\t\t// Otherwise use regular jQuery methods\n\t\telse {\n\t\t\ttargetWidth = target.outerWidth(FALSE);\n\t\t\ttargetHeight = target.outerHeight(FALSE);\n\t\t\tposition = target.offset();\n\t\t}\n\n\t\t// Parse returned plugin values into proper variables\n\t\tif(pluginCalculations) {\n\t\t\ttargetWidth = pluginCalculations.width;\n\t\t\ttargetHeight = pluginCalculations.height;\n\t\t\toffset = pluginCalculations.offset;\n\t\t\tposition = pluginCalculations.position;\n\t\t}\n\n\t\t// Adjust position to take into account offset parents\n\t\tposition = this.reposition.offset(target, position, container);\n\n\t\t// Adjust for position.fixed tooltips (and also iOS scroll bug in v3.2-4.0 & v4.3-4.3.2)\n\t\tif(BROWSER.iOS > 3.1 && BROWSER.iOS < 4.1 ||\n\t\t\tBROWSER.iOS >= 4.3 && BROWSER.iOS < 4.33 ||\n\t\t\t!BROWSER.iOS && type === 'fixed'\n\t\t){\n\t\t\tposition.left -= win.scrollLeft();\n\t\t\tposition.top -= win.scrollTop();\n\t\t}\n\n\t\t// Adjust position relative to target\n\t\tif(!pluginCalculations || pluginCalculations && pluginCalculations.adjustable !== FALSE) {\n\t\t\tposition.left += at.x === RIGHT ? targetWidth : at.x === CENTER ? targetWidth / 2 : 0;\n\t\t\tposition.top += at.y === BOTTOM ? targetHeight : at.y === CENTER ? targetHeight / 2 : 0;\n\t\t}\n\t}\n\n\t// Adjust position relative to tooltip\n\tposition.left += adjust.x + (my.x === RIGHT ? -tooltipWidth : my.x === CENTER ? -tooltipWidth / 2 : 0);\n\tposition.top += adjust.y + (my.y === BOTTOM ? -tooltipHeight : my.y === CENTER ? -tooltipHeight / 2 : 0);\n\n\t// Use viewport adjustment plugin if enabled\n\tif(PLUGINS.viewport) {\n\t\tadjusted = position.adjusted = PLUGINS.viewport(\n\t\t\tthis, position, posOptions, targetWidth, targetHeight, tooltipWidth, tooltipHeight\n\t\t);\n\n\t\t// Apply offsets supplied by positioning plugin (if used)\n\t\tif(offset && adjusted.left) { position.left += offset.left; }\n\t\tif(offset && adjusted.top) {  position.top += offset.top; }\n\n\t\t// Apply any new 'my' position\n\t\tif(adjusted.my) { this.position.my = adjusted.my; }\n\t}\n\n\t// Viewport adjustment is disabled, set values to zero\n\telse { position.adjusted = { left: 0, top: 0 }; }\n\n\t// Set tooltip position class if it's changed\n\tif(cache.posClass !== (newClass = this._createPosClass(this.position.my))) {\n\t\tcache.posClass = newClass;\n\t\ttooltip.removeClass(cache.posClass).addClass(newClass);\n\t}\n\n\t// tooltipmove event\n\tif(!this._trigger('move', [position, viewport.elem || viewport], event)) { return this; }\n\tdelete position.adjusted;\n\n\t// If effect is disabled, target it mouse, no animation is defined or positioning gives NaN out, set CSS directly\n\tif(effect === FALSE || !visible || isNaN(position.left) || isNaN(position.top) || target === 'mouse' || !$.isFunction(posOptions.effect)) {\n\t\ttooltip.css(position);\n\t}\n\n\t// Use custom function if provided\n\telse if($.isFunction(posOptions.effect)) {\n\t\tposOptions.effect.call(tooltip, this, $.extend({}, position));\n\t\ttooltip.queue(function(next) {\n\t\t\t// Reset attributes to avoid cross-browser rendering bugs\n\t\t\t$(this).css({ opacity: '', height: '' });\n\t\t\tif(BROWSER.ie) { this.style.removeAttribute('filter'); }\n\n\t\t\tnext();\n\t\t});\n\t}\n\n\t// Set positioning flag\n\tthis.positioning = FALSE;\n\n\treturn this;\n};\n\n// Custom (more correct for qTip!) offset calculator\nPROTOTYPE.reposition.offset = function(elem, pos, container) {\n\tif(!container[0]) { return pos; }\n\n\tvar ownerDocument = $(elem[0].ownerDocument),\n\t\tquirks = !!BROWSER.ie && document.compatMode !== 'CSS1Compat',\n\t\tparent = container[0],\n\t\tscrolled, position, parentOffset, overflow;\n\n\tfunction scroll(e, i) {\n\t\tpos.left += i * e.scrollLeft();\n\t\tpos.top += i * e.scrollTop();\n\t}\n\n\t// Compensate for non-static containers offset\n\tdo {\n\t\tif((position = $.css(parent, 'position')) !== 'static') {\n\t\t\tif(position === 'fixed') {\n\t\t\t\tparentOffset = parent.getBoundingClientRect();\n\t\t\t\tscroll(ownerDocument, -1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tparentOffset = $(parent).position();\n\t\t\t\tparentOffset.left += parseFloat($.css(parent, 'borderLeftWidth')) || 0;\n\t\t\t\tparentOffset.top += parseFloat($.css(parent, 'borderTopWidth')) || 0;\n\t\t\t}\n\n\t\t\tpos.left -= parentOffset.left + (parseFloat($.css(parent, 'marginLeft')) || 0);\n\t\t\tpos.top -= parentOffset.top + (parseFloat($.css(parent, 'marginTop')) || 0);\n\n\t\t\t// If this is the first parent element with an overflow of \"scroll\" or \"auto\", store it\n\t\t\tif(!scrolled && (overflow = $.css(parent, 'overflow')) !== 'hidden' && overflow !== 'visible') { scrolled = $(parent); }\n\t\t}\n\t}\n\twhile(parent = parent.offsetParent);\n\n\t// Compensate for containers scroll if it also has an offsetParent (or in IE quirks mode)\n\tif(scrolled && (scrolled[0] !== ownerDocument[0] || quirks)) {\n\t\tscroll(scrolled, 1);\n\t}\n\n\treturn pos;\n};\n\n// Corner class\nvar C = (CORNER = PROTOTYPE.reposition.Corner = function(corner, forceY) {\n\tcorner = ('' + corner).replace(/([A-Z])/, ' $1').replace(/middle/gi, CENTER).toLowerCase();\n\tthis.x = (corner.match(/left|right/i) || corner.match(/center/) || ['inherit'])[0].toLowerCase();\n\tthis.y = (corner.match(/top|bottom|center/i) || ['inherit'])[0].toLowerCase();\n\tthis.forceY = !!forceY;\n\n\tvar f = corner.charAt(0);\n\tthis.precedance = f === 't' || f === 'b' ? Y : X;\n}).prototype;\n\nC.invert = function(z, center) {\n\tthis[z] = this[z] === LEFT ? RIGHT : this[z] === RIGHT ? LEFT : center || this[z];\n};\n\nC.string = function(join) {\n\tvar x = this.x, y = this.y;\n\n\tvar result = x !== y ?\n\t\tx === 'center' || y !== 'center' && (this.precedance === Y || this.forceY) ? \n\t\t\t[y,x] : \n\t\t\t[x,y] :\n\t\t[x];\n\n\treturn join !== false ? result.join(' ') : result;\n};\n\nC.abbrev = function() {\n\tvar result = this.string(false);\n\treturn result[0].charAt(0) + (result[1] && result[1].charAt(0) || '');\n};\n\nC.clone = function() {\n\treturn new CORNER( this.string(), this.forceY );\n};\n\n;\nPROTOTYPE.toggle = function(state, event) {\n\tvar cache = this.cache,\n\t\toptions = this.options,\n\t\ttooltip = this.tooltip;\n\n\t// Try to prevent flickering when tooltip overlaps show element\n\tif(event) {\n\t\tif((/over|enter/).test(event.type) && cache.event && (/out|leave/).test(cache.event.type) &&\n\t\t\toptions.show.target.add(event.target).length === options.show.target.length &&\n\t\t\ttooltip.has(event.relatedTarget).length) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Cache event\n\t\tcache.event = $.event.fix(event);\n\t}\n\n\t// If we're currently waiting and we've just hidden... stop it\n\tthis.waiting && !state && (this.hiddenDuringWait = TRUE);\n\n\t// Render the tooltip if showing and it isn't already\n\tif(!this.rendered) { return state ? this.render(1) : this; }\n\telse if(this.destroyed || this.disabled) { return this; }\n\n\tvar type = state ? 'show' : 'hide',\n\t\topts = this.options[type],\n\t\tposOptions = this.options.position,\n\t\tcontentOptions = this.options.content,\n\t\twidth = this.tooltip.css('width'),\n\t\tvisible = this.tooltip.is(':visible'),\n\t\tanimate = state || opts.target.length === 1,\n\t\tsameTarget = !event || opts.target.length < 2 || cache.target[0] === event.target,\n\t\tidenticalState, allow, after;\n\n\t// Detect state if valid one isn't provided\n\tif((typeof state).search('boolean|number')) { state = !visible; }\n\n\t// Check if the tooltip is in an identical state to the new would-be state\n\tidenticalState = !tooltip.is(':animated') && visible === state && sameTarget;\n\n\t// Fire tooltip(show/hide) event and check if destroyed\n\tallow = !identicalState ? !!this._trigger(type, [90]) : NULL;\n\n\t// Check to make sure the tooltip wasn't destroyed in the callback\n\tif(this.destroyed) { return this; }\n\n\t// If the user didn't stop the method prematurely and we're showing the tooltip, focus it\n\tif(allow !== FALSE && state) { this.focus(event); }\n\n\t// If the state hasn't changed or the user stopped it, return early\n\tif(!allow || identicalState) { return this; }\n\n\t// Set ARIA hidden attribute\n\t$.attr(tooltip[0], 'aria-hidden', !!!state);\n\n\t// Execute state specific properties\n\tif(state) {\n\t\t// Store show origin coordinates\n\t\tthis.mouse && (cache.origin = $.event.fix(this.mouse));\n\n\t\t// Update tooltip content & title if it's a dynamic function\n\t\tif($.isFunction(contentOptions.text)) { this._updateContent(contentOptions.text, FALSE); }\n\t\tif($.isFunction(contentOptions.title)) { this._updateTitle(contentOptions.title, FALSE); }\n\n\t\t// Cache mousemove events for positioning purposes (if not already tracking)\n\t\tif(!trackingBound && posOptions.target === 'mouse' && posOptions.adjust.mouse) {\n\t\t\t$(document).bind('mousemove.'+NAMESPACE, this._storeMouse);\n\t\t\ttrackingBound = TRUE;\n\t\t}\n\n\t\t// Update the tooltip position (set width first to prevent viewport/max-width issues)\n\t\tif(!width) { tooltip.css('width', tooltip.outerWidth(FALSE)); }\n\t\tthis.reposition(event, arguments[2]);\n\t\tif(!width) { tooltip.css('width', ''); }\n\n\t\t// Hide other tooltips if tooltip is solo\n\t\tif(!!opts.solo) {\n\t\t\t(typeof opts.solo === 'string' ? $(opts.solo) : $(SELECTOR, opts.solo))\n\t\t\t\t.not(tooltip).not(opts.target).qtip('hide', new $.Event('tooltipsolo'));\n\t\t}\n\t}\n\telse {\n\t\t// Clear show timer if we're hiding\n\t\tclearTimeout(this.timers.show);\n\n\t\t// Remove cached origin on hide\n\t\tdelete cache.origin;\n\n\t\t// Remove mouse tracking event if not needed (all tracking qTips are hidden)\n\t\tif(trackingBound && !$(SELECTOR+'[tracking=\"true\"]:visible', opts.solo).not(tooltip).length) {\n\t\t\t$(document).unbind('mousemove.'+NAMESPACE);\n\t\t\ttrackingBound = FALSE;\n\t\t}\n\n\t\t// Blur the tooltip\n\t\tthis.blur(event);\n\t}\n\n\t// Define post-animation, state specific properties\n\tafter = $.proxy(function() {\n\t\tif(state) {\n\t\t\t// Prevent antialias from disappearing in IE by removing filter\n\t\t\tif(BROWSER.ie) { tooltip[0].style.removeAttribute('filter'); }\n\n\t\t\t// Remove overflow setting to prevent tip bugs\n\t\t\ttooltip.css('overflow', '');\n\n\t\t\t// Autofocus elements if enabled\n\t\t\tif('string' === typeof opts.autofocus) {\n\t\t\t\t$(this.options.show.autofocus, tooltip).focus();\n\t\t\t}\n\n\t\t\t// If set, hide tooltip when inactive for delay period\n\t\t\tthis.options.show.target.trigger('qtip-'+this.id+'-inactive');\n\t\t}\n\t\telse {\n\t\t\t// Reset CSS states\n\t\t\ttooltip.css({\n\t\t\t\tdisplay: '',\n\t\t\t\tvisibility: '',\n\t\t\t\topacity: '',\n\t\t\t\tleft: '',\n\t\t\t\ttop: ''\n\t\t\t});\n\t\t}\n\n\t\t// tooltipvisible/tooltiphidden events\n\t\tthis._trigger(state ? 'visible' : 'hidden');\n\t}, this);\n\n\t// If no effect type is supplied, use a simple toggle\n\tif(opts.effect === FALSE || animate === FALSE) {\n\t\ttooltip[ type ]();\n\t\tafter();\n\t}\n\n\t// Use custom function if provided\n\telse if($.isFunction(opts.effect)) {\n\t\ttooltip.stop(1, 1);\n\t\topts.effect.call(tooltip, this);\n\t\ttooltip.queue('fx', function(n) {\n\t\t\tafter(); n();\n\t\t});\n\t}\n\n\t// Use basic fade function by default\n\telse { tooltip.fadeTo(90, state ? 1 : 0, after); }\n\n\t// If inactive hide method is set, active it\n\tif(state) { opts.target.trigger('qtip-'+this.id+'-inactive'); }\n\n\treturn this;\n};\n\nPROTOTYPE.show = function(event) { return this.toggle(TRUE, event); };\n\nPROTOTYPE.hide = function(event) { return this.toggle(FALSE, event); };\n;PROTOTYPE.focus = function(event) {\n\tif(!this.rendered || this.destroyed) { return this; }\n\n\tvar qtips = $(SELECTOR),\n\t\ttooltip = this.tooltip,\n\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10),\n\t\tnewIndex = QTIP.zindex + qtips.length;\n\n\t// Only update the z-index if it has changed and tooltip is not already focused\n\tif(!tooltip.hasClass(CLASS_FOCUS)) {\n\t\t// tooltipfocus event\n\t\tif(this._trigger('focus', [newIndex], event)) {\n\t\t\t// Only update z-index's if they've changed\n\t\t\tif(curIndex !== newIndex) {\n\t\t\t\t// Reduce our z-index's and keep them properly ordered\n\t\t\t\tqtips.each(function() {\n\t\t\t\t\tif(this.style.zIndex > curIndex) {\n\t\t\t\t\t\tthis.style.zIndex = this.style.zIndex - 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Fire blur event for focused tooltip\n\t\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event);\n\t\t\t}\n\n\t\t\t// Set the new z-index\n\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n\t\t}\n\t}\n\n\treturn this;\n};\n\nPROTOTYPE.blur = function(event) {\n\tif(!this.rendered || this.destroyed) { return this; }\n\n\t// Set focused status to FALSE\n\tthis.tooltip.removeClass(CLASS_FOCUS);\n\n\t// tooltipblur event\n\tthis._trigger('blur', [ this.tooltip.css('zIndex') ], event);\n\n\treturn this;\n};\n;PROTOTYPE.disable = function(state) {\n\tif(this.destroyed) { return this; }\n\n\t// If 'toggle' is passed, toggle the current state\n\tif(state === 'toggle') {\n\t\tstate = !(this.rendered ? this.tooltip.hasClass(CLASS_DISABLED) : this.disabled);\n\t}\n\n\t// Disable if no state passed\n\telse if('boolean' !== typeof state) {\n\t\tstate = TRUE;\n\t}\n\n\tif(this.rendered) {\n\t\tthis.tooltip.toggleClass(CLASS_DISABLED, state)\n\t\t\t.attr('aria-disabled', state);\n\t}\n\n\tthis.disabled = !!state;\n\n\treturn this;\n};\n\nPROTOTYPE.enable = function() { return this.disable(FALSE); };\n;PROTOTYPE._createButton = function()\n{\n\tvar self = this,\n\t\telements = this.elements,\n\t\ttooltip = elements.tooltip,\n\t\tbutton = this.options.content.button,\n\t\tisString = typeof button === 'string',\n\t\tclose = isString ? button : 'Close tooltip';\n\n\tif(elements.button) { elements.button.remove(); }\n\n\t// Use custom button if one was supplied by user, else use default\n\tif(button.jquery) {\n\t\telements.button = button;\n\t}\n\telse {\n\t\telements.button = $('<a />', {\n\t\t\t'class': 'qtip-close ' + (this.options.style.widget ? '' : NAMESPACE+'-icon'),\n\t\t\t'title': close,\n\t\t\t'aria-label': close\n\t\t})\n\t\t.prepend(\n\t\t\t$('<span />', {\n\t\t\t\t'class': 'ui-icon ui-icon-close',\n\t\t\t\t'html': '&times;'\n\t\t\t})\n\t\t);\n\t}\n\n\t// Create button and setup attributes\n\telements.button.appendTo(elements.titlebar || tooltip)\n\t\t.attr('role', 'button')\n\t\t.click(function(event) {\n\t\t\tif(!tooltip.hasClass(CLASS_DISABLED)) { self.hide(event); }\n\t\t\treturn FALSE;\n\t\t});\n};\n\nPROTOTYPE._updateButton = function(button)\n{\n\t// Make sure tooltip is rendered and if not, return\n\tif(!this.rendered) { return FALSE; }\n\n\tvar elem = this.elements.button;\n\tif(button) { this._createButton(); }\n\telse { elem.remove(); }\n};\n;// Widget class creator\nfunction createWidgetClass(cls) {\n\treturn WIDGET.concat('').join(cls ? '-'+cls+' ' : ' ');\n}\n\n// Widget class setter method\nPROTOTYPE._setWidget = function()\n{\n\tvar on = this.options.style.widget,\n\t\telements = this.elements,\n\t\ttooltip = elements.tooltip,\n\t\tdisabled = tooltip.hasClass(CLASS_DISABLED);\n\n\ttooltip.removeClass(CLASS_DISABLED);\n\tCLASS_DISABLED = on ? 'ui-state-disabled' : 'qtip-disabled';\n\ttooltip.toggleClass(CLASS_DISABLED, disabled);\n\n\ttooltip.toggleClass('ui-helper-reset '+createWidgetClass(), on).toggleClass(CLASS_DEFAULT, this.options.style.def && !on);\n\n\tif(elements.content) {\n\t\telements.content.toggleClass( createWidgetClass('content'), on);\n\t}\n\tif(elements.titlebar) {\n\t\telements.titlebar.toggleClass( createWidgetClass('header'), on);\n\t}\n\tif(elements.button) {\n\t\telements.button.toggleClass(NAMESPACE+'-icon', !on);\n\t}\n};\n;function delay(callback, duration) {\n\t// If tooltip has displayed, start hide timer\n\tif(duration > 0) {\n\t\treturn setTimeout(\n\t\t\t$.proxy(callback, this), duration\n\t\t);\n\t}\n\telse{ callback.call(this); }\n}\n\nfunction showMethod(event) {\n\tif(this.tooltip.hasClass(CLASS_DISABLED)) { return; }\n\n\t// Clear hide timers\n\tclearTimeout(this.timers.show);\n\tclearTimeout(this.timers.hide);\n\n\t// Start show timer\n\tthis.timers.show = delay.call(this,\n\t\tfunction() { this.toggle(TRUE, event); },\n\t\tthis.options.show.delay\n\t);\n}\n\nfunction hideMethod(event) {\n\tif(this.tooltip.hasClass(CLASS_DISABLED) || this.destroyed) { return; }\n\n\t// Check if new target was actually the tooltip element\n\tvar relatedTarget = $(event.relatedTarget),\n\t\tontoTooltip = relatedTarget.closest(SELECTOR)[0] === this.tooltip[0],\n\t\tontoTarget = relatedTarget[0] === this.options.show.target[0];\n\n\t// Clear timers and stop animation queue\n\tclearTimeout(this.timers.show);\n\tclearTimeout(this.timers.hide);\n\n\t// Prevent hiding if tooltip is fixed and event target is the tooltip.\n\t// Or if mouse positioning is enabled and cursor momentarily overlaps\n\tif(this !== relatedTarget[0] &&\n\t\t(this.options.position.target === 'mouse' && ontoTooltip) ||\n\t\tthis.options.hide.fixed && (\n\t\t\t(/mouse(out|leave|move)/).test(event.type) && (ontoTooltip || ontoTarget))\n\t\t)\n\t{\n\t\t/* eslint-disable no-empty */\n\t\ttry {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopImmediatePropagation();\n\t\t} catch(e) {}\n\t\t/* eslint-enable no-empty */\n\n\t\treturn;\n\t}\n\n\t// If tooltip has displayed, start hide timer\n\tthis.timers.hide = delay.call(this,\n\t\tfunction() { this.toggle(FALSE, event); },\n\t\tthis.options.hide.delay,\n\t\tthis\n\t);\n}\n\nfunction inactiveMethod(event) {\n\tif(this.tooltip.hasClass(CLASS_DISABLED) || !this.options.hide.inactive) { return; }\n\n\t// Clear timer\n\tclearTimeout(this.timers.inactive);\n\n\tthis.timers.inactive = delay.call(this,\n\t\tfunction(){ this.hide(event); },\n\t\tthis.options.hide.inactive\n\t);\n}\n\nfunction repositionMethod(event) {\n\tif(this.rendered && this.tooltip[0].offsetWidth > 0) { this.reposition(event); }\n}\n\n// Store mouse coordinates\nPROTOTYPE._storeMouse = function(event) {\n\t(this.mouse = $.event.fix(event)).type = 'mousemove';\n\treturn this;\n};\n\n// Bind events\nPROTOTYPE._bind = function(targets, events, method, suffix, context) {\n\tif(!targets || !method || !events.length) { return; }\n\tvar ns = '.' + this._id + (suffix ? '-'+suffix : '');\n\t$(targets).bind(\n\t\t(events.split ? events : events.join(ns + ' ')) + ns,\n\t\t$.proxy(method, context || this)\n\t);\n\treturn this;\n};\nPROTOTYPE._unbind = function(targets, suffix) {\n\ttargets && $(targets).unbind('.' + this._id + (suffix ? '-'+suffix : ''));\n\treturn this;\n};\n\n// Global delegation helper\nfunction delegate(selector, events, method) {\n\t$(document.body).delegate(selector,\n\t\t(events.split ? events : events.join('.'+NAMESPACE + ' ')) + '.'+NAMESPACE,\n\t\tfunction() {\n\t\t\tvar api = QTIP.api[ $.attr(this, ATTR_ID) ];\n\t\t\tapi && !api.disabled && method.apply(api, arguments);\n\t\t}\n\t);\n}\n// Event trigger\nPROTOTYPE._trigger = function(type, args, event) {\n\tvar callback = new $.Event('tooltip'+type);\n\tcallback.originalEvent = event && $.extend({}, event) || this.cache.event || NULL;\n\n\tthis.triggering = type;\n\tthis.tooltip.trigger(callback, [this].concat(args || []));\n\tthis.triggering = FALSE;\n\n\treturn !callback.isDefaultPrevented();\n};\n\nPROTOTYPE._bindEvents = function(showEvents, hideEvents, showTargets, hideTargets, showCallback, hideCallback) {\n\t// Get tasrgets that lye within both\n\tvar similarTargets = showTargets.filter( hideTargets ).add( hideTargets.filter(showTargets) ),\n\t\ttoggleEvents = [];\n\n\t// If hide and show targets are the same...\n\tif(similarTargets.length) {\n\n\t\t// Filter identical show/hide events\n\t\t$.each(hideEvents, function(i, type) {\n\t\t\tvar showIndex = $.inArray(type, showEvents);\n\n\t\t\t// Both events are identical, remove from both hide and show events\n\t\t\t// and append to toggleEvents\n\t\t\tshowIndex > -1 && toggleEvents.push( showEvents.splice( showIndex, 1 )[0] );\n\t\t});\n\n\t\t// Toggle events are special case of identical show/hide events, which happen in sequence\n\t\tif(toggleEvents.length) {\n\t\t\t// Bind toggle events to the similar targets\n\t\t\tthis._bind(similarTargets, toggleEvents, function(event) {\n\t\t\t\tvar state = this.rendered ? this.tooltip[0].offsetWidth > 0 : false;\n\t\t\t\t(state ? hideCallback : showCallback).call(this, event);\n\t\t\t});\n\n\t\t\t// Remove the similar targets from the regular show/hide bindings\n\t\t\tshowTargets = showTargets.not(similarTargets);\n\t\t\thideTargets = hideTargets.not(similarTargets);\n\t\t}\n\t}\n\n\t// Apply show/hide/toggle events\n\tthis._bind(showTargets, showEvents, showCallback);\n\tthis._bind(hideTargets, hideEvents, hideCallback);\n};\n\nPROTOTYPE._assignInitialEvents = function(event) {\n\tvar options = this.options,\n\t\tshowTarget = options.show.target,\n\t\thideTarget = options.hide.target,\n\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\n\n\t// Catch remove/removeqtip events on target element to destroy redundant tooltips\n\tthis._bind(this.elements.target, ['remove', 'removeqtip'], function() {\n\t\tthis.destroy(true);\n\t}, 'destroy');\n\n\t/*\n\t * Make sure hoverIntent functions properly by using mouseleave as a hide event if\n\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n\t */\n\tif(/mouse(over|enter)/i.test(options.show.event) && !/mouse(out|leave)/i.test(options.hide.event)) {\n\t\thideEvents.push('mouseleave');\n\t}\n\n\t/*\n\t * Also make sure initial mouse targetting works correctly by caching mousemove coords\n\t * on show targets before the tooltip has rendered. Also set onTarget when triggered to\n\t * keep mouse tracking working.\n\t */\n\tthis._bind(showTarget, 'mousemove', function(moveEvent) {\n\t\tthis._storeMouse(moveEvent);\n\t\tthis.cache.onTarget = TRUE;\n\t});\n\n\t// Define hoverIntent function\n\tfunction hoverIntent(hoverEvent) {\n\t\t// Only continue if tooltip isn't disabled\n\t\tif(this.disabled || this.destroyed) { return FALSE; }\n\n\t\t// Cache the event data\n\t\tthis.cache.event = hoverEvent && $.event.fix(hoverEvent);\n\t\tthis.cache.target = hoverEvent && $(hoverEvent.target);\n\n\t\t// Start the event sequence\n\t\tclearTimeout(this.timers.show);\n\t\tthis.timers.show = delay.call(this,\n\t\t\tfunction() { this.render(typeof hoverEvent === 'object' || options.show.ready); },\n\t\t\toptions.prerender ? 0 : options.show.delay\n\t\t);\n\t}\n\n\t// Filter and bind events\n\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, hoverIntent, function() {\n\t\tif(!this.timers) { return FALSE; }\n\t\tclearTimeout(this.timers.show);\n\t});\n\n\t// Prerendering is enabled, create tooltip now\n\tif(options.show.ready || options.prerender) { hoverIntent.call(this, event); }\n};\n\n// Event assignment method\nPROTOTYPE._assignEvents = function() {\n\tvar self = this,\n\t\toptions = this.options,\n\t\tposOptions = options.position,\n\n\t\ttooltip = this.tooltip,\n\t\tshowTarget = options.show.target,\n\t\thideTarget = options.hide.target,\n\t\tcontainerTarget = posOptions.container,\n\t\tviewportTarget = posOptions.viewport,\n\t\tdocumentTarget = $(document),\n\t\twindowTarget = $(window),\n\n\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\n\n\n\t// Assign passed event callbacks\n\t$.each(options.events, function(name, callback) {\n\t\tself._bind(tooltip, name === 'toggle' ? ['tooltipshow','tooltiphide'] : ['tooltip'+name], callback, null, tooltip);\n\t});\n\n\t// Hide tooltips when leaving current window/frame (but not select/option elements)\n\tif(/mouse(out|leave)/i.test(options.hide.event) && options.hide.leave === 'window') {\n\t\tthis._bind(documentTarget, ['mouseout', 'blur'], function(event) {\n\t\t\tif(!/select|option/.test(event.target.nodeName) && !event.relatedTarget) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Enable hide.fixed by adding appropriate class\n\tif(options.hide.fixed) {\n\t\thideTarget = hideTarget.add( tooltip.addClass(CLASS_FIXED) );\n\t}\n\n\t/*\n\t * Make sure hoverIntent functions properly by using mouseleave to clear show timer if\n\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n\t */\n\telse if(/mouse(over|enter)/i.test(options.show.event)) {\n\t\tthis._bind(hideTarget, 'mouseleave', function() {\n\t\t\tclearTimeout(this.timers.show);\n\t\t});\n\t}\n\n\t// Hide tooltip on document mousedown if unfocus events are enabled\n\tif(('' + options.hide.event).indexOf('unfocus') > -1) {\n\t\tthis._bind(containerTarget.closest('html'), ['mousedown', 'touchstart'], function(event) {\n\t\t\tvar elem = $(event.target),\n\t\t\t\tenabled = this.rendered && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0,\n\t\t\t\tisAncestor = elem.parents(SELECTOR).filter(this.tooltip[0]).length > 0;\n\n\t\t\tif(elem[0] !== this.target[0] && elem[0] !== this.tooltip[0] && !isAncestor &&\n\t\t\t\t!this.target.has(elem[0]).length && enabled\n\t\t\t) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Check if the tooltip hides when inactive\n\tif('number' === typeof options.hide.inactive) {\n\t\t// Bind inactive method to show target(s) as a custom event\n\t\tthis._bind(showTarget, 'qtip-'+this.id+'-inactive', inactiveMethod, 'inactive');\n\n\t\t// Define events which reset the 'inactive' event handler\n\t\tthis._bind(hideTarget.add(tooltip), QTIP.inactiveEvents, inactiveMethod);\n\t}\n\n\t// Filter and bind events\n\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, showMethod, hideMethod);\n\n\t// Mouse movement bindings\n\tthis._bind(showTarget.add(tooltip), 'mousemove', function(event) {\n\t\t// Check if the tooltip hides when mouse is moved a certain distance\n\t\tif('number' === typeof options.hide.distance) {\n\t\t\tvar origin = this.cache.origin || {},\n\t\t\t\tlimit = this.options.hide.distance,\n\t\t\t\tabs = Math.abs;\n\n\t\t\t// Check if the movement has gone beyond the limit, and hide it if so\n\t\t\tif(abs(event.pageX - origin.pageX) >= limit || abs(event.pageY - origin.pageY) >= limit) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t}\n\n\t\t// Cache mousemove coords on show targets\n\t\tthis._storeMouse(event);\n\t});\n\n\t// Mouse positioning events\n\tif(posOptions.target === 'mouse') {\n\t\t// If mouse adjustment is on...\n\t\tif(posOptions.adjust.mouse) {\n\t\t\t// Apply a mouseleave event so we don't get problems with overlapping\n\t\t\tif(options.hide.event) {\n\t\t\t\t// Track if we're on the target or not\n\t\t\t\tthis._bind(showTarget, ['mouseenter', 'mouseleave'], function(event) {\n\t\t\t\t\tif(!this.cache) {return FALSE; }\n\t\t\t\t\tthis.cache.onTarget = event.type === 'mouseenter';\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Update tooltip position on mousemove\n\t\t\tthis._bind(documentTarget, 'mousemove', function(event) {\n\t\t\t\t// Update the tooltip position only if the tooltip is visible and adjustment is enabled\n\t\t\t\tif(this.rendered && this.cache.onTarget && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0) {\n\t\t\t\t\tthis.reposition(event);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// Adjust positions of the tooltip on window resize if enabled\n\tif(posOptions.adjust.resize || viewportTarget.length) {\n\t\tthis._bind( $.event.special.resize ? viewportTarget : windowTarget, 'resize', repositionMethod );\n\t}\n\n\t// Adjust tooltip position on scroll of the window or viewport element if present\n\tif(posOptions.adjust.scroll) {\n\t\tthis._bind( windowTarget.add(posOptions.container), 'scroll', repositionMethod );\n\t}\n};\n\n// Un-assignment method\nPROTOTYPE._unassignEvents = function() {\n\tvar options = this.options,\n\t\tshowTargets = options.show.target,\n\t\thideTargets = options.hide.target,\n\t\ttargets = $.grep([\n\t\t\tthis.elements.target[0],\n\t\t\tthis.rendered && this.tooltip[0],\n\t\t\toptions.position.container[0],\n\t\t\toptions.position.viewport[0],\n\t\t\toptions.position.container.closest('html')[0], // unfocus\n\t\t\twindow,\n\t\t\tdocument\n\t\t], function(i) {\n\t\t\treturn typeof i === 'object';\n\t\t});\n\n\t// Add show and hide targets if they're valid\n\tif(showTargets && showTargets.toArray) {\n\t\ttargets = targets.concat(showTargets.toArray());\n\t}\n\tif(hideTargets && hideTargets.toArray) {\n\t\ttargets = targets.concat(hideTargets.toArray());\n\t}\n\n\t// Unbind the events\n\tthis._unbind(targets)\n\t\t._unbind(targets, 'destroy')\n\t\t._unbind(targets, 'inactive');\n};\n\n// Apply common event handlers using delegate (avoids excessive .bind calls!)\n$(function() {\n\tdelegate(SELECTOR, ['mouseenter', 'mouseleave'], function(event) {\n\t\tvar state = event.type === 'mouseenter',\n\t\t\ttooltip = $(event.currentTarget),\n\t\t\ttarget = $(event.relatedTarget || event.target),\n\t\t\toptions = this.options;\n\n\t\t// On mouseenter...\n\t\tif(state) {\n\t\t\t// Focus the tooltip on mouseenter (z-index stacking)\n\t\t\tthis.focus(event);\n\n\t\t\t// Clear hide timer on tooltip hover to prevent it from closing\n\t\t\ttooltip.hasClass(CLASS_FIXED) && !tooltip.hasClass(CLASS_DISABLED) && clearTimeout(this.timers.hide);\n\t\t}\n\n\t\t// On mouseleave...\n\t\telse {\n\t\t\t// When mouse tracking is enabled, hide when we leave the tooltip and not onto the show target (if a hide event is set)\n\t\t\tif(options.position.target === 'mouse' && options.position.adjust.mouse &&\n\t\t\t\toptions.hide.event && options.show.target && !target.closest(options.show.target[0]).length) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t}\n\n\t\t// Add hover class\n\t\ttooltip.toggleClass(CLASS_HOVER, state);\n\t});\n\n\t// Define events which reset the 'inactive' event handler\n\tdelegate('['+ATTR_ID+']', INACTIVE_EVENTS, inactiveMethod);\n});\n;// Initialization method\nfunction init(elem, id, opts) {\n\tvar obj, posOptions, attr, config, title,\n\n\t// Setup element references\n\tdocBody = $(document.body),\n\n\t// Use document body instead of document element if needed\n\tnewTarget = elem[0] === document ? docBody : elem,\n\n\t// Grab metadata from element if plugin is present\n\tmetadata = elem.metadata ? elem.metadata(opts.metadata) : NULL,\n\n\t// If metadata type if HTML5, grab 'name' from the object instead, or use the regular data object otherwise\n\tmetadata5 = opts.metadata.type === 'html5' && metadata ? metadata[opts.metadata.name] : NULL,\n\n\t// Grab data from metadata.name (or data-qtipopts as fallback) using .data() method,\n\thtml5 = elem.data(opts.metadata.name || 'qtipopts');\n\n\t// If we don't get an object returned attempt to parse it manualyl without parseJSON\n\t/* eslint-disable no-empty */\n\ttry { html5 = typeof html5 === 'string' ? $.parseJSON(html5) : html5; }\n\tcatch(e) {}\n\t/* eslint-enable no-empty */\n\n\t// Merge in and sanitize metadata\n\tconfig = $.extend(TRUE, {}, QTIP.defaults, opts,\n\t\ttypeof html5 === 'object' ? sanitizeOptions(html5) : NULL,\n\t\tsanitizeOptions(metadata5 || metadata));\n\n\t// Re-grab our positioning options now we've merged our metadata and set id to passed value\n\tposOptions = config.position;\n\tconfig.id = id;\n\n\t// Setup missing content if none is detected\n\tif('boolean' === typeof config.content.text) {\n\t\tattr = elem.attr(config.content.attr);\n\n\t\t// Grab from supplied attribute if available\n\t\tif(config.content.attr !== FALSE && attr) { config.content.text = attr; }\n\n\t\t// No valid content was found, abort render\n\t\telse { return FALSE; }\n\t}\n\n\t// Setup target options\n\tif(!posOptions.container.length) { posOptions.container = docBody; }\n\tif(posOptions.target === FALSE) { posOptions.target = newTarget; }\n\tif(config.show.target === FALSE) { config.show.target = newTarget; }\n\tif(config.show.solo === TRUE) { config.show.solo = posOptions.container.closest('body'); }\n\tif(config.hide.target === FALSE) { config.hide.target = newTarget; }\n\tif(config.position.viewport === TRUE) { config.position.viewport = posOptions.container; }\n\n\t// Ensure we only use a single container\n\tposOptions.container = posOptions.container.eq(0);\n\n\t// Convert position corner values into x and y strings\n\tposOptions.at = new CORNER(posOptions.at, TRUE);\n\tposOptions.my = new CORNER(posOptions.my);\n\n\t// Destroy previous tooltip if overwrite is enabled, or skip element if not\n\tif(elem.data(NAMESPACE)) {\n\t\tif(config.overwrite) {\n\t\t\telem.qtip('destroy', true);\n\t\t}\n\t\telse if(config.overwrite === FALSE) {\n\t\t\treturn FALSE;\n\t\t}\n\t}\n\n\t// Add has-qtip attribute\n\telem.attr(ATTR_HAS, id);\n\n\t// Remove title attribute and store it if present\n\tif(config.suppress && (title = elem.attr('title'))) {\n\t\t// Final attr call fixes event delegatiom and IE default tooltip showing problem\n\t\telem.removeAttr('title').attr(oldtitle, title).attr('title', '');\n\t}\n\n\t// Initialize the tooltip and add API reference\n\tobj = new QTip(elem, config, id, !!attr);\n\telem.data(NAMESPACE, obj);\n\n\treturn obj;\n}\n\n// jQuery $.fn extension method\nQTIP = $.fn.qtip = function(options, notation, newValue)\n{\n\tvar command = ('' + options).toLowerCase(), // Parse command\n\t\treturned = NULL,\n\t\targs = $.makeArray(arguments).slice(1),\n\t\tevent = args[args.length - 1],\n\t\topts = this[0] ? $.data(this[0], NAMESPACE) : NULL;\n\n\t// Check for API request\n\tif(!arguments.length && opts || command === 'api') {\n\t\treturn opts;\n\t}\n\n\t// Execute API command if present\n\telse if('string' === typeof options) {\n\t\tthis.each(function() {\n\t\t\tvar api = $.data(this, NAMESPACE);\n\t\t\tif(!api) { return TRUE; }\n\n\t\t\t// Cache the event if possible\n\t\t\tif(event && event.timeStamp) { api.cache.event = event; }\n\n\t\t\t// Check for specific API commands\n\t\t\tif(notation && (command === 'option' || command === 'options')) {\n\t\t\t\tif(newValue !== undefined || $.isPlainObject(notation)) {\n\t\t\t\t\tapi.set(notation, newValue);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturned = api.get(notation);\n\t\t\t\t\treturn FALSE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Execute API command\n\t\t\telse if(api[command]) {\n\t\t\t\tapi[command].apply(api, args);\n\t\t\t}\n\t\t});\n\n\t\treturn returned !== NULL ? returned : this;\n\t}\n\n\t// No API commands. validate provided options and setup qTips\n\telse if('object' === typeof options || !arguments.length) {\n\t\t// Sanitize options first\n\t\topts = sanitizeOptions($.extend(TRUE, {}, options));\n\n\t\treturn this.each(function(i) {\n\t\t\tvar api, id;\n\n\t\t\t// Find next available ID, or use custom ID if provided\n\t\t\tid = $.isArray(opts.id) ? opts.id[i] : opts.id;\n\t\t\tid = !id || id === FALSE || id.length < 1 || QTIP.api[id] ? QTIP.nextid++ : id;\n\n\t\t\t// Initialize the qTip and re-grab newly sanitized options\n\t\t\tapi = init($(this), id, opts);\n\t\t\tif(api === FALSE) { return TRUE; }\n\t\t\telse { QTIP.api[id] = api; }\n\n\t\t\t// Initialize plugins\n\t\t\t$.each(PLUGINS, function() {\n\t\t\t\tif(this.initialize === 'initialize') { this(api); }\n\t\t\t});\n\n\t\t\t// Assign initial pre-render events\n\t\t\tapi._assignInitialEvents(event);\n\t\t});\n\t}\n};\n\n// Expose class\n$.qtip = QTip;\n\n// Populated in render method\nQTIP.api = {};\n;$.each({\n\t/* Allow other plugins to successfully retrieve the title of an element with a qTip applied */\n\tattr: function(attr, val) {\n\t\tif(this.length) {\n\t\t\tvar self = this[0],\n\t\t\t\ttitle = 'title',\n\t\t\t\tapi = $.data(self, 'qtip');\n\n\t\t\tif(attr === title && api && api.options && 'object' === typeof api && 'object' === typeof api.options && api.options.suppress) {\n\t\t\t\tif(arguments.length < 2) {\n\t\t\t\t\treturn $.attr(self, oldtitle);\n\t\t\t\t}\n\n\t\t\t\t// If qTip is rendered and title was originally used as content, update it\n\t\t\t\tif(api && api.options.content.attr === title && api.cache.attr) {\n\t\t\t\t\tapi.set('content.text', val);\n\t\t\t\t}\n\n\t\t\t\t// Use the regular attr method to set, then cache the result\n\t\t\t\treturn this.attr(oldtitle, val);\n\t\t\t}\n\t\t}\n\n\t\treturn $.fn['attr'+replaceSuffix].apply(this, arguments);\n\t},\n\n\t/* Allow clone to correctly retrieve cached title attributes */\n\tclone: function(keepData) {\n\t\t// Clone our element using the real clone method\n\t\tvar elems = $.fn['clone'+replaceSuffix].apply(this, arguments);\n\n\t\t// Grab all elements with an oldtitle set, and change it to regular title attribute, if keepData is false\n\t\tif(!keepData) {\n\t\t\telems.filter('['+oldtitle+']').attr('title', function() {\n\t\t\t\treturn $.attr(this, oldtitle);\n\t\t\t})\n\t\t\t.removeAttr(oldtitle);\n\t\t}\n\n\t\treturn elems;\n\t}\n}, function(name, func) {\n\tif(!func || $.fn[name+replaceSuffix]) { return TRUE; }\n\n\tvar old = $.fn[name+replaceSuffix] = $.fn[name];\n\t$.fn[name] = function() {\n\t\treturn func.apply(this, arguments) || old.apply(this, arguments);\n\t};\n});\n\n/* Fire off 'removeqtip' handler in $.cleanData if jQuery UI not present (it already does similar).\n * This snippet is taken directly from jQuery UI source code found here:\n *     http://code.jquery.com/ui/jquery-ui-git.js\n */\nif(!$.ui) {\n\t$['cleanData'+replaceSuffix] = $.cleanData;\n\t$.cleanData = function( elems ) {\n\t\tfor(var i = 0, elem; (elem = $( elems[i] )).length; i++) {\n\t\t\tif(elem.attr(ATTR_HAS)) {\n\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\ttry { elem.triggerHandler('removeqtip'); }\n\t\t\t\tcatch( e ) {}\n\t\t\t\t/* eslint-enable no-empty */\n\t\t\t}\n\t\t}\n\t\t$['cleanData'+replaceSuffix].apply(this, arguments);\n\t};\n}\n;// qTip version\nQTIP.version = '3.0.3';\n\n// Base ID for all qTips\nQTIP.nextid = 0;\n\n// Inactive events array\nQTIP.inactiveEvents = INACTIVE_EVENTS;\n\n// Base z-index for all qTips\nQTIP.zindex = 15000;\n\n// Define configuration defaults\nQTIP.defaults = {\n\tprerender: FALSE,\n\tid: FALSE,\n\toverwrite: TRUE,\n\tsuppress: TRUE,\n\tcontent: {\n\t\ttext: TRUE,\n\t\tattr: 'title',\n\t\ttitle: FALSE,\n\t\tbutton: FALSE\n\t},\n\tposition: {\n\t\tmy: 'top left',\n\t\tat: 'bottom right',\n\t\ttarget: FALSE,\n\t\tcontainer: FALSE,\n\t\tviewport: FALSE,\n\t\tadjust: {\n\t\t\tx: 0, y: 0,\n\t\t\tmouse: TRUE,\n\t\t\tscroll: TRUE,\n\t\t\tresize: TRUE,\n\t\t\tmethod: 'flipinvert flipinvert'\n\t\t},\n\t\teffect: function(api, pos) {\n\t\t\t$(this).animate(pos, {\n\t\t\t\tduration: 200,\n\t\t\t\tqueue: FALSE\n\t\t\t});\n\t\t}\n\t},\n\tshow: {\n\t\ttarget: FALSE,\n\t\tevent: 'mouseenter',\n\t\teffect: TRUE,\n\t\tdelay: 90,\n\t\tsolo: FALSE,\n\t\tready: FALSE,\n\t\tautofocus: FALSE\n\t},\n\thide: {\n\t\ttarget: FALSE,\n\t\tevent: 'mouseleave',\n\t\teffect: TRUE,\n\t\tdelay: 0,\n\t\tfixed: FALSE,\n\t\tinactive: FALSE,\n\t\tleave: 'window',\n\t\tdistance: FALSE\n\t},\n\tstyle: {\n\t\tclasses: '',\n\t\twidget: FALSE,\n\t\twidth: FALSE,\n\t\theight: FALSE,\n\t\tdef: TRUE\n\t},\n\tevents: {\n\t\trender: NULL,\n\t\tmove: NULL,\n\t\tshow: NULL,\n\t\thide: NULL,\n\t\ttoggle: NULL,\n\t\tvisible: NULL,\n\t\thidden: NULL,\n\t\tfocus: NULL,\n\t\tblur: NULL\n\t}\n};\n;var TIP,\ncreateVML,\nSCALE,\nPIXEL_RATIO,\nBACKING_STORE_RATIO,\n\n// Common CSS strings\nMARGIN = 'margin',\nBORDER = 'border',\nCOLOR = 'color',\nBG_COLOR = 'background-color',\nTRANSPARENT = 'transparent',\nIMPORTANT = ' !important',\n\n// Check if the browser supports <canvas/> elements\nHASCANVAS = !!document.createElement('canvas').getContext,\n\n// Invalid colour values used in parseColours()\nINVALID = /rgba?\\(0, 0, 0(, 0)?\\)|transparent|#123456/i;\n\n// Camel-case method, taken from jQuery source\n// http://code.jquery.com/jquery-1.8.0.js\nfunction camel(s) { return s.charAt(0).toUpperCase() + s.slice(1); }\n\n/*\n * Modified from Modernizr's testPropsAll()\n * http://modernizr.com/downloads/modernizr-latest.js\n */\nvar cssProps = {}, cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\nfunction vendorCss(elem, prop) {\n\tvar ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n\t\tprops = (prop + ' ' + cssPrefixes.join(ucProp + ' ') + ucProp).split(' '),\n\t\tcur, val, i = 0;\n\n\t// If the property has already been mapped...\n\tif(cssProps[prop]) { return elem.css(cssProps[prop]); }\n\n\twhile(cur = props[i++]) {\n\t\tif((val = elem.css(cur)) !== undefined) {\n\t\t\tcssProps[prop] = cur;\n\t\t\treturn val;\n\t\t}\n\t}\n}\n\n// Parse a given elements CSS property into an int\nfunction intCss(elem, prop) {\n\treturn Math.ceil(parseFloat(vendorCss(elem, prop)));\n}\n\n\n// VML creation (for IE only)\nif(!HASCANVAS) {\n\tcreateVML = function(tag, props, style) {\n\t\treturn '<qtipvml:'+tag+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"qtip-vml\" '+(props||'')+\n\t\t\t' style=\"behavior: url(#default#VML); '+(style||'')+ '\" />';\n\t};\n}\n\n// Canvas only definitions\nelse {\n\tPIXEL_RATIO = window.devicePixelRatio || 1;\n\tBACKING_STORE_RATIO = (function() {\n\t\tvar context = document.createElement('canvas').getContext('2d');\n\t\treturn context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio ||\n\t\t\t\tcontext.msBackingStorePixelRatio || context.oBackingStorePixelRatio || 1;\n\t})();\n\tSCALE = PIXEL_RATIO / BACKING_STORE_RATIO;\n}\n\n\nfunction Tip(qtip, options) {\n\tthis._ns = 'tip';\n\tthis.options = options;\n\tthis.offset = options.offset;\n\tthis.size = [ options.width, options.height ];\n\n\t// Initialize\n\tthis.qtip = qtip;\n\tthis.init(qtip);\n}\n\n$.extend(Tip.prototype, {\n\tinit: function(qtip) {\n\t\tvar context, tip;\n\n\t\t// Create tip element and prepend to the tooltip\n\t\ttip = this.element = qtip.elements.tip = $('<div />', { 'class': NAMESPACE+'-tip' }).prependTo(qtip.tooltip);\n\n\t\t// Create tip drawing element(s)\n\t\tif(HASCANVAS) {\n\t\t\t// save() as soon as we create the canvas element so FF2 doesn't bork on our first restore()!\n\t\t\tcontext = $('<canvas />').appendTo(this.element)[0].getContext('2d');\n\n\t\t\t// Setup constant parameters\n\t\t\tcontext.lineJoin = 'miter';\n\t\t\tcontext.miterLimit = 100000;\n\t\t\tcontext.save();\n\t\t}\n\t\telse {\n\t\t\tcontext = createVML('shape', 'coordorigin=\"0,0\"', 'position:absolute;');\n\t\t\tthis.element.html(context + context);\n\n\t\t\t// Prevent mousing down on the tip since it causes problems with .live() handling in IE due to VML\n\t\t\tqtip._bind( $('*', tip).add(tip), ['click', 'mousedown'], function(event) { event.stopPropagation(); }, this._ns);\n\t\t}\n\n\t\t// Bind update events\n\t\tqtip._bind(qtip.tooltip, 'tooltipmove', this.reposition, this._ns, this);\n\n\t\t// Create it\n\t\tthis.create();\n\t},\n\n\t_swapDimensions: function() {\n\t\tthis.size[0] = this.options.height;\n\t\tthis.size[1] = this.options.width;\n\t},\n\t_resetDimensions: function() {\n\t\tthis.size[0] = this.options.width;\n\t\tthis.size[1] = this.options.height;\n\t},\n\n\t_useTitle: function(corner) {\n\t\tvar titlebar = this.qtip.elements.titlebar;\n\t\treturn titlebar && (\n\t\t\tcorner.y === TOP || corner.y === CENTER && this.element.position().top + this.size[1] / 2 + this.options.offset < titlebar.outerHeight(TRUE)\n\t\t);\n\t},\n\n\t_parseCorner: function(corner) {\n\t\tvar my = this.qtip.options.position.my;\n\n\t\t// Detect corner and mimic properties\n\t\tif(corner === FALSE || my === FALSE) {\n\t\t\tcorner = FALSE;\n\t\t}\n\t\telse if(corner === TRUE) {\n\t\t\tcorner = new CORNER( my.string() );\n\t\t}\n\t\telse if(!corner.string) {\n\t\t\tcorner = new CORNER(corner);\n\t\t\tcorner.fixed = TRUE;\n\t\t}\n\n\t\treturn corner;\n\t},\n\n\t_parseWidth: function(corner, side, use) {\n\t\tvar elements = this.qtip.elements,\n\t\t\tprop = BORDER + camel(side) + 'Width';\n\n\t\treturn (use ? intCss(use, prop) : \n\t\t\tintCss(elements.content, prop) ||\n\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\n\t\t\tintCss(elements.tooltip, prop)\n\t\t) || 0;\n\t},\n\n\t_parseRadius: function(corner) {\n\t\tvar elements = this.qtip.elements,\n\t\t\tprop = BORDER + camel(corner.y) + camel(corner.x) + 'Radius';\n\n\t\treturn BROWSER.ie < 9 ? 0 :\n\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\n\t\t\tintCss(elements.tooltip, prop) || 0;\n\t},\n\n\t_invalidColour: function(elem, prop, compare) {\n\t\tvar val = elem.css(prop);\n\t\treturn !val || compare && val === elem.css(compare) || INVALID.test(val) ? FALSE : val;\n\t},\n\n\t_parseColours: function(corner) {\n\t\tvar elements = this.qtip.elements,\n\t\t\ttip = this.element.css('cssText', ''),\n\t\t\tborderSide = BORDER + camel(corner[ corner.precedance ]) + camel(COLOR),\n\t\t\tcolorElem = this._useTitle(corner) && elements.titlebar || elements.content,\n\t\t\tcss = this._invalidColour, color = [];\n\n\t\t// Attempt to detect the background colour from various elements, left-to-right precedance\n\t\tcolor[0] = css(tip, BG_COLOR) || css(colorElem, BG_COLOR) || css(elements.content, BG_COLOR) ||\n\t\t\tcss(elements.tooltip, BG_COLOR) || tip.css(BG_COLOR);\n\n\t\t// Attempt to detect the correct border side colour from various elements, left-to-right precedance\n\t\tcolor[1] = css(tip, borderSide, COLOR) || css(colorElem, borderSide, COLOR) ||\n\t\t\tcss(elements.content, borderSide, COLOR) || css(elements.tooltip, borderSide, COLOR) || elements.tooltip.css(borderSide);\n\n\t\t// Reset background and border colours\n\t\t$('*', tip).add(tip).css('cssText', BG_COLOR+':'+TRANSPARENT+IMPORTANT+';'+BORDER+':0'+IMPORTANT+';');\n\n\t\treturn color;\n\t},\n\n\t_calculateSize: function(corner) {\n\t\tvar y = corner.precedance === Y,\n\t\t\twidth = this.options.width,\n\t\t\theight = this.options.height,\n\t\t\tisCenter = corner.abbrev() === 'c',\n\t\t\tbase = (y ? width: height) * (isCenter ? 0.5 : 1),\n\t\t\tpow = Math.pow,\n\t\t\tround = Math.round,\n\t\t\tbigHyp, ratio, result,\n\n\t\tsmallHyp = Math.sqrt( pow(base, 2) + pow(height, 2) ),\n\t\thyp = [\n\t\t\tthis.border / base * smallHyp,\n\t\t\tthis.border / height * smallHyp\n\t\t];\n\n\t\thyp[2] = Math.sqrt( pow(hyp[0], 2) - pow(this.border, 2) );\n\t\thyp[3] = Math.sqrt( pow(hyp[1], 2) - pow(this.border, 2) );\n\n\t\tbigHyp = smallHyp + hyp[2] + hyp[3] + (isCenter ? 0 : hyp[0]);\n\t\tratio = bigHyp / smallHyp;\n\n\t\tresult = [ round(ratio * width), round(ratio * height) ];\n\t\treturn y ? result : result.reverse();\n\t},\n\n\t// Tip coordinates calculator\n\t_calculateTip: function(corner, size, scale) {\n\t\tscale = scale || 1;\n\t\tsize = size || this.size;\n\n\t\tvar width = size[0] * scale,\n\t\t\theight = size[1] * scale,\n\t\t\twidth2 = Math.ceil(width / 2), height2 = Math.ceil(height / 2),\n\n\t\t// Define tip coordinates in terms of height and width values\n\t\ttips = {\n\t\t\tbr:\t[0,0,\t\twidth,height,\twidth,0],\n\t\t\tbl:\t[0,0,\t\twidth,0,\t\t0,height],\n\t\t\ttr:\t[0,height,\twidth,0,\t\twidth,height],\n\t\t\ttl:\t[0,0,\t\t0,height,\t\twidth,height],\n\t\t\ttc:\t[0,height,\twidth2,0,\t\twidth,height],\n\t\t\tbc:\t[0,0,\t\twidth,0,\t\twidth2,height],\n\t\t\trc:\t[0,0,\t\twidth,height2,\t0,height],\n\t\t\tlc:\t[width,0,\twidth,height,\t0,height2]\n\t\t};\n\n\t\t// Set common side shapes\n\t\ttips.lt = tips.br; tips.rt = tips.bl;\n\t\ttips.lb = tips.tr; tips.rb = tips.tl;\n\n\t\treturn tips[ corner.abbrev() ];\n\t},\n\n\t// Tip coordinates drawer (canvas)\n\t_drawCoords: function(context, coords) {\n\t\tcontext.beginPath();\n\t\tcontext.moveTo(coords[0], coords[1]);\n\t\tcontext.lineTo(coords[2], coords[3]);\n\t\tcontext.lineTo(coords[4], coords[5]);\n\t\tcontext.closePath();\n\t},\n\n\tcreate: function() {\n\t\t// Determine tip corner\n\t\tvar c = this.corner = (HASCANVAS || BROWSER.ie) && this._parseCorner(this.options.corner);\n\n\t\t// If we have a tip corner...\n\t\tthis.enabled = !!this.corner && this.corner.abbrev() !== 'c';\n\t\tif(this.enabled) {\n\t\t\t// Cache it\n\t\t\tthis.qtip.cache.corner = c.clone();\n\n\t\t\t// Create it\n\t\t\tthis.update();\n\t\t}\n\n\t\t// Toggle tip element\n\t\tthis.element.toggle(this.enabled);\n\n\t\treturn this.corner;\n\t},\n\n\tupdate: function(corner, position) {\n\t\tif(!this.enabled) { return this; }\n\n\t\tvar elements = this.qtip.elements,\n\t\t\ttip = this.element,\n\t\t\tinner = tip.children(),\n\t\t\toptions = this.options,\n\t\t\tcurSize = this.size,\n\t\t\tmimic = options.mimic,\n\t\t\tround = Math.round,\n\t\t\tcolor, precedance, context,\n\t\t\tcoords, bigCoords, translate, newSize, border;\n\n\t\t// Re-determine tip if not already set\n\t\tif(!corner) { corner = this.qtip.cache.corner || this.corner; }\n\n\t\t// Use corner property if we detect an invalid mimic value\n\t\tif(mimic === FALSE) { mimic = corner; }\n\n\t\t// Otherwise inherit mimic properties from the corner object as necessary\n\t\telse {\n\t\t\tmimic = new CORNER(mimic);\n\t\t\tmimic.precedance = corner.precedance;\n\n\t\t\tif(mimic.x === 'inherit') { mimic.x = corner.x; }\n\t\t\telse if(mimic.y === 'inherit') { mimic.y = corner.y; }\n\t\t\telse if(mimic.x === mimic.y) {\n\t\t\t\tmimic[ corner.precedance ] = corner[ corner.precedance ];\n\t\t\t}\n\t\t}\n\t\tprecedance = mimic.precedance;\n\n\t\t// Ensure the tip width.height are relative to the tip position\n\t\tif(corner.precedance === X) { this._swapDimensions(); }\n\t\telse { this._resetDimensions(); }\n\n\t\t// Update our colours\n\t\tcolor = this.color = this._parseColours(corner);\n\n\t\t// Detect border width, taking into account colours\n\t\tif(color[1] !== TRANSPARENT) {\n\t\t\t// Grab border width\n\t\t\tborder = this.border = this._parseWidth(corner, corner[corner.precedance]);\n\n\t\t\t// If border width isn't zero, use border color as fill if it's not invalid (1.0 style tips)\n\t\t\tif(options.border && border < 1 && !INVALID.test(color[1])) { color[0] = color[1]; }\n\n\t\t\t// Set border width (use detected border width if options.border is true)\n\t\t\tthis.border = border = options.border !== TRUE ? options.border : border;\n\t\t}\n\n\t\t// Border colour was invalid, set border to zero\n\t\telse { this.border = border = 0; }\n\n\t\t// Determine tip size\n\t\tnewSize = this.size = this._calculateSize(corner);\n\t\ttip.css({\n\t\t\twidth: newSize[0],\n\t\t\theight: newSize[1],\n\t\t\tlineHeight: newSize[1]+'px'\n\t\t});\n\n\t\t// Calculate tip translation\n\t\tif(corner.precedance === Y) {\n\t\t\ttranslate = [\n\t\t\t\tround(mimic.x === LEFT ? border : mimic.x === RIGHT ? newSize[0] - curSize[0] - border : (newSize[0] - curSize[0]) / 2),\n\t\t\t\tround(mimic.y === TOP ? newSize[1] - curSize[1] : 0)\n\t\t\t];\n\t\t}\n\t\telse {\n\t\t\ttranslate = [\n\t\t\t\tround(mimic.x === LEFT ? newSize[0] - curSize[0] : 0),\n\t\t\t\tround(mimic.y === TOP ? border : mimic.y === BOTTOM ? newSize[1] - curSize[1] - border : (newSize[1] - curSize[1]) / 2)\n\t\t\t];\n\t\t}\n\n\t\t// Canvas drawing implementation\n\t\tif(HASCANVAS) {\n\t\t\t// Grab canvas context and clear/save it\n\t\t\tcontext = inner[0].getContext('2d');\n\t\t\tcontext.restore(); context.save();\n\t\t\tcontext.clearRect(0,0,6000,6000);\n\n\t\t\t// Calculate coordinates\n\t\t\tcoords = this._calculateTip(mimic, curSize, SCALE);\n\t\t\tbigCoords = this._calculateTip(mimic, this.size, SCALE);\n\n\t\t\t// Set the canvas size using calculated size\n\t\t\tinner.attr(WIDTH, newSize[0] * SCALE).attr(HEIGHT, newSize[1] * SCALE);\n\t\t\tinner.css(WIDTH, newSize[0]).css(HEIGHT, newSize[1]);\n\n\t\t\t// Draw the outer-stroke tip\n\t\t\tthis._drawCoords(context, bigCoords);\n\t\t\tcontext.fillStyle = color[1];\n\t\t\tcontext.fill();\n\n\t\t\t// Draw the actual tip\n\t\t\tcontext.translate(translate[0] * SCALE, translate[1] * SCALE);\n\t\t\tthis._drawCoords(context, coords);\n\t\t\tcontext.fillStyle = color[0];\n\t\t\tcontext.fill();\n\t\t}\n\n\t\t// VML (IE Proprietary implementation)\n\t\telse {\n\t\t\t// Calculate coordinates\n\t\t\tcoords = this._calculateTip(mimic);\n\n\t\t\t// Setup coordinates string\n\t\t\tcoords = 'm' + coords[0] + ',' + coords[1] + ' l' + coords[2] +\n\t\t\t\t',' + coords[3] + ' ' + coords[4] + ',' + coords[5] + ' xe';\n\n\t\t\t// Setup VML-specific offset for pixel-perfection\n\t\t\ttranslate[2] = border && /^(r|b)/i.test(corner.string()) ?\n\t\t\t\tBROWSER.ie === 8 ? 2 : 1 : 0;\n\n\t\t\t// Set initial CSS\n\t\t\tinner.css({\n\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\n\t\t\t\tantialias: ''+(mimic.string().indexOf(CENTER) > -1),\n\t\t\t\tleft: translate[0] - translate[2] * Number(precedance === X),\n\t\t\t\ttop: translate[1] - translate[2] * Number(precedance === Y),\n\t\t\t\twidth: newSize[0] + border,\n\t\t\t\theight: newSize[1] + border\n\t\t\t})\n\t\t\t.each(function(i) {\n\t\t\t\tvar $this = $(this);\n\n\t\t\t\t// Set shape specific attributes\n\t\t\t\t$this[ $this.prop ? 'prop' : 'attr' ]({\n\t\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\n\t\t\t\t\tpath: coords,\n\t\t\t\t\tfillcolor: color[0],\n\t\t\t\t\tfilled: !!i,\n\t\t\t\t\tstroked: !i\n\t\t\t\t})\n\t\t\t\t.toggle(!!(border || i));\n\n\t\t\t\t// Check if border is enabled and add stroke element\n\t\t\t\t!i && $this.html( createVML(\n\t\t\t\t\t'stroke', 'weight=\"'+border*2+'px\" color=\"'+color[1]+'\" miterlimit=\"1000\" joinstyle=\"miter\"'\n\t\t\t\t) );\n\t\t\t});\n\t\t}\n\n\t\t// Opera bug #357 - Incorrect tip position\n\t\t// https://github.com/Craga89/qTip2/issues/367\n\t\twindow.opera && setTimeout(function() {\n\t\t\telements.tip.css({\n\t\t\t\tdisplay: 'inline-block',\n\t\t\t\tvisibility: 'visible'\n\t\t\t});\n\t\t}, 1);\n\n\t\t// Position if needed\n\t\tif(position !== FALSE) { this.calculate(corner, newSize); }\n\t},\n\n\tcalculate: function(corner, size) {\n\t\tif(!this.enabled) { return FALSE; }\n\n\t\tvar self = this,\n\t\t\telements = this.qtip.elements,\n\t\t\ttip = this.element,\n\t\t\tuserOffset = this.options.offset,\n\t\t\tposition = {},\n\t\t\tprecedance, corners;\n\n\t\t// Inherit corner if not provided\n\t\tcorner = corner || this.corner;\n\t\tprecedance = corner.precedance;\n\n\t\t// Determine which tip dimension to use for adjustment\n\t\tsize = size || this._calculateSize(corner);\n\n\t\t// Setup corners and offset array\n\t\tcorners = [ corner.x, corner.y ];\n\t\tif(precedance === X) { corners.reverse(); }\n\n\t\t// Calculate tip position\n\t\t$.each(corners, function(i, side) {\n\t\t\tvar b, bc, br;\n\n\t\t\tif(side === CENTER) {\n\t\t\t\tb = precedance === Y ? LEFT : TOP;\n\t\t\t\tposition[ b ] = '50%';\n\t\t\t\tposition[MARGIN+'-' + b] = -Math.round(size[ precedance === Y ? 0 : 1 ] / 2) + userOffset;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tb = self._parseWidth(corner, side, elements.tooltip);\n\t\t\t\tbc = self._parseWidth(corner, side, elements.content);\n\t\t\t\tbr = self._parseRadius(corner);\n\n\t\t\t\tposition[ side ] = Math.max(-self.border, i ? bc : userOffset + (br > b ? br : -b));\n\t\t\t}\n\t\t});\n\n\t\t// Adjust for tip size\n\t\tposition[ corner[precedance] ] -= size[ precedance === X ? 0 : 1 ];\n\n\t\t// Set and return new position\n\t\ttip.css({ margin: '', top: '', bottom: '', left: '', right: '' }).css(position);\n\t\treturn position;\n\t},\n\n\treposition: function(event, api, pos) {\n\t\tif(!this.enabled) { return; }\n\n\t\tvar cache = api.cache,\n\t\t\tnewCorner = this.corner.clone(),\n\t\t\tadjust = pos.adjusted,\n\t\t\tmethod = api.options.position.adjust.method.split(' '),\n\t\t\thorizontal = method[0],\n\t\t\tvertical = method[1] || method[0],\n\t\t\tshift = { left: FALSE, top: FALSE, x: 0, y: 0 },\n\t\t\toffset, css = {}, props;\n\n\t\tfunction shiftflip(direction, precedance, popposite, side, opposite) {\n\t\t\t// Horizontal - Shift or flip method\n\t\t\tif(direction === SHIFT && newCorner.precedance === precedance && adjust[side] && newCorner[popposite] !== CENTER) {\n\t\t\t\tnewCorner.precedance = newCorner.precedance === X ? Y : X;\n\t\t\t}\n\t\t\telse if(direction !== SHIFT && adjust[side]){\n\t\t\t\tnewCorner[precedance] = newCorner[precedance] === CENTER ?\n\t\t\t\t\tadjust[side] > 0 ? side : opposite :\n\t\t\t\t\tnewCorner[precedance] === side ? opposite : side;\n\t\t\t}\n\t\t}\n\n\t\tfunction shiftonly(xy, side, opposite) {\n\t\t\tif(newCorner[xy] === CENTER) {\n\t\t\t\tcss[MARGIN+'-'+side] = shift[xy] = offset[MARGIN+'-'+side] - adjust[side];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tprops = offset[opposite] !== undefined ?\n\t\t\t\t\t[ adjust[side], -offset[side] ] : [ -adjust[side], offset[side] ];\n\n\t\t\t\tif( (shift[xy] = Math.max(props[0], props[1])) > props[0] ) {\n\t\t\t\t\tpos[side] -= adjust[side];\n\t\t\t\t\tshift[side] = FALSE;\n\t\t\t\t}\n\n\t\t\t\tcss[ offset[opposite] !== undefined ? opposite : side ] = shift[xy];\n\t\t\t}\n\t\t}\n\n\t\t// If our tip position isn't fixed e.g. doesn't adjust with viewport...\n\t\tif(this.corner.fixed !== TRUE) {\n\t\t\t// Perform shift/flip adjustments\n\t\t\tshiftflip(horizontal, X, Y, LEFT, RIGHT);\n\t\t\tshiftflip(vertical, Y, X, TOP, BOTTOM);\n\n\t\t\t// Update and redraw the tip if needed (check cached details of last drawn tip)\n\t\t\tif(newCorner.string() !== cache.corner.string() || cache.cornerTop !== adjust.top || cache.cornerLeft !== adjust.left) {\n\t\t\t\tthis.update(newCorner, FALSE);\n\t\t\t}\n\t\t}\n\n\t\t// Setup tip offset properties\n\t\toffset = this.calculate(newCorner);\n\n\t\t// Readjust offset object to make it left/top\n\t\tif(offset.right !== undefined) { offset.left = -offset.right; }\n\t\tif(offset.bottom !== undefined) { offset.top = -offset.bottom; }\n\t\toffset.user = this.offset;\n\n\t\t// Perform shift adjustments\n\t\tshift.left = horizontal === SHIFT && !!adjust.left;\n\t\tif(shift.left) {\n\t\t\tshiftonly(X, LEFT, RIGHT);\n\t\t}\n\t\tshift.top = vertical === SHIFT && !!adjust.top;\n\t\tif(shift.top) {\n\t\t\tshiftonly(Y, TOP, BOTTOM);\n\t\t}\n\n\t\t/*\n\t\t* If the tip is adjusted in both dimensions, or in a\n\t\t* direction that would cause it to be anywhere but the\n\t\t* outer border, hide it!\n\t\t*/\n\t\tthis.element.css(css).toggle(\n\t\t\t!(shift.x && shift.y || newCorner.x === CENTER && shift.y || newCorner.y === CENTER && shift.x)\n\t\t);\n\n\t\t// Adjust position to accomodate tip dimensions\n\t\tpos.left -= offset.left.charAt ? offset.user :\n\t\t\thorizontal !== SHIFT || shift.top || !shift.left && !shift.top ? offset.left + this.border : 0;\n\t\tpos.top -= offset.top.charAt ? offset.user :\n\t\t\tvertical !== SHIFT || shift.left || !shift.left && !shift.top ? offset.top + this.border : 0;\n\n\t\t// Cache details\n\t\tcache.cornerLeft = adjust.left; cache.cornerTop = adjust.top;\n\t\tcache.corner = newCorner.clone();\n\t},\n\n\tdestroy: function() {\n\t\t// Unbind events\n\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\n\n\t\t// Remove the tip element(s)\n\t\tif(this.qtip.elements.tip) {\n\t\t\tthis.qtip.elements.tip.find('*')\n\t\t\t\t.remove().end().remove();\n\t\t}\n\t}\n});\n\nTIP = PLUGINS.tip = function(api) {\n\treturn new Tip(api, api.options.style.tip);\n};\n\n// Initialize tip on render\nTIP.initialize = 'render';\n\n// Setup plugin sanitization options\nTIP.sanitize = function(options) {\n\tif(options.style && 'tip' in options.style) {\n\t\tvar opts = options.style.tip;\n\t\tif(typeof opts !== 'object') { opts = options.style.tip = { corner: opts }; }\n\t\tif(!(/string|boolean/i).test(typeof opts.corner)) { opts.corner = TRUE; }\n\t}\n};\n\n// Add new option checks for the plugin\nCHECKS.tip = {\n\t'^position.my|style.tip.(corner|mimic|border)$': function() {\n\t\t// Make sure a tip can be drawn\n\t\tthis.create();\n\n\t\t// Reposition the tooltip\n\t\tthis.qtip.reposition();\n\t},\n\t'^style.tip.(height|width)$': function(obj) {\n\t\t// Re-set dimensions and redraw the tip\n\t\tthis.size = [ obj.width, obj.height ];\n\t\tthis.update();\n\n\t\t// Reposition the tooltip\n\t\tthis.qtip.reposition();\n\t},\n\t'^content.title|style.(classes|widget)$': function() {\n\t\tthis.update();\n\t}\n};\n\n// Extend original qTip defaults\n$.extend(TRUE, QTIP.defaults, {\n\tstyle: {\n\t\ttip: {\n\t\t\tcorner: TRUE,\n\t\t\tmimic: FALSE,\n\t\t\twidth: 6,\n\t\t\theight: 6,\n\t\t\tborder: TRUE,\n\t\t\toffset: 0\n\t\t}\n\t}\n});\n;var MODAL, OVERLAY,\n\tMODALCLASS = 'qtip-modal',\n\tMODALSELECTOR = '.'+MODALCLASS;\n\nOVERLAY = function()\n{\n\tvar self = this,\n\t\tfocusableElems = {},\n\t\tcurrent,\n\t\tprevState,\n\t\telem;\n\n\t// Modified code from jQuery UI 1.10.0 source\n\t// http://code.jquery.com/ui/1.10.0/jquery-ui.js\n\tfunction focusable(element) {\n\t\t// Use the defined focusable checker when possible\n\t\tif($.expr[':'].focusable) { return $.expr[':'].focusable; }\n\n\t\tvar isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex')),\n\t\t\tnodeName = element.nodeName && element.nodeName.toLowerCase(),\n\t\t\tmap, mapName, img;\n\n\t\tif('area' === nodeName) {\n\t\t\tmap = element.parentNode;\n\t\t\tmapName = map.name;\n\t\t\tif(!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\timg = $('img[usemap=#' + mapName + ']')[0];\n\t\t\treturn !!img && img.is(':visible');\n\t\t}\n\n\t\treturn /input|select|textarea|button|object/.test( nodeName ) ?\n\t\t\t!element.disabled :\n\t\t\t'a' === nodeName ?\n\t\t\t\telement.href || isTabIndexNotNaN :\n\t\t\t\tisTabIndexNotNaN\n\t\t;\n\t}\n\n\t// Focus inputs using cached focusable elements (see update())\n\tfunction focusInputs(blurElems) {\n\t\t// Blurring body element in IE causes window.open windows to unfocus!\n\t\tif(focusableElems.length < 1 && blurElems.length) { blurElems.not('body').blur(); }\n\n\t\t// Focus the inputs\n\t\telse { focusableElems.first().focus(); }\n\t}\n\n\t// Steal focus from elements outside tooltip\n\tfunction stealFocus(event) {\n\t\tif(!elem.is(':visible')) { return; }\n\n\t\tvar target = $(event.target),\n\t\t\ttooltip = current.tooltip,\n\t\t\tcontainer = target.closest(SELECTOR),\n\t\t\ttargetOnTop;\n\n\t\t// Determine if input container target is above this\n\t\ttargetOnTop = container.length < 1 ? FALSE :\n\t\t\tparseInt(container[0].style.zIndex, 10) > parseInt(tooltip[0].style.zIndex, 10);\n\n\t\t// If we're showing a modal, but focus has landed on an input below\n\t\t// this modal, divert focus to the first visible input in this modal\n\t\t// or if we can't find one... the tooltip itself\n\t\tif(!targetOnTop && target.closest(SELECTOR)[0] !== tooltip[0]) {\n\t\t\tfocusInputs(target);\n\t\t}\n\t}\n\n\t$.extend(self, {\n\t\tinit: function() {\n\t\t\t// Create document overlay\n\t\t\telem = self.elem = $('<div />', {\n\t\t\t\tid: 'qtip-overlay',\n\t\t\t\thtml: '<div></div>',\n\t\t\t\tmousedown: function() { return FALSE; }\n\t\t\t})\n\t\t\t.hide();\n\n\t\t\t// Make sure we can't focus anything outside the tooltip\n\t\t\t$(document.body).bind('focusin'+MODALSELECTOR, stealFocus);\n\n\t\t\t// Apply keyboard \"Escape key\" close handler\n\t\t\t$(document).bind('keydown'+MODALSELECTOR, function(event) {\n\t\t\t\tif(current && current.options.show.modal.escape && event.keyCode === 27) {\n\t\t\t\t\tcurrent.hide(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Apply click handler for blur option\n\t\t\telem.bind('click'+MODALSELECTOR, function(event) {\n\t\t\t\tif(current && current.options.show.modal.blur) {\n\t\t\t\t\tcurrent.hide(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn self;\n\t\t},\n\n\t\tupdate: function(api) {\n\t\t\t// Update current API reference\n\t\t\tcurrent = api;\n\n\t\t\t// Update focusable elements if enabled\n\t\t\tif(api.options.show.modal.stealfocus !== FALSE) {\n\t\t\t\tfocusableElems = api.tooltip.find('*').filter(function() {\n\t\t\t\t\treturn focusable(this);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse { focusableElems = []; }\n\t\t},\n\n\t\ttoggle: function(api, state, duration) {\n\t\t\tvar tooltip = api.tooltip,\n\t\t\t\toptions = api.options.show.modal,\n\t\t\t\teffect = options.effect,\n\t\t\t\ttype = state ? 'show': 'hide',\n\t\t\t\tvisible = elem.is(':visible'),\n\t\t\t\tvisibleModals = $(MODALSELECTOR).filter(':visible:not(:animated)').not(tooltip);\n\n\t\t\t// Set active tooltip API reference\n\t\t\tself.update(api);\n\n\t\t\t// If the modal can steal the focus...\n\t\t\t// Blur the current item and focus anything in the modal we an\n\t\t\tif(state && options.stealfocus !== FALSE) {\n\t\t\t\tfocusInputs( $(':focus') );\n\t\t\t}\n\n\t\t\t// Toggle backdrop cursor style on show\n\t\t\telem.toggleClass('blurs', options.blur);\n\n\t\t\t// Append to body on show\n\t\t\tif(state) {\n\t\t\t\telem.appendTo(document.body);\n\t\t\t}\n\n\t\t\t// Prevent modal from conflicting with show.solo, and don't hide backdrop is other modals are visible\n\t\t\tif(elem.is(':animated') && visible === state && prevState !== FALSE || !state && visibleModals.length) {\n\t\t\t\treturn self;\n\t\t\t}\n\n\t\t\t// Stop all animations\n\t\t\telem.stop(TRUE, FALSE);\n\n\t\t\t// Use custom function if provided\n\t\t\tif($.isFunction(effect)) {\n\t\t\t\teffect.call(elem, state);\n\t\t\t}\n\n\t\t\t// If no effect type is supplied, use a simple toggle\n\t\t\telse if(effect === FALSE) {\n\t\t\t\telem[ type ]();\n\t\t\t}\n\n\t\t\t// Use basic fade function\n\t\t\telse {\n\t\t\t\telem.fadeTo( parseInt(duration, 10) || 90, state ? 1 : 0, function() {\n\t\t\t\t\tif(!state) { elem.hide(); }\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Reset position and detach from body on hide\n\t\t\tif(!state) {\n\t\t\t\telem.queue(function(next) {\n\t\t\t\t\telem.css({ left: '', top: '' });\n\t\t\t\t\tif(!$(MODALSELECTOR).length) { elem.detach(); }\n\t\t\t\t\tnext();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Cache the state\n\t\t\tprevState = state;\n\n\t\t\t// If the tooltip is destroyed, set reference to null\n\t\t\tif(current.destroyed) { current = NULL; }\n\n\t\t\treturn self;\n\t\t}\n\t});\n\n\tself.init();\n};\nOVERLAY = new OVERLAY();\n\nfunction Modal(api, options) {\n\tthis.options = options;\n\tthis._ns = '-modal';\n\n\tthis.qtip = api;\n\tthis.init(api);\n}\n\n$.extend(Modal.prototype, {\n\tinit: function(qtip) {\n\t\tvar tooltip = qtip.tooltip;\n\n\t\t// If modal is disabled... return\n\t\tif(!this.options.on) { return this; }\n\n\t\t// Set overlay reference\n\t\tqtip.elements.overlay = OVERLAY.elem;\n\n\t\t// Add unique attribute so we can grab modal tooltips easily via a SELECTOR, and set z-index\n\t\ttooltip.addClass(MODALCLASS).css('z-index', QTIP.modal_zindex + $(MODALSELECTOR).length);\n\n\t\t// Apply our show/hide/focus modal events\n\t\tqtip._bind(tooltip, ['tooltipshow', 'tooltiphide'], function(event, api, duration) {\n\t\t\tvar oEvent = event.originalEvent;\n\n\t\t\t// Make sure mouseout doesn't trigger a hide when showing the modal and mousing onto backdrop\n\t\t\tif(event.target === tooltip[0]) {\n\t\t\t\tif(oEvent && event.type === 'tooltiphide' && /mouse(leave|enter)/.test(oEvent.type) && $(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length) {\n\t\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\t\ttry { event.preventDefault(); }\n\t\t\t\t\tcatch(e) {}\n\t\t\t\t\t/* eslint-enable no-empty */\n\t\t\t\t}\n\t\t\t\telse if(!oEvent || oEvent && oEvent.type !== 'tooltipsolo') {\n\t\t\t\t\tthis.toggle(event, event.type === 'tooltipshow', duration);\n\t\t\t\t}\n\t\t\t}\n\t\t}, this._ns, this);\n\n\t\t// Adjust modal z-index on tooltip focus\n\t\tqtip._bind(tooltip, 'tooltipfocus', function(event, api) {\n\t\t\t// If focus was cancelled before it reached us, don't do anything\n\t\t\tif(event.isDefaultPrevented() || event.target !== tooltip[0]) { return; }\n\n\t\t\tvar qtips = $(MODALSELECTOR),\n\n\t\t\t// Keep the modal's lower than other, regular qtips\n\t\t\tnewIndex = QTIP.modal_zindex + qtips.length,\n\t\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10);\n\n\t\t\t// Set overlay z-index\n\t\t\tOVERLAY.elem[0].style.zIndex = newIndex - 1;\n\n\t\t\t// Reduce modal z-index's and keep them properly ordered\n\t\t\tqtips.each(function() {\n\t\t\t\tif(this.style.zIndex > curIndex) {\n\t\t\t\t\tthis.style.zIndex -= 1;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Fire blur event for focused tooltip\n\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event.originalEvent);\n\n\t\t\t// Set the new z-index\n\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n\n\t\t\t// Set current\n\t\t\tOVERLAY.update(api);\n\n\t\t\t// Prevent default handling\n\t\t\t/* eslint-disable no-empty */\n\t\t\ttry { event.preventDefault(); }\n\t\t\tcatch(e) {}\n\t\t\t/* eslint-enable no-empty */\n\t\t}, this._ns, this);\n\n\t\t// Focus any other visible modals when this one hides\n\t\tqtip._bind(tooltip, 'tooltiphide', function(event) {\n\t\t\tif(event.target === tooltip[0]) {\n\t\t\t\t$(MODALSELECTOR).filter(':visible').not(tooltip).last().qtip('focus', event);\n\t\t\t}\n\t\t}, this._ns, this);\n\t},\n\n\ttoggle: function(event, state, duration) {\n\t\t// Make sure default event hasn't been prevented\n\t\tif(event && event.isDefaultPrevented()) { return this; }\n\n\t\t// Toggle it\n\t\tOVERLAY.toggle(this.qtip, !!state, duration);\n\t},\n\n\tdestroy: function() {\n\t\t// Remove modal class\n\t\tthis.qtip.tooltip.removeClass(MODALCLASS);\n\n\t\t// Remove bound events\n\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\n\n\t\t// Delete element reference\n\t\tOVERLAY.toggle(this.qtip, FALSE);\n\t\tdelete this.qtip.elements.overlay;\n\t}\n});\n\n\nMODAL = PLUGINS.modal = function(api) {\n\treturn new Modal(api, api.options.show.modal);\n};\n\n// Setup sanitiztion rules\nMODAL.sanitize = function(opts) {\n\tif(opts.show) {\n\t\tif(typeof opts.show.modal !== 'object') { opts.show.modal = { on: !!opts.show.modal }; }\n\t\telse if(typeof opts.show.modal.on === 'undefined') { opts.show.modal.on = TRUE; }\n\t}\n};\n\n// Base z-index for all modal tooltips (use qTip core z-index as a base)\n/* eslint-disable camelcase */\nQTIP.modal_zindex = QTIP.zindex - 200;\n/* eslint-enable camelcase */\n\n// Plugin needs to be initialized on render\nMODAL.initialize = 'render';\n\n// Setup option set checks\nCHECKS.modal = {\n\t'^show.modal.(on|blur)$': function() {\n\t\t// Initialise\n\t\tthis.destroy();\n\t\tthis.init();\n\n\t\t// Show the modal if not visible already and tooltip is visible\n\t\tthis.qtip.elems.overlay.toggle(\n\t\t\tthis.qtip.tooltip[0].offsetWidth > 0\n\t\t);\n\t}\n};\n\n// Extend original api defaults\n$.extend(TRUE, QTIP.defaults, {\n\tshow: {\n\t\tmodal: {\n\t\t\ton: FALSE,\n\t\t\teffect: TRUE,\n\t\t\tblur: TRUE,\n\t\t\tstealfocus: TRUE,\n\t\t\tescape: TRUE\n\t\t}\n\t}\n});\n;PLUGINS.viewport = function(api, position, posOptions, targetWidth, targetHeight, elemWidth, elemHeight)\n{\n\tvar target = posOptions.target,\n\t\ttooltip = api.elements.tooltip,\n\t\tmy = posOptions.my,\n\t\tat = posOptions.at,\n\t\tadjust = posOptions.adjust,\n\t\tmethod = adjust.method.split(' '),\n\t\tmethodX = method[0],\n\t\tmethodY = method[1] || method[0],\n\t\tviewport = posOptions.viewport,\n\t\tcontainer = posOptions.container,\n\t\tadjusted = { left: 0, top: 0 },\n\t\tfixed, newMy, containerOffset, containerStatic,\n\t\tviewportWidth, viewportHeight, viewportScroll, viewportOffset;\n\n\t// If viewport is not a jQuery element, or it's the window/document, or no adjustment method is used... return\n\tif(!viewport.jquery || target[0] === window || target[0] === document.body || adjust.method === 'none') {\n\t\treturn adjusted;\n\t}\n\n\t// Cach container details\n\tcontainerOffset = container.offset() || adjusted;\n\tcontainerStatic = container.css('position') === 'static';\n\n\t// Cache our viewport details\n\tfixed = tooltip.css('position') === 'fixed';\n\tviewportWidth = viewport[0] === window ? viewport.width() : viewport.outerWidth(FALSE);\n\tviewportHeight = viewport[0] === window ? viewport.height() : viewport.outerHeight(FALSE);\n\tviewportScroll = { left: fixed ? 0 : viewport.scrollLeft(), top: fixed ? 0 : viewport.scrollTop() };\n\tviewportOffset = viewport.offset() || adjusted;\n\n\t// Generic calculation method\n\tfunction calculate(side, otherSide, type, adjustment, side1, side2, lengthName, targetLength, elemLength) {\n\t\tvar initialPos = position[side1],\n\t\t\tmySide = my[side],\n\t\t\tatSide = at[side],\n\t\t\tisShift = type === SHIFT,\n\t\t\tmyLength = mySide === side1 ? elemLength : mySide === side2 ? -elemLength : -elemLength / 2,\n\t\t\tatLength = atSide === side1 ? targetLength : atSide === side2 ? -targetLength : -targetLength / 2,\n\t\t\tsideOffset = viewportScroll[side1] + viewportOffset[side1] - (containerStatic ? 0 : containerOffset[side1]),\n\t\t\toverflow1 = sideOffset - initialPos,\n\t\t\toverflow2 = initialPos + elemLength - (lengthName === WIDTH ? viewportWidth : viewportHeight) - sideOffset,\n\t\t\toffset = myLength - (my.precedance === side || mySide === my[otherSide] ? atLength : 0) - (atSide === CENTER ? targetLength / 2 : 0);\n\n\t\t// shift\n\t\tif(isShift) {\n\t\t\toffset = (mySide === side1 ? 1 : -1) * myLength;\n\n\t\t\t// Adjust position but keep it within viewport dimensions\n\t\t\tposition[side1] += overflow1 > 0 ? overflow1 : overflow2 > 0 ? -overflow2 : 0;\n\t\t\tposition[side1] = Math.max(\n\t\t\t\t-containerOffset[side1] + viewportOffset[side1],\n\t\t\t\tinitialPos - offset,\n\t\t\t\tMath.min(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t-containerOffset[side1] + viewportOffset[side1] + (lengthName === WIDTH ? viewportWidth : viewportHeight),\n\t\t\t\t\t\tinitialPos + offset\n\t\t\t\t\t),\n\t\t\t\t\tposition[side1],\n\n\t\t\t\t\t// Make sure we don't adjust complete off the element when using 'center'\n\t\t\t\t\tmySide === 'center' ? initialPos - myLength : 1E9\n\t\t\t\t)\n\t\t\t);\n\n\t\t}\n\n\t\t// flip/flipinvert\n\t\telse {\n\t\t\t// Update adjustment amount depending on if using flipinvert or flip\n\t\t\tadjustment *= type === FLIPINVERT ? 2 : 0;\n\n\t\t\t// Check for overflow on the left/top\n\t\t\tif(overflow1 > 0 && (mySide !== side1 || overflow2 > 0)) {\n\t\t\t\tposition[side1] -= offset + adjustment;\n\t\t\t\tnewMy.invert(side, side1);\n\t\t\t}\n\n\t\t\t// Check for overflow on the bottom/right\n\t\t\telse if(overflow2 > 0 && (mySide !== side2 || overflow1 > 0)  ) {\n\t\t\t\tposition[side1] -= (mySide === CENTER ? -offset : offset) + adjustment;\n\t\t\t\tnewMy.invert(side, side2);\n\t\t\t}\n\n\t\t\t// Make sure we haven't made things worse with the adjustment and reset if so\n\t\t\tif(position[side1] < viewportScroll[side1] && -position[side1] > overflow2) {\n\t\t\t\tposition[side1] = initialPos; newMy = my.clone();\n\t\t\t}\n\t\t}\n\n\t\treturn position[side1] - initialPos;\n\t}\n\n\t// Set newMy if using flip or flipinvert methods\n\tif(methodX !== 'shift' || methodY !== 'shift') { newMy = my.clone(); }\n\n\t// Adjust position based onviewport and adjustment options\n\tadjusted = {\n\t\tleft: methodX !== 'none' ? calculate( X, Y, methodX, adjust.x, LEFT, RIGHT, WIDTH, targetWidth, elemWidth ) : 0,\n\t\ttop: methodY !== 'none' ? calculate( Y, X, methodY, adjust.y, TOP, BOTTOM, HEIGHT, targetHeight, elemHeight ) : 0,\n\t\tmy: newMy\n\t};\n\n\treturn adjusted;\n};\n;PLUGINS.polys = {\n\t// POLY area coordinate calculator\n\t//\tSpecial thanks to Ed Cradock for helping out with this.\n\t//\tUses a binary search algorithm to find suitable coordinates.\n\tpolygon: function(baseCoords, corner) {\n\t\tvar result = {\n\t\t\twidth: 0, height: 0,\n\t\t\tposition: {\n\t\t\t\ttop: 1e10, right: 0,\n\t\t\t\tbottom: 0, left: 1e10\n\t\t\t},\n\t\t\tadjustable: FALSE\n\t\t},\n\t\ti = 0, next,\n\t\tcoords = [],\n\t\tcompareX = 1, compareY = 1,\n\t\trealX = 0, realY = 0,\n\t\tnewWidth, newHeight;\n\n\t\t// First pass, sanitize coords and determine outer edges\n\t\ti = baseCoords.length; \n\t\twhile(i--) {\n\t\t\tnext = [ parseInt(baseCoords[--i], 10), parseInt(baseCoords[i+1], 10) ];\n\n\t\t\tif(next[0] > result.position.right){ result.position.right = next[0]; }\n\t\t\tif(next[0] < result.position.left){ result.position.left = next[0]; }\n\t\t\tif(next[1] > result.position.bottom){ result.position.bottom = next[1]; }\n\t\t\tif(next[1] < result.position.top){ result.position.top = next[1]; }\n\n\t\t\tcoords.push(next);\n\t\t}\n\n\t\t// Calculate height and width from outer edges\n\t\tnewWidth = result.width = Math.abs(result.position.right - result.position.left);\n\t\tnewHeight = result.height = Math.abs(result.position.bottom - result.position.top);\n\n\t\t// If it's the center corner...\n\t\tif(corner.abbrev() === 'c') {\n\t\t\tresult.position = {\n\t\t\t\tleft: result.position.left + result.width / 2,\n\t\t\t\ttop: result.position.top + result.height / 2\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\t// Second pass, use a binary search algorithm to locate most suitable coordinate\n\t\t\twhile(newWidth > 0 && newHeight > 0 && compareX > 0 && compareY > 0)\n\t\t\t{\n\t\t\t\tnewWidth = Math.floor(newWidth / 2);\n\t\t\t\tnewHeight = Math.floor(newHeight / 2);\n\n\t\t\t\tif(corner.x === LEFT){ compareX = newWidth; }\n\t\t\t\telse if(corner.x === RIGHT){ compareX = result.width - newWidth; }\n\t\t\t\telse{ compareX += Math.floor(newWidth / 2); }\n\n\t\t\t\tif(corner.y === TOP){ compareY = newHeight; }\n\t\t\t\telse if(corner.y === BOTTOM){ compareY = result.height - newHeight; }\n\t\t\t\telse{ compareY += Math.floor(newHeight / 2); }\n\n\t\t\t\ti = coords.length;\n\t\t\t\twhile(i--)\n\t\t\t\t{\n\t\t\t\t\tif(coords.length < 2){ break; }\n\n\t\t\t\t\trealX = coords[i][0] - result.position.left;\n\t\t\t\t\trealY = coords[i][1] - result.position.top;\n\n\t\t\t\t\tif(\n\t\t\t\t\t\tcorner.x === LEFT && realX >= compareX ||\n\t\t\t\t\t\tcorner.x === RIGHT && realX <= compareX ||\n\t\t\t\t\t\tcorner.x === CENTER && (realX < compareX || realX > result.width - compareX) ||\n\t\t\t\t\t\tcorner.y === TOP && realY >= compareY ||\n\t\t\t\t\t\tcorner.y === BOTTOM && realY <= compareY ||\n\t\t\t\t\t\tcorner.y === CENTER && (realY < compareY || realY > result.height - compareY)) {\n\t\t\t\t\t\tcoords.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tresult.position = { left: coords[0][0], top: coords[0][1] };\n\t\t}\n\n\t\treturn result;\n\t},\n\n\trect: function(ax, ay, bx, by) {\n\t\treturn {\n\t\t\twidth: Math.abs(bx - ax),\n\t\t\theight: Math.abs(by - ay),\n\t\t\tposition: {\n\t\t\t\tleft: Math.min(ax, bx),\n\t\t\t\ttop: Math.min(ay, by)\n\t\t\t}\n\t\t};\n\t},\n\n\t_angles: {\n\t\ttc: 3 / 2, tr: 7 / 4, tl: 5 / 4,\n\t\tbc: 1 / 2, br: 1 / 4, bl: 3 / 4,\n\t\trc: 2, lc: 1, c: 0\n\t},\n\tellipse: function(cx, cy, rx, ry, corner) {\n\t\tvar c = PLUGINS.polys._angles[ corner.abbrev() ],\n\t\t\trxc = c === 0 ? 0 : rx * Math.cos( c * Math.PI ),\n\t\t\trys = ry * Math.sin( c * Math.PI );\n\n\t\treturn {\n\t\t\twidth: rx * 2 - Math.abs(rxc),\n\t\t\theight: ry * 2 - Math.abs(rys),\n\t\t\tposition: {\n\t\t\t\tleft: cx + rxc,\n\t\t\t\ttop: cy + rys\n\t\t\t},\n\t\t\tadjustable: FALSE\n\t\t};\n\t},\n\tcircle: function(cx, cy, r, corner) {\n\t\treturn PLUGINS.polys.ellipse(cx, cy, r, r, corner);\n\t}\n};\n;PLUGINS.svg = function(api, svg, corner)\n{\n\tvar elem = svg[0],\n\t\troot = $(elem.ownerSVGElement),\n\t\townerDocument = elem.ownerDocument,\n\t\tstrokeWidth2 = (parseInt(svg.css('stroke-width'), 10) || 0) / 2,\n\t\tframeOffset, mtx, transformed,\n\t\tlen, next, i, points,\n\t\tresult, position;\n\n\t// Ascend the parentNode chain until we find an element with getBBox()\n\twhile(!elem.getBBox) { elem = elem.parentNode; }\n\tif(!elem.getBBox || !elem.parentNode) { return FALSE; }\n\n\t// Determine which shape calculation to use\n\tswitch(elem.nodeName) {\n\t\tcase 'ellipse':\n\t\tcase 'circle':\n\t\t\tresult = PLUGINS.polys.ellipse(\n\t\t\t\telem.cx.baseVal.value,\n\t\t\t\telem.cy.baseVal.value,\n\t\t\t\t(elem.rx || elem.r).baseVal.value + strokeWidth2,\n\t\t\t\t(elem.ry || elem.r).baseVal.value + strokeWidth2,\n\t\t\t\tcorner\n\t\t\t);\n\t\tbreak;\n\n\t\tcase 'line':\n\t\tcase 'polygon':\n\t\tcase 'polyline':\n\t\t\t// Determine points object (line has none, so mimic using array)\n\t\t\tpoints = elem.points || [\n\t\t\t\t{ x: elem.x1.baseVal.value, y: elem.y1.baseVal.value },\n\t\t\t\t{ x: elem.x2.baseVal.value, y: elem.y2.baseVal.value }\n\t\t\t];\n\n\t\t\tfor(result = [], i = -1, len = points.numberOfItems || points.length; ++i < len;) {\n\t\t\t\tnext = points.getItem ? points.getItem(i) : points[i];\n\t\t\t\tresult.push.apply(result, [next.x, next.y]);\n\t\t\t}\n\n\t\t\tresult = PLUGINS.polys.polygon(result, corner);\n\t\tbreak;\n\n\t\t// Unknown shape or rectangle? Use bounding box\n\t\tdefault:\n\t\t\tresult = elem.getBBox();\n\t\t\tresult = {\n\t\t\t\twidth: result.width,\n\t\t\t\theight: result.height,\n\t\t\t\tposition: {\n\t\t\t\t\tleft: result.x,\n\t\t\t\t\ttop: result.y\n\t\t\t\t}\n\t\t\t};\n\t\tbreak;\n\t}\n\n\t// Shortcut assignments\n\tposition = result.position;\n\troot = root[0];\n\n\t// Convert position into a pixel value\n\tif(root.createSVGPoint) {\n\t\tmtx = elem.getScreenCTM();\n\t\tpoints = root.createSVGPoint();\n\n\t\tpoints.x = position.left;\n\t\tpoints.y = position.top;\n\t\ttransformed = points.matrixTransform( mtx );\n\t\tposition.left = transformed.x;\n\t\tposition.top = transformed.y;\n\t}\n\n\t// Check the element is not in a child document, and if so, adjust for frame elements offset\n\tif(ownerDocument !== document && api.position.target !== 'mouse') {\n\t\tframeOffset = $((ownerDocument.defaultView || ownerDocument.parentWindow).frameElement).offset();\n\t\tif(frameOffset) {\n\t\t\tposition.left += frameOffset.left;\n\t\t\tposition.top += frameOffset.top;\n\t\t}\n\t}\n\n\t// Adjust by scroll offset of owner document\n\townerDocument = $(ownerDocument);\n\tposition.left += ownerDocument.scrollLeft();\n\tposition.top += ownerDocument.scrollTop();\n\n\treturn result;\n};\n;PLUGINS.imagemap = function(api, area, corner)\n{\n\tif(!area.jquery) { area = $(area); }\n\n\tvar shape = (area.attr('shape') || 'rect').toLowerCase().replace('poly', 'polygon'),\n\t\timage = $('img[usemap=\"#'+area.parent('map').attr('name')+'\"]'),\n\t\tcoordsString = $.trim(area.attr('coords')),\n\t\tcoordsArray = coordsString.replace(/,$/, '').split(','),\n\t\timageOffset, coords, i, result, len;\n\n\t// If we can't find the image using the map...\n\tif(!image.length) { return FALSE; }\n\n\t// Pass coordinates string if polygon\n\tif(shape === 'polygon') {\n\t\tresult = PLUGINS.polys.polygon(coordsArray, corner);\n\t}\n\n\t// Otherwise parse the coordinates and pass them as arguments\n\telse if(PLUGINS.polys[shape]) {\n\t\tfor(i = -1, len = coordsArray.length, coords = []; ++i < len;) {\n\t\t\tcoords.push( parseInt(coordsArray[i], 10) );\n\t\t}\n\n\t\tresult = PLUGINS.polys[shape].apply(\n\t\t\tthis, coords.concat(corner)\n\t\t);\n\t}\n\n\t// If no shapre calculation method was found, return false\n\telse { return FALSE; }\n\n\t// Make sure we account for padding and borders on the image\n\timageOffset = image.offset();\n\timageOffset.left += Math.ceil((image.outerWidth(FALSE) - image.width()) / 2);\n\timageOffset.top += Math.ceil((image.outerHeight(FALSE) - image.height()) / 2);\n\n\t// Add image position to offset coordinates\n\tresult.position.left += imageOffset.left;\n\tresult.position.top += imageOffset.top;\n\n\treturn result;\n};\n;var IE6,\n\n/*\n * BGIFrame adaption (http://plugins.jquery.com/project/bgiframe)\n * Special thanks to Brandon Aaron\n */\nBGIFRAME = '<iframe class=\"qtip-bgiframe\" frameborder=\"0\" tabindex=\"-1\" src=\"javascript:\\'\\';\" ' +\n\t' style=\"display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); ' +\n\t\t'-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\"></iframe>';\n\nfunction Ie6(api) {\n\tthis._ns = 'ie6';\n\n\tthis.qtip = api;\n\tthis.init(api);\n}\n\n$.extend(Ie6.prototype, {\n\t_scroll : function() {\n\t\tvar overlay = this.qtip.elements.overlay;\n\t\toverlay && (overlay[0].style.top = $(window).scrollTop() + 'px');\n\t},\n\n\tinit: function(qtip) {\n\t\tvar tooltip = qtip.tooltip;\n\n\t\t// Create the BGIFrame element if needed\n\t\tif($('select, object').length < 1) {\n\t\t\tthis.bgiframe = qtip.elements.bgiframe = $(BGIFRAME).appendTo(tooltip);\n\n\t\t\t// Update BGIFrame on tooltip move\n\t\t\tqtip._bind(tooltip, 'tooltipmove', this.adjustBGIFrame, this._ns, this);\n\t\t}\n\n\t\t// redraw() container for width/height calculations\n\t\tthis.redrawContainer = $('<div/>', { id: NAMESPACE+'-rcontainer' })\n\t\t\t.appendTo(document.body);\n\n\t\t// Fixup modal plugin if present too\n\t\tif( qtip.elements.overlay && qtip.elements.overlay.addClass('qtipmodal-ie6fix') ) {\n\t\t\tqtip._bind(window, ['scroll', 'resize'], this._scroll, this._ns, this);\n\t\t\tqtip._bind(tooltip, ['tooltipshow'], this._scroll, this._ns, this);\n\t\t}\n\n\t\t// Set dimensions\n\t\tthis.redraw();\n\t},\n\n\tadjustBGIFrame: function() {\n\t\tvar tooltip = this.qtip.tooltip,\n\t\t\tdimensions = {\n\t\t\t\theight: tooltip.outerHeight(FALSE),\n\t\t\t\twidth: tooltip.outerWidth(FALSE)\n\t\t\t},\n\t\t\tplugin = this.qtip.plugins.tip,\n\t\t\ttip = this.qtip.elements.tip,\n\t\t\ttipAdjust, offset;\n\n\t\t// Adjust border offset\n\t\toffset = parseInt(tooltip.css('borderLeftWidth'), 10) || 0;\n\t\toffset = { left: -offset, top: -offset };\n\n\t\t// Adjust for tips plugin\n\t\tif(plugin && tip) {\n\t\t\ttipAdjust = plugin.corner.precedance === 'x' ? [WIDTH, LEFT] : [HEIGHT, TOP];\n\t\t\toffset[ tipAdjust[1] ] -= tip[ tipAdjust[0] ]();\n\t\t}\n\n\t\t// Update bgiframe\n\t\tthis.bgiframe.css(offset).css(dimensions);\n\t},\n\n\t// Max/min width simulator function\n\tredraw: function() {\n\t\tif(this.qtip.rendered < 1 || this.drawing) { return this; }\n\n\t\tvar tooltip = this.qtip.tooltip,\n\t\t\tstyle = this.qtip.options.style,\n\t\t\tcontainer = this.qtip.options.position.container,\n\t\t\tperc, width, max, min;\n\n\t\t// Set drawing flag\n\t\tthis.qtip.drawing = 1;\n\n\t\t// If tooltip has a set height/width, just set it... like a boss!\n\t\tif(style.height) { tooltip.css(HEIGHT, style.height); }\n\t\tif(style.width) { tooltip.css(WIDTH, style.width); }\n\n\t\t// Simulate max/min width if not set width present...\n\t\telse {\n\t\t\t// Reset width and add fluid class\n\t\t\ttooltip.css(WIDTH, '').appendTo(this.redrawContainer);\n\n\t\t\t// Grab our tooltip width (add 1 if odd so we don't get wrapping problems.. huzzah!)\n\t\t\twidth = tooltip.width();\n\t\t\tif(width % 2 < 1) { width += 1; }\n\n\t\t\t// Grab our max/min properties\n\t\t\tmax = tooltip.css('maxWidth') || '';\n\t\t\tmin = tooltip.css('minWidth') || '';\n\n\t\t\t// Parse into proper pixel values\n\t\t\tperc = (max + min).indexOf('%') > -1 ? container.width() / 100 : 0;\n\t\t\tmax = (max.indexOf('%') > -1 ? perc : 1 * parseInt(max, 10)) || width;\n\t\t\tmin = (min.indexOf('%') > -1 ? perc : 1 * parseInt(min, 10)) || 0;\n\n\t\t\t// Determine new dimension size based on max/min/current values\n\t\t\twidth = max + min ? Math.min(Math.max(width, min), max) : width;\n\n\t\t\t// Set the newly calculated width and remvoe fluid class\n\t\t\ttooltip.css(WIDTH, Math.round(width)).appendTo(container);\n\t\t}\n\n\t\t// Set drawing flag\n\t\tthis.drawing = 0;\n\n\t\treturn this;\n\t},\n\n\tdestroy: function() {\n\t\t// Remove iframe\n\t\tthis.bgiframe && this.bgiframe.remove();\n\n\t\t// Remove bound events\n\t\tthis.qtip._unbind([window, this.qtip.tooltip], this._ns);\n\t}\n});\n\nIE6 = PLUGINS.ie6 = function(api) {\n\t// Proceed only if the browser is IE6\n\treturn BROWSER.ie === 6 ? new Ie6(api) : FALSE;\n};\n\nIE6.initialize = 'render';\n\nCHECKS.ie6 = {\n\t'^content|style$': function() {\n\t\tthis.redraw();\n\t}\n};\n;}));\n}( window, document ));\n"]},"metadata":{},"sourceType":"script"}