{"ast":null,"code":"import Home from'./pages/protected/Home';import ImageMarking from'./pages/protected/survey/ImageMarking';import ImageRanking from'./pages/protected/survey/ImageRanking';import ImageQuestionaire from'./pages/protected/survey/ImageQuestionaire';import Feedback from'./pages/protected/survey/Feedback';import Submit from'./pages/protected/survey/Submit';import Login from'./pages/auth/Login';import'./css/App.css';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import ProtectedRoutes from'./utils/ProtectedRoutes';import{useEffect}from'react';import{auth}from'./configs/firebaseConfig';import{onAuthStateChanged}from\"firebase/auth\";import{useSelector,useDispatch}from\"react-redux\";import{saveUser}from\"./redux/slice/authSlice\";import ValidateScreenSize from'../src/components/ValidateScreenSize';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var user=useSelector(function(state){return state.auth.value;});var dispatch=useDispatch();useEffect(function(){wakeupServer();onAuthStateChanged(auth,function(user){if(user){dispatch(saveUser(user.uid));}else{dispatch(saveUser(undefined));sessionStorage.removeItem('ageGenderAndEducationData',undefined);sessionStorage.removeItem('pixelData',undefined);sessionStorage.removeItem('rankData',undefined);sessionStorage.removeItem('questionaireData',undefined);sessionStorage.removeItem('feedbackData',undefined);}});},[auth,dispatch]);function wakeupServer(){fetch(\"https://stormy-plains-42247.herokuapp.com/test\");};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(ValidateScreenSize,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?/*#__PURE__*/_jsx(Home,{}):/*#__PURE__*/_jsx(Login,{}),replace:true}),/*#__PURE__*/_jsx(Route,{path:\"/home\",replace:true,element:/*#__PURE__*/_jsx(ProtectedRoutes,{}),children:/*#__PURE__*/_jsx(Route,{path:\"/home\",replace:true,element:/*#__PURE__*/_jsx(Home,{})})}),/*#__PURE__*/_jsxs(Route,{path:\"/survey\",replace:true,element:/*#__PURE__*/_jsx(ProtectedRoutes,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/survey/image-marking\",replace:true,element:/*#__PURE__*/_jsx(ImageMarking,{})}),/*#__PURE__*/_jsx(Route,{path:\"/survey/image-ranking\",replace:true,element:/*#__PURE__*/_jsx(ImageRanking,{})}),/*#__PURE__*/_jsx(Route,{path:\"/survey/image-questionaire\",replace:true,element:/*#__PURE__*/_jsx(ImageQuestionaire,{})}),/*#__PURE__*/_jsx(Route,{path:\"/survey/feedback\",replace:true,element:/*#__PURE__*/_jsx(Feedback,{})}),/*#__PURE__*/_jsx(Route,{path:\"/survey/submit\",replace:true,element:/*#__PURE__*/_jsx(Submit,{})})]})]})]})});}export default App;","map":{"version":3,"sources":["C:/Users/zantas92/Documents/EnkÃ¤t/Client/src/App.js"],"names":["Home","ImageMarking","ImageRanking","ImageQuestionaire","Feedback","Submit","Login","BrowserRouter","Router","Routes","Route","ProtectedRoutes","useEffect","auth","onAuthStateChanged","useSelector","useDispatch","saveUser","ValidateScreenSize","App","user","state","value","dispatch","wakeupServer","uid","undefined","sessionStorage","removeItem","fetch"],"mappings":"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","sourcesContent":["import Home from './pages/protected/Home';\nimport ImageMarking from './pages/protected/survey/ImageMarking';\nimport ImageRanking from './pages/protected/survey/ImageRanking';\nimport ImageQuestionaire from './pages/protected/survey/ImageQuestionaire';\nimport Feedback from './pages/protected/survey/Feedback';\nimport Submit from './pages/protected/survey/Submit';\nimport Login from './pages/auth/Login';\nimport './css/App.css';\nimport {BrowserRouter as Router, Routes, Route } from 'react-router-dom'\nimport ProtectedRoutes from './utils/ProtectedRoutes';\nimport { useEffect } from 'react';\nimport { auth } from './configs/firebaseConfig';\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { saveUser} from \"./redux/slice/authSlice\";\nimport ValidateScreenSize from '../src/components/ValidateScreenSize';\n\nfunction App() {\n  const user = useSelector((state) => state.auth.value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    wakeupServer();\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        dispatch(saveUser(user.uid));\n      } else {\n        dispatch(saveUser(undefined));\n        sessionStorage.removeItem('ageGenderAndEducationData', undefined);\n        sessionStorage.removeItem('pixelData', undefined);\n        sessionStorage.removeItem('rankData', undefined);\n        sessionStorage.removeItem('questionaireData', undefined);\n        sessionStorage.removeItem('feedbackData', undefined);\n      }\n    });\n  }, [auth, dispatch]);\n\n  function wakeupServer() {\n    fetch(\"https://stormy-plains-42247.herokuapp.com/test\"); \n  };\n\n\n  return (\n    <Router>\n    <div className=\"app\">\n    <ValidateScreenSize/>\n      <Routes>         \n        <Route path=\"/\" element={user ? <Home /> : <Login/>} replace/>\n        <Route path=\"/home\" replace element={<ProtectedRoutes/>}>\n        <Route path=\"/home\" replace element={<Home/>}/>\n        </Route>\n        <Route path=\"/survey\" replace element={<ProtectedRoutes/>}>\n        <Route path=\"/survey/image-marking\" replace element={<ImageMarking/>}/>\n        <Route path=\"/survey/image-ranking\" replace element={<ImageRanking/>}/>\n        <Route path=\"/survey/image-questionaire\" replace element={<ImageQuestionaire/>}/>\n        <Route path=\"/survey/feedback\" replace element={<Feedback/>}/>\n        <Route path=\"/survey/submit\" replace element={<Submit/>}/>\n        </Route>\n      </Routes>\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}