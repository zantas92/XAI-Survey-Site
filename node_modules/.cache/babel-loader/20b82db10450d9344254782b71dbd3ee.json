{"ast":null,"code":"import colorspectrum from'../images/raw/large/Spectrum.png';import Create3DArray from'../utils/Create3DArray';import GetImageData from'../utils/GetImageData';import{useNavigate}from'react-router-dom';import $ from'jquery';import{useEffect}from\"react\";import Button from'react-bootstrap/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SurveyPart1=function SurveyPart1(){var index=1;var navigate=useNavigate();var userData=undefined;useEffect(function(){document.getElementById(\"animal\").innerHTML=GetImageData(index-1)[1];if(sessionStorage.getItem('pixelData')==null){userData=Create3DArray(5,7,7);window.sessionStorage.setItem('pixelData',JSON.stringify(userData));}else{userData=JSON.parse(window.sessionStorage.getItem('pixelData'));}createPixelMask();SetImageValues();},[]);function SetImageValues(){var table=document.getElementById('pixel_Table');var row;for(var i=0,row;row=table.rows[i];i++){for(var j=0,col;col=row.cells[j];j++){if(userData[index-1][i][j]!=null){$(col).css(\"opacity\",userData[index-1][i][j]);}else{$(col).css(\"opacity\",\"0.0\");}}}document.getElementById(\"pixel_Table\").style.backgroundImage='url('+GetImageData(index-1)[0]+')';}function createPixelMask(){var table=document.getElementById(\"pixel_Table\");var row;var cell;for(var i=0;i<7;i++){row=table.insertRow(i);for(var j=0;j<7;j++){cell=row.insertCell(j);cell.addEventListener('click',IncreaseOpacity);cell.addEventListener('contextmenu',DecreaseOpacity);}}}function DecreaseOpacity(event){event.preventDefault();var opacity_level=parseFloat($(event.target).css(\"opacity\"));if(opacity_level>\"0.0\"){opacity_level=opacity_level-0.30;$(event.target).css(\"opacity\",opacity_level);}}function IncreaseOpacity(event){var opacity_level=parseFloat($(event.target).css(\"opacity\"));if(opacity_level<\"0.9\"){opacity_level=opacity_level+0.30;$(event.target).css(\"opacity\",opacity_level);}}function NextImage(){saveData();if(index==5){Next();}else{index=index+1;var imageCount=index;document.getElementById(\"headline\").innerHTML=\"Bild \"+imageCount+\" av 5\";document.getElementById(\"animal\").innerHTML=GetImageData(index-1)[1];if(index==5){document.getElementById(\"Next-button-part1\").innerHTML=\"Del 2\";}SetImageValues();}}function PreviousImage(){saveData();if(index==1){navigate('/home');}else{index=index-1;var imageCount=index;document.getElementById(\"headline\").innerHTML=\"Bild \"+imageCount+\" av 5\";document.getElementById(\"animal\").innerHTML=GetImageData(index-1)[1];if(index<5){document.getElementById(\"Next-button-part1\").innerHTML=\"Nästa\";}SetImageValues();}}function saveData(){var table=document.getElementById('pixel_Table');for(var i=0,row;row=table.rows[i];i++){for(var j=0,col;col=row.cells[j];j++){userData[index-1][i][j]=$(col).css(\"opacity\");}}window.sessionStorage.setItem('pixelData',JSON.stringify(userData));}function Next(){document.getElementById(\"SurveyPart1\").style.display=\"none\";document.getElementById(\"SurveyPart2\").style.display=\"inline\";}return/*#__PURE__*/_jsxs(\"div\",{id:\"SurveyPart1\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Del 1\"}),/*#__PURE__*/_jsx(\"h4\",{id:\"headline\",children:\"Bild 1 av 5\"}),/*#__PURE__*/_jsx(\"h4\",{id:\"animal\"}),/*#__PURE__*/_jsx(\"table\",{id:\"pixel_Table\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{id:\"Previous-button-part1\",style:{marginBottom:\"20px\",marginRight:\"20px\",marginLeft:\"20px\",width:\"80px\"},variant:\"outline-secondary\",onClick:PreviousImage,children:\"Tillbaka\"}),/*#__PURE__*/_jsx(Button,{id:\"Next-button-part1\",style:{marginBottom:\"20px\",marginRight:\"20px\",marginLeft:\"20px\",width:\"80px\"},variant:\"outline-secondary\",onClick:NextImage,children:\"N\\xE4sta\"})]}),/*#__PURE__*/_jsxs(\"figure\",{children:[/*#__PURE__*/_jsx(\"img\",{src:colorspectrum,alt:\"Spektrum\"}),/*#__PURE__*/_jsx(\"figcaption\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"H\\xF6gre niv\\xE5 indikerar att rutan \\xE4r viktigare f\\xF6r att kunna identifiera djuret.\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Gradskala\"})})})]})]});};export default SurveyPart1;","map":{"version":3,"sources":["C:/Users/zantas92/Documents/Enkät/Client/src/components/SurveyPart1.js"],"names":["colorspectrum","Create3DArray","GetImageData","useNavigate","$","useEffect","Button","SurveyPart1","index","navigate","userData","undefined","document","getElementById","innerHTML","sessionStorage","getItem","window","setItem","JSON","stringify","parse","createPixelMask","SetImageValues","table","row","i","rows","j","col","cells","css","style","backgroundImage","cell","insertRow","insertCell","addEventListener","IncreaseOpacity","DecreaseOpacity","event","preventDefault","opacity_level","parseFloat","target","NextImage","saveData","Next","imageCount","PreviousImage","display","marginBottom","marginRight","marginLeft","width"],"mappings":"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","sourcesContent":["import colorspectrum from '../images/raw/large/Spectrum.png';\r\nimport Create3DArray from '../utils/Create3DArray';\r\nimport GetImageData from '../utils/GetImageData';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport $ from 'jquery';\r\nimport { useEffect } from \"react\";\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst SurveyPart1 = () => {\r\n    let index = 1;\r\n    let navigate = useNavigate();\r\n    var userData = undefined;\r\n   \r\n    \r\n\r\n    useEffect(() => {\r\n        document.getElementById(\"animal\").innerHTML =  GetImageData(index-1)[1];\r\n        if(sessionStorage.getItem('pixelData') == null) {\r\n            userData = Create3DArray(5,7,7);\r\n            window.sessionStorage.setItem('pixelData', JSON.stringify(userData));\r\n        }\r\n        else {\r\n            userData = JSON.parse(window.sessionStorage.getItem('pixelData'));\r\n        }\r\n        createPixelMask();\r\n        SetImageValues()        \r\n      },[])\r\n    \r\n    function SetImageValues() {\r\n        var table = document.getElementById('pixel_Table')\r\n        var row;\r\n        for (var i = 0, row; row = table.rows[i]; i++) {\r\n            for (var j = 0, col; col = row.cells[j]; j++) {\r\n                if(userData[index-1][i][j] != null) {\r\n                    $(col).css(\"opacity\", userData[index-1][i][j]);\r\n                }\r\n                else {\r\n                    $(col).css(\"opacity\", \"0.0\");\r\n                }\r\n            }\r\n        }\r\n        document.getElementById(\"pixel_Table\").style.backgroundImage = 'url(' + GetImageData(index-1)[0] + ')';\r\n    }\r\n\r\n    function createPixelMask(){\r\n\r\n        var table = document.getElementById(\"pixel_Table\");\r\n        var row;\r\n        var cell;\r\n        for(var i=0;i<7;i++){\r\n            row = table.insertRow(i);\r\n              for(var j=0;j<7;j++){\r\n                cell = row.insertCell(j);\r\n                cell.addEventListener('click', IncreaseOpacity);\r\n                cell.addEventListener('contextmenu', DecreaseOpacity)\r\n            }\r\n        }\r\n    }\r\n    \r\n    function DecreaseOpacity(event) {\r\n\t\tevent.preventDefault()\r\n\t\tvar opacity_level = parseFloat($(event.target).css(\"opacity\"));\r\n\t\tif (opacity_level > \"0.0\") {\r\n\t\t\topacity_level = opacity_level - 0.30;\r\n\t\t\t$(event.target).css(\"opacity\", opacity_level);\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tfunction IncreaseOpacity(event) {\r\n\t\tvar opacity_level = parseFloat($(event.target).css(\"opacity\"));\r\n\t\tif (opacity_level < \"0.9\") {\r\n\t\t\topacity_level = opacity_level + 0.30;\r\n\t\t\t$(event.target).css(\"opacity\", opacity_level);\r\n\t\t}\t\r\n\t}\r\n\r\n    function NextImage() {\r\n        saveData();\r\n        if(index == 5) {\r\n            Next();\r\n        }\r\n        else {     \r\n        index = index + 1;\r\n        var imageCount = index;\r\n        document.getElementById(\"headline\").innerHTML = \"Bild \" + imageCount + \" av 5\";\r\n        document.getElementById(\"animal\").innerHTML =  GetImageData(index-1)[1];\r\n        if(index == 5) {\r\n            document.getElementById(\"Next-button-part1\").innerHTML = \"Del 2\";\r\n        }\r\n        SetImageValues();\r\n        }\r\n    }\r\n\r\n    function PreviousImage() {\r\n        saveData();\r\n        if(index == 1) {\r\n            navigate('/home')\r\n        }\r\n        else {         \r\n            index = index - 1;\r\n            var imageCount = index;\r\n            document.getElementById(\"headline\").innerHTML = \"Bild \" + imageCount + \" av 5\";\r\n            document.getElementById(\"animal\").innerHTML =  GetImageData(index-1)[1];\r\n            if(index < 5) {\r\n                document.getElementById(\"Next-button-part1\").innerHTML = \"Nästa\";\r\n            }\r\n            SetImageValues();\r\n        }\r\n        }\r\n\r\n    function saveData() {\r\n        var table = document.getElementById('pixel_Table')\r\n    \t\tfor (var i = 0, row; row = table.rows[i]; i++) {\r\n        \t\tfor (var j = 0, col; col = row.cells[j]; j++) {\r\n                    userData[index-1][i][j] = $(col).css(\"opacity\");\r\n                }\r\n            } \r\n        window.sessionStorage.setItem('pixelData', JSON.stringify(userData));         \r\n    }\r\n\r\n    function Next() {\r\n        document.getElementById(\"SurveyPart1\").style.display = \"none\";\r\n        document.getElementById(\"SurveyPart2\").style.display = \"inline\";     \r\n    }\r\n\r\n\r\n    return (\r\n        <div id=\"SurveyPart1\">\r\n            <h1>Del 1</h1>\r\n            <h4 id=\"headline\">Bild 1 av 5</h4>\r\n                <h4 id=\"animal\"></h4>\r\n                    <table id=\"pixel_Table\"></table>\r\n                    <div>\r\n                        <Button id=\"Previous-button-part1\" style={{ marginBottom: \"20px\", marginRight: \"20px\", marginLeft: \"20px\", width: \"80px\"}} variant=\"outline-secondary\" onClick={PreviousImage}>Tillbaka</Button>\r\n                        <Button id=\"Next-button-part1\" style={{ marginBottom: \"20px\", marginRight: \"20px\", marginLeft: \"20px\", width: \"80px\"}} variant=\"outline-secondary\"onClick={NextImage}>Nästa</Button>       \r\n                    </div>\r\n                    <figure>\r\n                    <img src={colorspectrum} alt=\"Spektrum\" />\r\n                        <figcaption><abbr title=\"Högre nivå indikerar att rutan är viktigare för att kunna identifiera djuret.\"><h5>Gradskala</h5></abbr></figcaption>\r\n                    </figure>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SurveyPart1;"]},"metadata":{},"sourceType":"module"}